add_namespace = yale

country_event = { #Project is behind schedule
	id = yale.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.1"}
	title = yale.1.t
	desc = yale.1.d
	
	trigger = {
		tag = YAL
		has_idea = YAL_archives_construction
		NOT = { has_country_flag = negative_archives_event }
		NOT = { has_country_flag = positive_archives_event }
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	immediate = {
		set_country_flag = {
			flag = negative_archives_event
			days = 30
			value = 1
		}
	}
	
	option = {
		name = yale.1.a
		modify_timed_idea = {
			idea = YAL_archives_construction
			days = 15
		}
	}
}

country_event = { #Demand for more funding
	id = yale.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.2"}
	title = yale.2.t
	desc = yale.2.d
	
	trigger = {
		tag = YAL
		has_idea = YAL_archives_construction
		NOT = { has_country_flag = negative_archives_event }
		NOT = { has_country_flag = positive_archives_event }
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	immediate = {
		set_country_flag = {
			flag = negative_archives_event
			days = 30
			value = 1
		}
	}
	
	option = { #Increase funding
		name = yale.2.a
		add_political_power = -100
	}
	
	option = { #Refuse
		name = yale.2.b
		modify_timed_idea = {
			idea = YAL_archives_construction
			days = 30
		}
	}
}

country_event = { #Accident on the construction site
	id = yale.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.3"}
	title = yale.3.t
	desc = yale.3.d
	
	trigger = {
		tag = YAL
		has_idea = YAL_archives_construction
		NOT = { has_country_flag = negative_archives_event }
		NOT = { has_country_flag = positive_archives_event }
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	immediate = {
		set_country_flag = {
			flag = negative_archives_event
			days = 30
			value = 1
		}
	}
	
	option = {
		name = yale.3.a
		modify_timed_idea = {
			idea = YAL_archives_construction
			days = 45
		}
	}
}

country_event = { #Private donations
	id = yale.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.4"}
	title = yale.4.t
	desc = yale.4.d
	
	trigger = {
		tag = YAL
		has_idea = YAL_archives_construction
		NOT = { has_country_flag = negative_archives_event }
		NOT = { has_country_flag = positive_archives_event }
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	option = {
		name = yale.4.a
		modify_timed_idea = {
			idea = YAL_archives_construction
			days = -15
		}
		hidden_effect = {
			set_country_flag = {
				flag = positive_archives_event
				days = 30
				value = 1
			}
		}
	}
}

country_event = { #Project moving ahead of schedule
	id = yale.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.5"}
	title = yale.5.t
	desc = yale.5.d
	
	trigger = {
		tag = YAL
		has_idea = YAL_archives_construction
		NOT = { has_country_flag = negative_archives_event }
		NOT = { has_country_flag = positive_archives_event }
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	option = {
		name = yale.5.a
		modify_timed_idea = {
			idea = YAL_archives_construction
			days = -30
		}
		hidden_effect = {
			set_country_flag = {
				flag = positive_archives_event
				days = 30
				value = 1
			}
		}
	}
}

country_event = { #Hardworking griffons
	id = yale.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.6"}
	title = yale.6.t
	desc = yale.6.d
	
	trigger = {
		tag = YAL
		has_idea = YAL_archives_construction
		NOT = { has_country_flag = negative_archives_event }
		NOT = { has_country_flag = positive_archives_event }
	}
	
	mean_time_to_happen = {
		days = 30
	}
	
	option = {
		name = yale.6.a
		modify_timed_idea = {
			idea = YAL_archives_construction
			days = -45
		}
		hidden_effect = {
			set_country_flag = {
				flag = positive_archives_event
				days = 30
				value = 1
			}
		}
	}
}

news_event = { #Global event about archives being finished
	id = yale.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.7"}
	title = yale.7.t
	desc = yale.7.d
	
	is_triggered_only = yes
	
	option = {
		name = yale.7.a
	}
}

country_event = {
	id = yale.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.8"}
	title = yale.8.t
	desc = yale.8.d
	
	picture = GFX_event_buy_the_model_t
	is_triggered_only = yes
	
	option = {
		name = yale.8.a
		add_tech_bonus = {
				name = tank_research
				bonus = 100
				uses = 1
				category = armor
		}
	}
}

country_event = {
	id = yale.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.9"}
	title = yale.9.t
	desc = yale.9.d
	
	is_triggered_only = yes
	
	option = {
		name = yale.9.a
		set_country_flag = YAL_accepted_invitation
	}
	
	option = {
		trigger = { NOT = { tag = YAL } }
		name = yale.9.b
		YAL = {
			add_opinion_modifier = {
				target = ROOT
				modifier = declined_invitation
			}
		}
	}
}

country_event = {
	id = yale.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.10"}
	title = yale.10.t
	desc = yale.10.d
	
	trigger = {
		has_country_flag = YAL_accepted_invitation
		YAL = {
			has_completed_focus = YAL_learn_from_the_past
		}
		capital_scope = {
			is_on_continent = asia
		}
		has_idea = griffon_race
	}
	
	option = {
		name = yale.10.a
		add_ideas = YAL_archived_knowledge1
		hidden_effect = {
			add_timed_idea = {
				idea = YAL_archives_countdown
				days = 365
			}
		}
	} 
}

country_event = {
	id = yale.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.11"}
	title = yale.11.t
	desc = yale.11.d
	
	trigger = {
		OR = {
			has_idea = YAL_archived_knowledge1
			has_idea = YAL_archived_knowledge2
			has_idea = YAL_archived_knowledge3
			has_idea = YAL_archived_knowledge4
			has_idea = YAL_archived_knowledge5
			has_idea = YAL_archived_knowledge6
			has_idea = YAL_archived_knowledge7
			has_idea = YAL_archived_knowledge8
			has_idea = YAL_archived_knowledge9
		}
		NOT = { has_idea = YAL_archives_countdown }
	}
	
	hidden = yes
	
	option = {
		name = yale.11.a
		if = {
			limit = { has_idea = YAL_archived_knowledge1 }
			swap_ideas = {
				remove_idea = YAL_archived_knowledge1
				add_idea = YAL_archived_knowledge2
			}
		}
		else_if = {
			limit = { has_idea = YAL_archived_knowledge2 }
			swap_ideas = {
				remove_idea = YAL_archived_knowledge2
				add_idea = YAL_archived_knowledge3
			}
		}
		else_if = {
			limit = { has_idea = YAL_archived_knowledge3 }
			swap_ideas = {
				remove_idea = YAL_archived_knowledge3
				add_idea = YAL_archived_knowledge4
			}
		}
		else_if = {
			limit = { has_idea = YAL_archived_knowledge4 }
			swap_ideas = {
				remove_idea = YAL_archived_knowledge4
				add_idea = YAL_archived_knowledge5
			}
		}
		else_if = {
			limit = { has_idea = YAL_archived_knowledge5 }
			swap_ideas = {
				remove_idea = YAL_archived_knowledge5
				add_idea = YAL_archived_knowledge6
			}
		}
		else_if = {
			limit = { has_idea = YAL_archived_knowledge6 }
			swap_ideas = {
				remove_idea = YAL_archived_knowledge6
				add_idea = YAL_archived_knowledge7
			}
		}
		else_if = {
			limit = { has_idea = YAL_archived_knowledge7 }
			swap_ideas = {
				remove_idea = YAL_archived_knowledge7
				add_idea = YAL_archived_knowledge8
			}
		}
		else_if = {
			limit = { has_idea = YAL_archived_knowledge8 }
			swap_ideas = {
				remove_idea = YAL_archived_knowledge8
				add_idea = YAL_archived_knowledge9
			}
		}
		else_if = {
			limit = { has_idea = YAL_archived_knowledge9 }
			swap_ideas = {
				remove_idea = YAL_archived_knowledge9
				add_idea = YAL_archived_knowledge10
			}
		}
		hidden_effect = {
			add_timed_idea = {
				idea = YAL_archives_countdown
				days = 365
			}
		}
	} 
}

country_event = {
	id = yale.12  #A Letter from the past
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.12"}
	title = yale.12.t
	desc = yale.12.d
	
	is_triggered_only = yes
	
	option = {
		name = yale.12.a
		
	}
}

country_event = {
	id = yale.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.13"}
	title = yale.13.t
	desc = yale.13.d
	
	is_triggered_only = yes
	
	option = {
		name = yale.13.a
		custom_effect_tooltip = YAL_intellectual_support_tooltip
		hidden_effect = {
			add_to_variable = {
				var = YAL_intellectual_support
				value = 1
			}
		}
		custom_effect_tooltip = YAL_worker_support_tooltip
		hidden_effect = {
			subtract_from_variable = {
				var = YAL_vorker_support
				value = 1
			}
		}
	}
	
	option = {
		name = yale.13.b
		custom_effect_tooltip = YAL_worker_support_tooltip
		hidden_effect = {
			add_to_variable = {
				var = YAL_vorker_support
				value = 1
			}
		}
		custom_effect_tooltip = YAL_intellectual_support_tooltip
		hidden_effect = {
			subtract_from_variable = {
				var = YAL_intellectual_support
				value = 1
			}
		}
	}
}

country_event = {
	id = yale.14
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.14"}
	title = yale.14.t
	desc = yale.14.d
	
	is_triggered_only = yes
	
	option = {
		name = yale.14.a
		add_stability = -0.02
		custom_effect_tooltip = YAL_military_support_tooltip
		hidden_effect = {
			add_to_variable = {
				var = YAL_military_support
				value = 1
			}
		}
	}
}

country_event = {
	id = yale.15
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.15"}
	title = yale.15.t
	desc = yale.15.d
	
	is_triggered_only = yes
	
	option = {
		name = yale.15.a
		custom_effect_tooltip = YAL_military_support_tooltip
		hidden_effect = {
			add_to_variable = {
				var = YAL_intellectual_support
				value = 1
			}
		}
	}
	
	option = {
		name = yale.15.b
		custom_effect_tooltip = YAL_worker_support_tooltip
		hidden_effect = {
			add_to_variable = {
				var = YAL_worker_support
				value = 1
			}
		}
	}
}

country_event = {
	id = yale.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.16"}
	title = yale.16.t
	desc = yale.16.d
	
	is_triggered_only = yes
	
	option = {
		name = yale.16.a
		custom_effect_tooltip = YAL_military_support_tooltip
		hidden_effect = {
			add_to_variable = {
				var = YAL_intellectual_support
				value = 1
			}
		}
	}
	
	option = {
		name = yale.16.b
		custom_effect_tooltip = YAL_military_support_tooltip
		hidden_effect = {
			add_to_variable = {
				var = YAL_military_support
				value = 1
			}
		}
	}
}

country_event = {
	id = yale.25 #secede from dawnclaw
	immediate = {log = "[GetDateText]: [Root.GetName]: event yale.25"}
	title = yale.25.t
	desc = yale.25.d
	
	is_triggered_only = yes
	
	option = {
		name = yale.25.a
	}
}