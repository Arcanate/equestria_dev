add_namespace = zebra_zapata

country_event = { #The Revolution in the East
	id = zebra_zapata.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebra_zapata.1"}
	title = zebra_zapata.1.t
	desc = zebra_zapata.1.d

	picture = GFX_event_generic_pony_soldier
	is_triggered_only = yes

	option = { 
		name = zebra_zapata.1.a
		hidden_effect = {
		    set_country_flag = CTH_coltva_revolted
			for_each_scope_loop = {
                array = CVA.core_states
                if = {
                    limit = {
                        OR = {
                            is_owned_and_controlled_by = ROOT
                            owner = {
                                is_subject_of = ROOT
                            }
                        }
                    }
					remove_core_of = CTH
                    CVA = {
                        transfer_state = PREV
                    }
                }
            }
			declare_war_on = {
				target = CVA
				type = annex_everything
			}
			CVA = {
			    inherit_technology = ROOT
				set_cosmetic_tag = CVA_army
				load_oob = CVA_rebellion
				country_lock_all_division_template = yes
				complete_national_focus = CVA_the_revolution_has_begun
			}
		}
	}
	
	option = { 
	    trigger = {
			is_ai = no
		}
		name = zebra_zapata.1.b
		custom_effect_tooltip = CVA_switch_tag_tp
		hidden_effect = {
		    set_country_flag = CTH_coltva_revolted
			for_each_scope_loop = {
                array = CVA.core_states
                if = {
                    limit = {
                        OR = {
                            is_owned_and_controlled_by = ROOT
                            owner = {
                                is_subject_of = ROOT
                            }
                        }
                    }
					remove_core_of = CTH
                    CVA = {
                        transfer_state = PREV
                    }
                }
            }
			declare_war_on = {
				target = CVA
				type = annex_everything
			}
			CVA = {
			    inherit_technology = ROOT
				set_cosmetic_tag = CVA_army
				load_oob = CVA_rebellion
				country_lock_all_division_template = yes
				complete_national_focus = CVA_the_revolution_has_begun
				change_tag_from = ROOT
			}
		}
	}
}

country_event = { #The Implementation of Land Reforms in Coltva
	id = zebra_zapata.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebra_zapata.2"}
	title = zebra_zapata.2.t
	desc = zebra_zapata.2.d

	picture = GFX_farm_event
	is_triggered_only = yes

	option = {
		name = zebra_zapata.2.a
		add_political_power = 50
		add_stability = 0.05
		add_war_support = 0.05
	}
}

country_event = { #Zebra Zapata Wins the Civil War On His Own
	id = zebra_zapata.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebra_zapata.3"}
	title = zebra_zapata.3.t
	desc = zebra_zapata.3.d

	picture = GFX_event_generic_pony_diplomacy
	is_triggered_only = yes

	option = {
		name = zebra_zapata.3.a
	}
}

country_event = { #Zebra Zapata Wins the Civil War Against The Constitutionalists
	id = zebra_zapata.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebra_zapata.4"}
	title = zebra_zapata.4.t
	desc = zebra_zapata.4.d

	picture = GFX_event_generic_pony_diplomacy
	is_triggered_only = yes

	option = {
		name = zebra_zapata.4.a
	}
}

country_event = { #Zebra Zapata's Loyalists Win the Civil War Against The Constitutionalists
	id = zebra_zapata.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebra_zapata54"}
	title = zebra_zapata.5.t
	desc = zebra_zapata.5.d

	picture = GFX_event_generic_pony_diplomacy
	is_triggered_only = yes

	option = {
		name = zebra_zapata.5.a
	}
}

country_event = { #Constitutionalists Give Coltva what it wants (Insert trigger once Colthage gets more development)
	id = zebra_zapata.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebra_zapata54"}
	title = zebra_zapata.6.t
	desc = zebra_zapata.6.d

	picture = GFX_event_generic_pony_diplomacy
	is_triggered_only = yes

	option = {
		name = zebra_zapata.6.a
		CTC = {
			puppet = CVA
		} 
		set_politics = { 
			ruling_party = democratic 
		}
		remove_ideas = CVA_the_fight_for_independence
		add_stability = 0.05
		add_political_power = 50
		hidden_effect = {
		    complete_national_focus = CVA_the_end_of_the_junta
			set_popularities = {
				democratic = 44
				fascism = 0
				communism = 42
				neutrality = 14
			}
			set_country_flag = CVA_cant_ban_neutrality
			set_country_flag = CVA_finished_the_revolution
			drop_cosmetic_tag = yes
			set_cosmetic_tag = CVA_constitutionalist_puppet
		}
	}
}

country_event = { #Constitutionalists Don't give Coltva what it wants but Zapata is alive (Insert trigger once Colthage gets more development)
	id = zebra_zapata.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebra_zapata54"}
	title = zebra_zapata.7.t
	desc = zebra_zapata.7.d

	picture = GFX_event_generic_pony_diplomacy
	is_triggered_only = yes

	option = {
		name = zebra_zapata.7.a
	}
}

country_event = { #Constitutionalists Don't give Coltva what it wants but Zapata is dead (Insert trigger once Colthage gets more development)
	id = zebra_zapata.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event zebra_zapata54"}
	title = zebra_zapata.8.t
	desc = zebra_zapata.8.d

	picture = GFX_event_generic_pony_diplomacy
	is_triggered_only = yes

	option = {
		name = zebra_zapata.8.a
	}
}