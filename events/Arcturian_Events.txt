add_namespace = arcturian
add_namespace = arcturian_border_war

###Intro

country_event = {
	id = arcturian.1
	title = arcturian.1.t
	desc = arcturian.1.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = no

	trigger = {
		tag = HLR
		date > 1007.1.1
	}

	mean_time_to_happen = {
		days = 1
	}

	option = {
		name = arcturian.1.a
		add_political_power = 5
	}

}


###Headmaster succession explanation

country_event = {
	id = arcturian.2
	title = arcturian.2.t
	desc = arcturian.2.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.2.a

	}

}

###Economy recovered event

country_event = {
	id = arcturian.3
	title = arcturian.3.t
	desc = arcturian.3.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.3.a

	}

}

###Dread attack event

country_event = {
	id = arcturian.4
	title = arcturian.4.t
	desc = arcturian.4.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.4.a

	}

}

###Rosa goes missing
country_event = {
	id = arcturian.5
	title = arcturian.5.t
	desc = arcturian.5.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.5.a
		hidden_effect = {
			set_country_flag = Rosa_Dissappeared
		}
	}
}


###Rosa Redeemed
country_event = {
	id = arcturian.6
	title = arcturian.6.t
	desc = arcturian.6.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.6.a

		if = {
			limit = {
				has_country_flag = DED_Went_Blood
			}
			create_corps_commander = {
				name = "Rosa Maledicta Redeemed Vampire"
				portrait_path = "gfx/leaders/DED/Rosa_vampire.tga"
				traits = { redeemed_queen  }
				skill = 3
				attack_skill = 5
				defense_skill = 2
				planning_skill = 3
				logistics_skill = 2
			}
			else = {
				create_corps_commander = {
					name = "Rosa Maledicta Redeemed Lich"
					portrait_path = "gfx/leaders/DED/Rosa_lich.tga"
					traits = { redeemed_queen  }
					skill = 3
					attack_skill = 5
					defense_skill = 2
					planning_skill = 3
					logistics_skill = 2
				}
			}
		}

	}

}

###War trials event
country_event = {
	id = arcturian.7
	title = arcturian.7.t
	desc = arcturian.7.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.7.a
	}

}

###HLR call for help
country_event = {
	id = arcturian.8
	title = arcturian.8.t
	desc = arcturian.8.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.8.a
		trigger = { has_manpower > 5000 }
		add_manpower = -5000
		hidden_effect = {
			add_ai_strategy = {
				type = support
				id = FROM
				value = 200
			}
		}
		country_event = { id = arcturian.9 days = 1 }
		ai_chance = {
			factor = 2.5
			modifier = {
				factor = 0.2
				has_war = yes
			}
		}
	}
	option = {
		name = arcturian.8.b
		trigger = { has_equipment = { infantry_equipment > 499 } }
		send_equipment = { target = FROM type = infantry_equipment amount = 500 }
		hidden_effect = {
			add_ai_strategy = {
				type = support
				id = FROM
				value = 200
			}
		}
		country_event = { id = arcturian.10 days = 1 }
		ai_chance = {
			factor = 2
			modifier = {
				factor = 0.2
				has_war = yes
			}
		}
	}
	option = {
		name = arcturian.8.c
		country_event = { id = arcturian.11 days = 1 }
		ai_chance = {
			factor = 1
		}
	}

}

###HLR gets manpower
country_event = {
	id = arcturian.9
	title = arcturian.9.t
	desc = arcturian.9.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.9.a
		add_manpower = 5000
	}

}

###HLR gets guns
country_event = {
	id = arcturian.10
	title = arcturian.10.t
	desc = arcturian.10.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.10.a
		effect_tooltip = {
			FROM = { send_equipment = { target = ROOT type = infantry_equipment amount = 500 } }
		}
	}

}

###HLR gets nothing
country_event = {
	id = arcturian.11
	title = arcturian.11.t
	desc = arcturian.11.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.11.a
	}

}

###Arcturian diplomacy events
country_event = {
	id = arcturian.12
	title = arcturian.12.t
	desc = arcturian.12.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = { #yes
		name = arcturian.12.a
		DED = {
			country_event = {id = deadempire.16 days = 6}
		}
	}
	option = { #no
		name = arcturian.12.b
		DED = {
			country_event = {id = deadempire.15 days = 6}
		}
	}

}

#Rosa is trying to corrupt the HLR leader
country_event = {
	id = arcturian.13
	title = arcturian.13.t
	desc = arcturian.13.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = { #success
		name = arcturian.13.a
		DED = {
			country_event = {id = deadempire.17 days = 1}
		}
		#complete_national_focus = HLR_Dealing_With_The_Devil
	}
	option = { #fail
		name = arcturian.13.b
		DED = {
			country_event = {id = deadempire.18 days = 1}
		}
		#complete_national_focus = HLR_Dealing_With_The_Devil
	}

}

#Rosa is trying to bluff about reforming
country_event = {
	id = arcturian.14
	title = arcturian.14.t
	desc = arcturian.14.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = { #success
		name = arcturian.14.a
		DED = {
			country_event = {id = deadempire.19 days = 1}
		}
		#complete_national_focus = HLR_Dealing_With_The_Devil
	}
	option = { #fail
		name = arcturian.14.b
		DED = {
			country_event = {id = deadempire.20 days = 1}
		}
		#complete_national_focus = HLR_Dealing_With_The_Devil
	}

}

#Rosa continues corrupting the HLR leader and spends some more time with him then asks for him and the HLR to join her
country_event = {
	id = arcturian.15
	title = arcturian.15.t
	desc = arcturian.15.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = { #yes
		name = arcturian.15.a
		DED = {
			country_event = {id = deadempire.21 days = 1}
		}
		#complete_national_focus = HLR_more_in_common_than_you_think
	}
	option = { #no
		name = arcturian.15.b
		DED = {
			country_event = {id = deadempire.22 days = 1}
		}
	}

}

country_event = { #Rosa reconsiders and says she wants to reform
	id = arcturian.16
	title = arcturian.16.t
	desc = arcturian.16.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.16.a
		DED = {
			country_event = {id = deadempire.24 days = 1}
		}
		#complete_national_focus = HLR_this_is_not_the_way_rosa
	}

}

country_event = { #Rosa tells the leader to get bent
	id = arcturian.17
	title = arcturian.17.t
	desc = arcturian.17.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.17.a
		DED = {
			country_event = {id = deadempire.23 days = 1}
		}
	}

}

country_event = { #After meeting with Rosa she seems to want to repent
	id = arcturian.18
	title = arcturian.18.t
	desc = arcturian.18.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.18.a
		DED = {
			country_event = {id = deadempire.24 days = 1}
		}
		#complete_national_focus = HLR_this_is_not_the_way_rosa
	}

}

country_event = { #Rosa tells the leader to get bent and she's annoyed she couldn't point out their hypocrisy
	id = arcturian.19
	title = arcturian.19.t
	desc = arcturian.19.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.19.a
		DED = {
			country_event = {id = deadempire.23 days = 1}
		}
	}

}

#Rosa points out the HLR is a mess and they're not so different, she asks them to join her
country_event = {
	id = arcturian.20
	title = arcturian.20.t
	desc = arcturian.20.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = { #yes
		name = arcturian.20.a
		DED = {
			country_event = {id = deadempire.21 days = 1}
		}
		#complete_national_focus = HLR_more_in_common_than_you_think
	}
	option = { #no
		name = arcturian.20.b
		DED = {
			country_event = {id = deadempire.22 days = 1}
		}
	}

}

#DED tried to undermine the HLR and failed
country_event = {
	id = arcturian.21
	title = arcturian.21.t
	desc = arcturian.21.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.21.a

	}

}

#DED poisoned us
country_event = {
	id = arcturian.22
	title = arcturian.22.t
	desc = arcturian.22.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.22.a

	}

}

#DED terrorised us
country_event = {
	id = arcturian.23
	title = arcturian.23.t
	desc = arcturian.23.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.23.a

	}

}

#DED sabotaged us
country_event = {
	id = arcturian.24
	title = arcturian.24.t
	desc = arcturian.24.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.24.a

	}

}

#HLR removed the sabotage
country_event = {
	id = arcturian.25
	title = arcturian.25.t
	desc = arcturian.25.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.25.a

		if = {
			limit = {
				HLR = {
					has_country_flag = HLR_poison_attack
				}
			}
			HLR = {
				remove_ideas = HLR_poison_idea
			}
		}

		if = {
			limit = {
				HLR = {
					has_country_flag = HLR_terror_attack
				}		
			}
			HLR = {
				remove_ideas = HLR_terror_idea
			}
		}

		if = {
			limit = {
				HLR = {
					has_country_flag = HLR_sabotage_attack
				}
			}
			HLR = {
				remove_ideas = HLR_sabotage_idea
			}
		}

		hidden_effect = {
			clr_country_flag = HLR_attacked
			clr_country_flag = HLR_poison_attack
			clr_country_flag = HLR_terror_attack
			clr_country_flag = HLR_sabotage_attack
		}
	}

}

#HLR failed to remove the sabotage
country_event = {
	id = arcturian.48
	title = arcturian.48.t
	desc = arcturian.48.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.48.a

	}

}

#Rosa is executed
country_event = {
	id = arcturian.26
	title = arcturian.26.t
	desc = arcturian.26.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.26.a
		add_political_power = 200
		hidden_effect = {
			country_event = {id = arcturian.27 days = 10}
		}
	}

}

#Problems in the dread peninsula
country_event = {
	id = arcturian.27
	title = arcturian.27.t
	desc = arcturian.27.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.27.a
		country_event = {id = arcturian.28 days = 60}
	}
	option = {
		name = arcturian.27.b
		country_event = {id = arcturian.29 days = 60}
	}
}

#People dissapear because nothing happened
country_event = {
	id = arcturian.28
	title = arcturian.28.t
	desc = arcturian.28.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.28.a
	}
	option = {
		name = arcturian.28.b
	}
}

#Expedition uncovers strange activity
country_event = {
	id = arcturian.29
	title = arcturian.29.t
	desc = arcturian.29.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.29.a
	}
	option = {
		name = arcturian.29.b
	}
}

#Decision to reform Rosa
country_event = {
	id = arcturian.30
	title = arcturian.30.t
	desc = arcturian.30.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.30.a

		if = {
			limit = {
				HLR = {
					has_government = democratic
				}
			}
			country_event = { id = arcturian.31 days = 12 }
		}

		if = {
			limit = {
				HLR = {
					has_government = neutrality
				}
			}
			country_event = { id = arcturian.32 days = 12 }
		}

		hidden_effect = {
			set_variable = {var = RosaReformCounter value = 1}
		}
	}
}

#Initial meeting of Rosa, William variant
country_event = {
	id = arcturian.31
	title = arcturian.31.t
	desc = arcturian.31.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.31.a
		hidden_effect = {
			country_event = {id = arcturian.34 days = 1}
		}
	}
	option = {
		name = arcturian.31.b
		hidden_effect = {
			country_event = {id = arcturian.33 days = 1}
		}

	}
}

#Initial meeting of Rosa, Ostwald variant
country_event = {
	id = arcturian.32
	title = arcturian.32.t
	desc = arcturian.32.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.32.a
		hidden_effect = {
			country_event = {id = arcturian.34 days = 1}
		}
	}
	option = {
		name = arcturian.32.b
		hidden_effect = {
			country_event = {id = arcturian.33 days = 1}
		}
	}
}

#Rosa didn't like that
country_event = {
	id = arcturian.33
	title = arcturian.33.t
	desc = arcturian.33.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.33.a
		country_event = {id = arcturian.37 days = 12}
	}
}

#Rosa seems thoughtful
country_event = {
	id = arcturian.34
	title = arcturian.34.t
	desc = arcturian.34.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.34.a
		country_event = {id = arcturian.37 days = 12}
		hidden_effect = {
			add_to_variable = {var = RosaReformCounter value = 1}
		}
	}
}

#Pony wants to make friends with Rosa
country_event = {
	id = arcturian.37
	title = arcturian.37.t
	desc = arcturian.37.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.37.a
		hidden_effect = {
			country_event = {id = arcturian.38 days = 1}
		}
	}
	option = {
		name = arcturian.37.b
		hidden_effect = {
			country_event = {id = arcturian.39 days = 1}
		}
	}
}

#Rosa didn't like that
country_event = {
	id = arcturian.38
	title = arcturian.38.t
	desc = arcturian.38.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.38.a
		country_event = {id = arcturian.40 days = 12}
	}
}

#Rosa makes a friend
country_event = {
	id = arcturian.39
	title = arcturian.39.t
	desc = arcturian.39.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.39.a
		country_event = {id = arcturian.40 days = 12}
		hidden_effect = {
			add_to_variable = {var = RosaReformCounter value = 1}
		}
	}
}

#Rosa worries she is too scary and corrupted
country_event = {
	id = arcturian.40
	title = arcturian.40.t
	desc = arcturian.40.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.40.a
		hidden_effect = {
			country_event = {id = arcturian.41 days = 1}
		}
	}
	option = {
		name = arcturian.40.b
		hidden_effect = {
			country_event = {id = arcturian.42 days = 1}
		}
	}
}

#Rosa didn't like that
country_event = {
	id = arcturian.41
	title = arcturian.41.t
	desc = arcturian.41.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.41.a
		country_event = {id = arcturian.43 days = 24}
	}
}

#Rosa's fears are assuaged
country_event = {
	id = arcturian.42
	title = arcturian.42.t
	desc = arcturian.42.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.42.a
		country_event = {id = arcturian.43 days = 24}
		hidden_effect = {
			add_to_variable = {var = RosaReformCounter value = 1}
		}
	}
}

#Rosa's final test
country_event = {
	id = arcturian.43
	title = arcturian.43.t
	desc = arcturian.43.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.43.a

		hidden_effect = {
			add_to_variable = {var = RosaReformCounter value = 1}

			if = {
				limit = {check_variable = {RosaReformCounter > 2}}
				country_event = {id = arcturian.6 days = 12}
				else = {
					country_event = {id = arcturian.5 days = 12}
				}
			}
		}
	}
	option = {
		name = arcturian.43.a
		hidden_effect = {
			if = {
				limit = {check_variable = {RosaReformCounter > 2}}
				country_event = {id = arcturian.6 days = 12}
				else = {
					country_event = {id = arcturian.5 days = 12}
				}
			}
		}
	}
}

#The investigation
country_event = {
	id = arcturian.44
	title = arcturian.44.t
	desc = arcturian.44.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.44.a
		country_event = {id = arcturian.45 days = 45}
	}
}

#Investigation finds the changeling murdered
country_event = {
	id = arcturian.45
	title = arcturian.45.t
	desc = arcturian.45.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.45.a
		country_event = {id = arcturian.46 days = 70}
	}
}

#Country leader is weirded out by the changeling death and orders an investigation party into the dread lands
country_event = {
	id = arcturian.46
	title = arcturian.46.t
	desc = arcturian.46.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.46.a
	}
}

#The Expedition returns. The Windegos attack!
country_event = {
	id = arcturian.47
	title = arcturian.47.t
	desc = arcturian.47.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.47.a
		hidden_effect = {
			EWI = {
				transfer_state = 415
				transfer_state = 416
				transfer_state = 417
				transfer_state = 418
				transfer_state = 419
				transfer_state = 420
				load_oob = EWI_Attack_Troops
				add_manpower = 1000000
				add_equipment_to_stockpile = { type = infantry_weapons amount = 10000 producer = EWI}
				add_equipment_to_stockpile = { type = support_equipment amount = 1000 producer = EWI}
				add_equipment_to_stockpile = { type = gw_artillery amount = 1000 producer = EWI}
				add_equipment_to_stockpile = { type = early_fighter amount = 100 producer = EWI}
				declare_war_on = { target = HLR type = annex_everything }
			}
		}
	}
}

#DED Wins border war state takeover event
country_event = {
	id = arcturian.36
	title = arcturian.36.t
	desc = arcturian.36.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.36.a

		DED = {
			transfer_state = State_HLR_Owns
		}

		hidden_effect = {
			clear_variable = State_HLR_Owns
			clear_variable = State_DED_Owns
		}
	}
}

#HLR Wins border war state takeover event
country_event = {
	id = arcturian.35
	title = arcturian.35.t
	desc = arcturian.35.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian.35.a

		HLR = {
			transfer_state = State_DED_Owns
		}

		hidden_effect = {
			clear_variable = State_HLR_Owns
			clear_variable = State_DED_Owns
		}
	}
}

###Border war events

###DED wins
country_event = {
	id = arcturian_border_war.1
	title = arcturian_border_war.1.t
	desc = arcturian_border_war.1.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian_border_war.1.a

		HLR = {
			country_event = {id = arcturian.36 days = 1}
		}
		DED = {
			country_event = {id = deadempire.46 days = 1}
		}
	}

}

###HLR wins
country_event = {
	id = arcturian_border_war.2
	title = arcturian_border_war.2.t
	desc = arcturian_border_war.2.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian_border_war.2.a

		HLR = {
			country_event = {id = arcturian.35 days = 1}
		}
		DED = {
			country_event = {id = deadempire.47 days = 1}
		}
	}

}

###Cancelled
country_event = {
	id = arcturian_border_war.3
	title = arcturian_border_war.3.t
	desc = arcturian_border_war.3.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian_border_war.3.a

		ROOT = {
			add_political_power = -50
			add_manpower = -1000
		}
	}

}

###DED wins
country_event = {
	id = arcturian_border_war.4
	title = arcturian_border_war.1.t
	desc = arcturian_border_war.1.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian_border_war.1.a

		DED = {
			add_manpower = 5000
		}
		HLR = {
			add_manpower = -5000
		}
	}

}

###HLR wins
country_event = {
	id = arcturian_border_war.5
	title = arcturian_border_war.2.t
	desc = arcturian_border_war.2.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian_border_war.2.a

		HLR = {
			declare_war_on = { target = DED type = annex_everything }
		}
	}

}

###Cancelled
country_event = {
	id = arcturian_border_war.6
	title = arcturian_border_war.3.t
	desc = arcturian_border_war.3.d
	picture = GFX_event_camelot

	fire_only_once = yes
	is_triggered_only = yes

	option = {
		name = arcturian_border_war.3.a

		ROOT = {
			add_political_power = -50
			add_manpower = -1000
		}
	}

}
