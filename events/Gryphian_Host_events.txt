add_namespace = gryphianhost

country_event = {
	id = gryphianhost.100
	immediate = {log = "[Root.GetName]: event gryphianhost.100"}#Auto-logging
	title = gryphianhost.100.t
	desc = gryphianhost.100.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	fire_only_once = yes
	option = { # yes
		name = gryphianhost.100.a
		GRW = { country_event = griffonwill.102 }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 2
				has_government = communism
			}
			modifier = {
				factor = 2
				has_opinion = { target = GRW value > 30 }
			}
			modifier = {
				add = 2
				communism > 0.4
			}
		}
	}
	option = { # no
		name = gryphianhost.100.b
		GRW = { country_event = griffonwill.1012 }
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {
	id = gryphianhost.101
	immediate = {log = "[Root.GetName]: event gryphianhost.101"}#Auto-logging
	title = gryphianhost.101.t
	desc = gryphianhost.101.d
	picture = GFX_event_griffon_mountain
	
	trigger = {
		OR = {
			original_tag = GRY
			original_tag = LUS
		}
		GRW = {
			has_completed_focus = GRW_annex_Lushi
			OR = {
				has_offensive_war_with = GRY
				has_offensive_war_with = LUS
			}
		}
		NOT = {
			has_war_with = GRW
			is_subject_of = GRW
		}
	}
	
	fire_only_once = yes
	option = { # yes
		name = gryphianhost.101.a
		declare_war_on = { target = GRW type = puppet_wargoal_focus }
		ai_chance = {
			factor = 1
			modifier = {
				factor = 30
				NOT = { has_government = communism }
			}
		}
	}
	option = { # no
		name = gryphianhost.101.b
		ai_chance = {
			factor = 1
		}
	}
}

country_event = {#Raid event, did you succeed?
	id = gryphianhost.102
	title = gryphianhost.102.t
	desc = gryphianhost.102.d
	picture = GFX_event_griffon_mountain
	
	trigger = {
		original_tag = GRY
		OR = {
		has_country_flag = GRY_raiding_brodfeld
		has_country_flag = GRY_raiding_radicals
		}
	}
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 7
	}
	
	option = {#Successful raid
	name = gryphianhost.102.a
		if = {
			limit = {
				has_country_flag = GRY_raiding_brodfeld
			}
				add_timed_idea = {idea = GRY_consumer_bonus days = 365}
		  	 set_country_flag = GRY_raid_succeeded
			BRF = {
				add_timed_idea = {idea = GRY_raided days = 186}
			}
		}

	 else_if = {
		limit = {
				has_country_flag = GRY_raiding_radicals
			}
		 		add_equipment_to_stockpile = { type = infantry_equipment amount = 500 producer = GRW }
				add_timed_idea = {idea = GRY_research_bonus days = 365}

		set_country_flag = GRY_raid_succeeded
			GRW = {
				add_timed_idea = {idea = GRY_raided days = 186}
				}
		}

	}
	option = {#Raid fails
		name = gryphianhost.102.b
		add_political_power = 20
		add_stability = -0.02
		set_country_flag = GRY_raid_failed
	}
}

country_event = {#Proclamation of the Kaiv Commune
	id = gryphianhost.103
	title = gryphianhost.103.t
	desc = gryphianhost.103.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#Cool
	name = gryphianhost.103.a
	set_politics = { ruling_party = communism elections_allowed = no }
	add_stability = 0.05
}
}

country_event = {#Ask GLA for an alliance
	id = gryphianhost.104
	title = gryphianhost.104.t
	desc = gryphianhost.104.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#say yes - AI should always accept
	 name = gryphianhost.104.a
	 ai_chance = { factor = 100 }
	 if = {
	   limit = {
		is_faction_leader = no
	 }
	 create_faction = "Griffonian People's Front"
	}
	 add_to_faction = FROM
	}
	option = {#say no - AI should never do this
	 name = gryphianhost.104.b
	 ai_chance = { factor = 0}
	}
}

country_event = {#RCT is asked for an alliance//unlikely to work, cannot happen unless Wavebreaker was elected in LCT
	id = gryphianhost.105
	title = gryphianhost.105.t
	desc = gryphianhost.105.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {#say yes, no consequences. This should only show up if Wavebreaker was elected - AI should always accept
	 name = gryphianhost.105.a
	 ai_chance = { factor = 100 }
	 trigger = {
		has_global_flag = LCT_wavebreaker_elected
	 }
	 add_to_faction = GRY
	 LCT = { 
	  country_event = { id = gryphianhost.108}
	  add_opinion_modifier = { target = RCT modifier = accepted_our_enemies_into_fed }
	 }
	 WIT = {
	  country_event = { id = gryphianhost.108}
	  add_opinion_modifier = { target = RCT modifier = accepted_our_enemies_into_fed }
	 }
	 GRY = {
	  add_opinion_modifier = { target = RCT modifier = accepted_us }
	  country_event = { id = gryphianhost.106 }
	 }
	}
	option = {#say yes, with consequences - AI should never pick this option but if they player wants to...
	 name = gryphianhost.105.b
	 ai_chance = { factor = 0 }
	 trigger = {
	  NOT = {
	   has_global_flag = LCT_wavebreaker_elected
	  }
	 }
	 add_to_faction = GRY
	 remove_from_faction = LCT
	 remove_from_faction = WIT
	 LCT = { 
	  add_opinion_modifier = { target = RCT modifier = accepted_our_enemies_into_fed }
	  country_event = { id = gryphianhost.110 }
	 }
	 WIT = {
	  add_opinion_modifier = { target = RCT modifier = accepted_our_enemies_into_fed }
	  country_event = { id = gryphianhost.110 }
	 }
	 GRY = {
	  add_opinion_modifier = { target = RCT modifier = accepted_us }
	  country_event = { id = gryphianhost.106 }
	 }
	}
	option = {#Just say no
	name = gryphianhost.105.c
	 GRY = {
	  country_event = { id = gryphianhost.107 }
	 }
	 WIT = {
	  country_event = { id = gryphianhost.109 }
	 }
	 LCT = {
	  country_event = { id = gryphianhost.109 }
	 }
	}
}

country_event = {#GRY is informed of RCT's acceptance
	id = gryphianhost.106
	title = gryphianhost.106.t
	desc = gryphianhost.106.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.106.a
	 clr_country_flag = GRY_waiting_for_response
	}
}

country_event = {#GRY is informed of RCT's refusal
	id = gryphianhost.107
	title = gryphianhost.107.t
	desc = gryphianhost.107.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.106.a
	 clr_country_flag = GRY_waiting_for_response
	}
}

country_event = {#LCT and WIT are informed of RCT's acceptance of GRY (the version where they put up with it)
	id = gryphianhost.108
	title = gryphianhost.108.t
	desc = gryphianhost.108.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.108.a
	}
}

country_event = {#LCT and WIT informed of RCT's refusal
	id = gryphianhost.109
	title = gryphianhost.109.t
	desc = gryphianhost.109.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.109.a
	}
}

country_event = {#LCT and WIT informed of RCT's acceptance (the version where they leave
	id = gryphianhost.110
	title = gryphianhost.110.t
	desc = gryphianhost.110.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.110.a
	}
}

country_event = {#Ask WNG for an alliance. Might want to use this for all the similar events, like the one for JER and FAT
	id = gryphianhost.111
	title = gryphianhost.111.t
	desc = gryphianhost.111.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.111.a
	 if = {
	  limit = {
	   tag = JER
	   is_in_faction = no
	  }
	  create_faction = "Entente"
	 }
	 else_if = {
	  limit = {
	   tag = FAT
	   is_in_faction = no
	  }
	  create_faction = "Pan-Griffonian Republic"
	 }
	 add_to_faction = FROM
	 FROM = {
	  country_event = { id = gryphianhost.112 days = 1 }
	 }
	}
	option = {
	 name = gryphianhost.111.b
	 FROM = {
	  country_event = { id = gryphianhost.113 days = 1 }
	 }
	}
}

country_event = {#GRY informed of WNG's acceptance
	id = gryphianhost.112
	title = gryphianhost.112.t
	desc = gryphianhost.112.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.112.a
	 if = {
	  limit = {
	   is_in_faction_with = WNG
	  }
	  	 set_country_flag = GRY_WNG_accepted
		 clr_country_flag = GRY_waiting_for_response
	 }
	 else_if = {
	  limit = {
	   is_in_faction_with = JER
	  }
	  	 set_country_flag = GRY_JER_accepted
		 clr_country_flag = GRY_waiting_for_response
	 }
	 else_if = {
	  limit = {
	   is_in_faction_with = FAT
	  }
	  	 set_country_flag = GRY_FAT_accepted
		 clr_country_flag = GRY_waiting_for_response
	 }
	}
}

country_event = {#GRY informed of WNG's rejection
	id = gryphianhost.113
	title = gryphianhost.113.t
	desc = gryphianhost.113.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
	 name = gryphianhost.113.a
	  clr_country_flag = GRY_waiting_for_response
	}
}