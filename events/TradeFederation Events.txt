add_namespace = tradefed

country_event = { #The Freie Reiter
	id = tradefed.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.1"}
	title = tradefed.1.t
	desc = tradefed.1.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
		name = tradefed.1.a
		custom_effect_tooltip = TRD_leopolds_knights
		create_corps_commander = {
			name = "Leopold Weinreich"
			portrait_path = "gfx/leaders/Asia/portrait_griffon_generic_land_9.dds"
			traits = { war_hero infantry_expert }
			skill = 3
			attack_skill = 3
			defense_skill = 2
			planning_skill = 2
			logistics_skill = 2
		}
		hidden_effect = {
		    load_oob = "TRD_leopold_knight"
		}
	}
}

country_event = { #Mage Company
	id = tradefed.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.2"}
	title = tradefed.2.t
	desc = tradefed.2.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
		name = tradefed.2.a
		custom_effect_tooltip = TRD_arclight_tp
		create_corps_commander = {
			name = "Arclight De Liny"
			picture = "Governor.tga"
			traits = { trait_reckless trickster ranger }
			skill = 2
			attack_skill = 1
			defense_skill = 3
			planning_skill = 1
			logistics_skill = 2
			id = 25469
		}
		hidden_effect = {
			if = {
				limit = { NOT = { has_tech = tech_unicorn } }
				set_technology = { tech_unicorn = 1 }
			}
		}
	}
}

country_event = { #Pegasi
	id = tradefed.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.3"}
	title = tradefed.3.t
	desc = tradefed.3.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
		name = tradefed.3.a
		custom_effect_tooltip = TRD_cloud_tp
		create_corps_commander = {
			name = "Cloud Jet"
			portrait_path = "gfx/leaders/TRD/Governor.tga"
			traits = { career_officer urban_assault_specialist }
			skill = 2
			attack_skill = 2
			defense_skill = 2
			planning_skill = 2
			logistics_skill = 1
			id = 25470
		}
		hidden_effect = {
		    load_oob = "TRD_cloud_pegasi"
			if = {
				limit = { NOT = { has_tech = tech_pegasi } }
				set_technology = { tech_pegasi = 1 }
			}
		}
	}
}

country_event = { #Brawl
	id = tradefed.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.4"}#Auto-logging
	title = tradefed.4.t
	desc = tradefed.4.d
	picture = GFX_event_griffon_mountain
	trigger = {
		original_tag = TRD
		has_completed_focus = TRD_archlights_mages
		has_completed_focus = TRD_clouds_pegasi
	}
	mean_time_to_happen = {
		months = 6
	}
	option = {
		name = tradefed.4.a
		add_political_power = -5
		add_manpower = -10
		add_stability = -0.01
	}
}

country_event = { #Murder Within the Ranks
	id = tradefed.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.5"}#Auto-logging
	title = tradefed.5.t
	desc = tradefed.5.d
	picture = GFX_event_griffon_mountain
	trigger = {
		original_tag = TRD
		has_completed_focus = TRD_archlights_mages
		has_completed_focus = TRD_clouds_pegasi
	}
	mean_time_to_happen = {
		months = 7
	}
	option = {
		name = tradefed.5.a
		add_political_power = -5
		add_manpower = -1
		add_war_support = -0.01
	}
}

country_event = { #Amethyst's Fleet
	id = tradefed.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.6"}
	title = tradefed.6.t
	desc = tradefed.6.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
		name = tradefed.6.a
		custom_effect_tooltip = TRD_pirate_fleet_tp
		create_navy_leader = {
	    name = "Amethyst Rose"
	        picture = "PiratePone.tga"
	        traits = { bold }
	        skill = 2
	        attack_skill = 2
	        defense_skill = 1
	        maneuvering_skill = 3
	        coordination_skill = 2
        }
		hidden_effect = {
			if = {
	            limit = {
		            has_dlc = "Man the Guns"
	            }
	            load_oob = "TRD_pirate_fleet"
	        else = {
		        load_oob = "TRD_pirate_fleet_2"
				}
	        }
		}
	}
}

country_event = { #Trading
	id = tradefed.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.7"}
	title = tradefed.7.t
	desc = tradefed.7.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = { #Accept
		name = tradefed.7.a
		ai_chance = {
			factor = 90
		}
		custom_effect_tooltip = TRD_skyfall_trade_tp
		hidden_effect = {
		    FROM = { country_event = { days = 15 id = tradefed.8 } }
		}
	}
	
	option = { #Decline
		name = tradefed.7.b
		ai_chance = {
			factor = 10
			modifier = {
				factor = 5
				has_opinion = { target = FROM value < -75 }
			}
			modifier = {
				factor = 4
				has_opinion = { target = FROM value < -50 }
			}
			modifier = {
				factor = 3
				has_opinion = { target = FROM value < -25 }
			}
			modifier = {
				factor = 2
				has_opinion = { target = FROM value < 0 }
			}
			modifier = {
				factor = 1.5
				has_opinion = { target = FROM value < 25 }
			}
		}
		hidden_effect = {
		    FROM = { country_event = { days = 15 id = tradefed.9 } }
		}
	}
}

country_event = { #Skyfall Accepts!
	id = tradefed.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.8"}
	title = tradefed.8.t
	desc = tradefed.8.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
		name = tradefed.8.a
		if = { 
			limit = { is_major = yes }
			add_ideas = TRD_trading_with_skyfall_2
		}
		else_if = { 
			add_ideas = TRD_trading_with_skyfall_1
		}
		hidden_effect = {
			add_to_array = {
				TRD.trade_partners = ROOT
			}
		}
	}
}

country_event = { #Skyfall Declines!
	id = tradefed.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.9"}
	title = tradefed.9.t
	desc = tradefed.9.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
		name = tradefed.9.a
		add_political_power = 50
	}
}

country_event = { #Country Stops Trading with us
	id = tradefed.10
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.10"}
	title = tradefed.10.t
	desc = tradefed.10.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
		name = tradefed.10.a
		add_political_power = -20
	}
}

country_event = { #The Meeting (Use Guichard's Perspective)
	id = tradefed.11
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.11"}
	title = tradefed.11.t
	desc = tradefed.11.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
		name = tradefed.11.a
		ai_chance = {
			factor = 45
		}
		hidden_effect = {
		    complete_national_focus = TRD_enhancing_our_prosperity
		}
	}
	option = {
		name = tradefed.11.b
		ai_chance = {
			factor = 10
		}
		hidden_effect = {
		    complete_national_focus = TRD_the_chancellors_authority
		}
	}
	option = {
		name = tradefed.11.c
		ai_chance = {
			factor = 45
		}
		hidden_effect = {
		    complete_national_focus = TRD_combating_inequality
		}
	}
}

country_event = { #Liquidating Unprofitable Bussnisses (Use Guichard's Perspective)
	id = tradefed.12
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.12"}
	title = tradefed.12.t
	desc = tradefed.12.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
		name = tradefed.12.a
		add_stability = -0.05
		add_political_power = -50
		custom_effect_tooltip = TRD_gain_money_8_tp
		hidden_effect = {
		add_to_variable = {
            var = bank
            value = 4
            }
		}
	}
}

country_event = { #Foreign Technicians (Use Guichard's Perspective)
	id = tradefed.13
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.13"}
	title = tradefed.13.t
	desc = tradefed.13.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
		name = tradefed.13.a
		add_tech_bonus = {
			name = industrial_bonus
			bonus = 0.75
			uses = 1
			category = industry
		}
		add_tech_bonus = {
			name = electronics_bonus
			bonus = 0.75
			uses = 1
			category = electronics
		}
	}
}

country_event = { #Industrial Grants (Use Guichard's Perspective)
	id = tradefed.14
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.14"}
	title = tradefed.14.t
	desc = tradefed.14.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
	name = tradefed.14.a
	custom_effect_tooltip = TRD_lose_money_6_tp
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = industrial_complex
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = industrial_complex
			level = 1
		    instant_build = yes
			}
		}
		hidden_effect = {
		subtract_from_variable = {
            var = bank
            value = 3
            }
		}
	}
}

country_event = { #Changeling Equipment (Use Guichard's Perspective)
	id = tradefed.15
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.15"}
	title = tradefed.15.t
	desc = tradefed.15.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
	name = tradefed.15.a
		custom_effect_tooltip = TRD_lose_money_4_tp
		add_equipment_to_stockpile = {
			type = fighter_equipment
			amount = 30
			producer = CHN
		}
		add_equipment_to_stockpile = {
			type = light_tank_equipment
			amount = 60
			producer = CHN
		}
		hidden_effect = {
		subtract_from_variable = {
            var = bank
            value = 2
            }
		}
	}
}

country_event = { #Golden Griffon Cigarettes (Use Guichard's Perspective)
	id = tradefed.16
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.16"}
	title = tradefed.16.t
	desc = tradefed.16.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
	name = tradefed.16.a
	custom_effect_tooltip = TRD_lose_money_6_tp
	add_political_power = -30
	random_owned_controlled_state = {
		limit = {
			free_building_slots = {
				building = industrial_complex
				size > 0
				include_locked = yes
			}
			OR = {
				is_in_home_area = yes
				NOT = {
					owner = {
						any_owned_state = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
							is_in_home_area = yes
						}
					}
				}
			}
		}
		add_extra_state_shared_building_slots = 1
		add_building_construction = {
			type = industrial_complex
			level = 1
		    instant_build = yes
			}
		}
		hidden_effect = {
		subtract_from_variable = {
            var = bank
            value = 3
            }
		}
	}
}

country_event = { #Fake Event (Use Guichard's Perspective)
	id = tradefed.17
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.17"}
	title = tradefed.17.t
	desc = tradefed.17.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
	name = tradefed.17.a
		add_political_power = -1000
		add_stability = -1.00
		add_war_support = -1.00
	}
}

country_event = { #Guichard Collapses (Use Guichard's Perspective)
	id = tradefed.18
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.18"}
	title = tradefed.18.t
	desc = tradefed.18.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
	name = tradefed.18.a
		add_political_power = -75
		add_stability = -0.10
		hidden_effect = {
		set_country_flag = TRD_something_has_happened
		country_event = { id = tradefed.19 days = 5 }
		}
	}
}

country_event = { #Guichard found dead and reading of the will
	id = tradefed.19
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.19"}
	title = tradefed.19.t
	desc = tradefed.19.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
	name = tradefed.19.a
	custom_effect_tooltip = TRD_inheritance_tp
		hidden_effect = {
		country_event = { id = tradefed.20 days = 14 }
		subtract_from_variable = {
			var = bank
			value = 20
			}
		}
	}
}

country_event = { #He is in fact dead
	id = tradefed.20
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.20"}
	title = tradefed.20.t
	desc = tradefed.20.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
	name = tradefed.20.a
	remove_ideas = TRD_the_iron_chancellor
	custom_effect_tooltip = TRD_power_struggle_tp
	create_country_leader = {
		name = "Handelsraad"
		picture = "Regency.tga"
		expire = "1965.1.1"
		ideology = oligarchism
		traits = { provisional }
	}
	hidden_effect = {
		load_focus_tree = { tree = tradefederation_focus keep_completed = yes }
		set_country_flag = TRD_guichard_is_dead
		set_country_flag = TRD_power_struggle
		resize_array = { TRD_power_struggle_array = 4 }
		complete_national_focus = TRD_the_death_of_guichard
		country_event = { id = tradefed.21 days = 7 }
		set_variable = { TRD_power_struggle_array^0 = 31 } #Industrialist
		set_variable = { TRD_power_struggle_array^1 = 27 } #Banker 
		set_variable = { TRD_power_struggle_array^2 = 22 } #Merc
		set_variable = { TRD_power_struggle_array^3 = 20 } #Kingpin
		}
	}
}

country_event = { #A Surprising Event
	id = tradefed.21
	immediate = {log = "[GetDateText]: [Root.GetName]: event tradefed.21"}
	title = tradefed.21.t
	desc = tradefed.21.d
	
	picture = GFX_event_griffon_back
	is_triggered_only = yes
	
	option = {
	name = tradefed.21.a
	add_political_power = 50
	add_stability = 0.075
	swap_ideas = {
	    remove_idea = TRD_social_inequality
		add_idea = TRD_social_inequality_2
	    }
	}
}