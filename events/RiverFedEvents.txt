add_namespace = riverfed
### ELECTION OF 1007 ###
country_event = {
	id = riverfed.1
	title = riverfed.1.t
	desc = riverfed.1.d
	picture = GFX_report_event_usa_election_generic

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			create_country_leader = {
				name = "Wavebreaker"
				desc = "POLITICS_WAVEBREAKER_DESC"
				picture = "WaveBreaker.tga"
				expire = "1965.1.1"
				ideology = centrism
				traits = {
					dislikes_griffon_empire
				}
			}
		}
	}
	
	option = {
		name = riverfed.1.a
		ai_chance = {
			factor = 50
		}
		set_politics = { ruling_party = democratic }
		add_popularity = { ideology = democratic popularity = 0.05 }
		set_country_flag = riverswirl_elected
		increase_river_city_loyalty = yes
		decrease_lake_city_loyalty = yes
	}

	option = {
		name = riverfed.1.b
		ai_chance = {
			factor = 0
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_popularity = { ideology = neutrality popularity = 0.05 }
		set_country_flag = wavebreaker_elected
		decrease_river_city_loyalty = yes
		increase_lake_city_loyalty = yes
	}	
}

### OFFER GRENECLYF ALLIANCE ###
country_event = {
	id = riverfed.2
	title = riverfed.2.t
	desc = riverfed.2.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.2.a
		ai_chance = {
			factor = 50
		}
		add_opinion_modifier = { target = FROM modifier = RIV_develop_friends_opinion }
		add_ideas = RIV_development_support
		FROM = { give_guarantee = ROOT }
		hidden_effect = {
			FROM = { country_event = { days = 1 id = riverfed.3 }  }
		}
	}

	option = {
		name = riverfed.2.b
		ai_chance = {
			factor = 5			
		}
		hidden_effect = {
			FROM = { country_event = { days = 1 id = riverfed.4 }  }
		}
	}	
}
### GRENECLYF ACCEPT ###
country_event = {
	id = riverfed.3
	title = riverfed.3.t
	desc = riverfed.3.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.3.a
	}
}
### GRENECLYF DECLINE ###
country_event = {
	id = riverfed.4
	title = riverfed.4.t
	desc = riverfed.4.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.4.a
	}
}

### OFFER TO JOIN FED ###
country_event = {
	id = riverfed.5
	title = riverfed.5.t
	desc = riverfed.5.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.5.a
		ai_chance = {
			factor = 50
		}
		
		hidden_effect = { get_current_government_type = yes }
		
		FROM = {
			set_autonomy = { target = ROOT autonomy_state = autonomy_dominion }
		}
		
		swap_ideas = {
			remove_idea = RIV_development_support
			add_idea = RIV_federaton_member_state
		}
		hidden_effect = {
			restore_previous_government_type = yes
			FROM = { country_event = { hours = 1 id = riverfed.6 }  }
		}		
	}

	option = {
		name = riverfed.5.b
		ai_chance = {
			factor = 5			
		}
		hidden_effect = {
			FROM = { country_event = { hours = 1 id = riverfed.7 }  }
		}	
	}	
}
### JOIN FED ACCEPT ###
country_event = {
	id = riverfed.6
	title = riverfed.6.t
	desc = riverfed.6.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.6.a
	}
}
### JOIN FED DECLINE ###
country_event = {
	id = riverfed.7
	title = riverfed.7.t
	desc = riverfed.7.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.7.a
	}
}

### LAUNCH THE COUPE ###
country_event = {
	id = riverfed.8
	title = riverfed.8.t
	desc = riverfed.8.d

	is_triggered_only = yes
	
	immediate = {
		
	}
	
	option = {
		name = riverfed.8.a
		random_list = {
			80 = { country_event = { id = riverfed.9 hours = 24 } } #Coupe succeeds
			20 = { country_event = { id = riverfed.10 hours = 24 } } #Coupe fails
		}
	}
}

### COUPE SUCCEEDS ###
country_event = {
	id = riverfed.9
	title = riverfed.9.t
	desc = riverfed.9.d

	is_triggered_only = yes
	
	immediate = {
		set_country_flag = dog_coupe_sucsess
		hidden_effect = {
			DMT = { 
				set_politics = { ruling_party = democratic } 
				add_popularity = { ideology = democratic popularity = 0.2 }			
			}
		}
	}
	
	option = {
		name = riverfed.9.a
		add_political_power = 100
	}
}

### COUPE FAILS ###
country_event = {
	id = riverfed.10
	title = riverfed.10.t
	desc = riverfed.10.d

	is_triggered_only = yes
	
	immediate = {
		set_country_flag = dog_coupe_failure
	}
	
	option = {
		name = riverfed.10.a
		add_political_power = -250
		end_daimond_mountain_loyalty = yes
		decrease_river_city_loyalty = yes
		decrease_wittenland_loyalty = yes
		decrease_nimbusia_loyalty = yes		
	}
}

### ASK FOR FORGIVNESS ###
country_event = {
	id = riverfed.11
	title = riverfed.11.t
	desc = riverfed.11.d

	is_triggered_only = yes
	
	immediate = {
		
	}
	
	option = {
		name = riverfed.11.a
		random_list = {
			70 = { country_event = { id = riverfed.12 hours = 5 } } #King Accepts
			30 = { country_event = { id = riverfed.13 hours = 5 } } #King Rejects
		}
	}
}

### KING ACCEPTS ###
country_event = {
	id = riverfed.12
	title = riverfed.12.t
	desc = riverfed.12.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.12.a
		add_political_power = 50
		increase_daimond_mountain_loyalty = yes
		set_country_flag = dog_coupe_forgiven
	}
}

### KING DECLARES INDERPENDENCE ###
country_event = {
	id = riverfed.13
	title = riverfed.13.t
	desc = riverfed.13.d

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			set_country_flag = dog_rebellion
			release = DMT
			RIV = { DMT = { transfer_technology = yes } }
			DMT = { 
				set_politics = { ruling_party = fascism }
				add_popularity = { ideology = fascism popularity = 0.6 }
				load_oob = "DMT_Rebellion"
				set_country_flag = have_regular_puppets
			}
		}
	}
	
	option = {
		name = riverfed.13.a #Let them go.
		add_political_power = -200
		remove_mountain_loyalty = yes
	}
	
	option = {
		name = riverfed.13.b #To War
		set_country_flag = fed_civil_war
		declare_war_on = { target = DMT type = annex_everything }
		daimond_mountain_CW_loyalty = yes
	}
}

### ALLIANCE WITH EQUESTRIA ###
country_event = {
	id = riverfed.14
	title = riverfed.14.t
	desc = riverfed.14.d

	is_triggered_only = yes

	option = {
		name = riverfed.14.a #yes
		ai_chance = {
			factor = 15
		}
		add_to_faction = FROM
		FROM = {
			country_event = { id = riverfed.15 hours = 6 }
		}

		hidden_effect = {

		}
	}

	option = {
		name = riverfed.14.b #No
		ai_chance = {
			factor = 2
		}
		FROM = {
			country_event = { id = riverfed.16 hours = 6 }
		}

		hidden_effect = {

		}
	}
}
### EQUESTRIA SAYS YES ###
country_event = {
	id = riverfed.15
	title = riverfed.15.t
	desc = riverfed.15.d

	is_triggered_only = yes

	option = {
		name = excellent

		hidden_effect = {

		}
	}
}
### EQUESTRIA SAYS NO ###
country_event = {
	id = riverfed.16
	title = riverfed.16.t
	desc = riverfed.16.d

	is_triggered_only = yes

	option = {
		name = unfortunate

		hidden_effect = {

		}
	}
}

### SEND GUARENTEE ###
country_event = {
	id = riverfed.17
	title = riverfed.17.t
	desc = riverfed.17.d

	is_triggered_only = yes

	option = {
		name = riverfed.17.a #yes
		ai_chance = {
			factor = 30
		}
		FROM = { 
			give_guarantee = ROOT 
			country_event = { id = riverfed.18 hours = 6 }
		}

		hidden_effect = {

		}
	}

	option = {
		name = riverfed.17.b #No
		ai_chance = {
			factor = 2
		}
		FROM = {
			country_event = { id = riverfed.19 hours = 6 }
		}

		hidden_effect = {

		}
	}
}
### COUNTRY SAYS YES ###
country_event = {
	id = riverfed.18
	title = riverfed.18.t
	desc = riverfed.18.d

	is_triggered_only = yes

	option = {
		name = excellent

		hidden_effect = {

		}
	}
}
### COUNTRY SAYS NO ###
country_event = {
	id = riverfed.19
	title = riverfed.19.t
	desc = riverfed.19.d

	is_triggered_only = yes

	option = {
		name = unfortunate

		hidden_effect = {

		}
	}
}

### BEFREND ###
country_event = {
	id = riverfed.20
	title = riverfed.20.t
	desc = riverfed.20.d

	is_triggered_only = yes

	option = {
		name = riverfed.20.a #yes
		ai_chance = {
			factor = 10
		}
		add_opinion_modifier = { target = FROM modifier = RIV_friendship_delegation }
		FROM = { 			 
			country_event = { id = riverfed.21 hours = 6 }
		}

		hidden_effect = {

		}
	}

	option = {
		name = riverfed.20.b #No
		ai_chance = {
			factor = 3
		}
		FROM = {
			country_event = { id = riverfed.22 hours = 6 }
		}

		hidden_effect = {

		}
	}
}
### COUNTRY SAYS YES ###
country_event = {
	id = riverfed.21
	title = riverfed.21.t
	desc = riverfed.21.d

	is_triggered_only = yes

	option = {
		name = excellent
		add_opinion_modifier = { target = FROM modifier = RIV_friendship_delegation }
		hidden_effect = {

		}
	}
}
### COUNTRY SAYS NO ###
country_event = {
	id = riverfed.22
	title = riverfed.22.t
	desc = riverfed.22.d

	is_triggered_only = yes

	option = {
		name = unfortunate

		hidden_effect = {

		}
	}
}

### ALLIANCE WITH AQUILEIA ###
country_event = {
	id = riverfed.23
	title = riverfed.23.t
	desc = riverfed.23.d

	is_triggered_only = yes

	option = {
		name = riverfed.23.a #yes
		ai_chance = {
			factor = 15
		}
		FROM = {
			add_to_faction = ROOT
			country_event = { id = riverfed.24 hours = 6 }
		}

		hidden_effect = {

		}
	}

	option = {
		name = riverfed.23.b #No
		ai_chance = {
			factor = 2
		}
		FROM = {
			country_event = { id = riverfed.25 hours = 6 }
		}

		hidden_effect = {

		}
	}
}
### AQUILEIA SAYS YES ###
country_event = {
	id = riverfed.24
	title = riverfed.24.t
	desc = riverfed.24.d

	is_triggered_only = yes

	option = {
		name = excellent

		hidden_effect = {

		}
	}
}
### AQUILEIA SAYS NO ###
country_event = {
	id = riverfed.25
	title = riverfed.25.t
	desc = riverfed.25.d

	is_triggered_only = yes

	option = {
		name = unfortunate

		hidden_effect = {

		}
	}
}
### EQS PRO-HARMONY COUPE ###
country_event = {
	id = riverfed.26
	hidden = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = { democratic > 0.69 }
			country_event = { id = riverfed.27 hours = 1 }
			else = {
				if = {
					limit = {
						democratic > 0.59
					}
					random_list = {
						85 = { country_event = { id = riverfed.27 hours = 1 } } #Coupe succeeds
						15 = { country_event = { id = riverfed.28 hours = 1 } } #Coupe fails
					}
					else = {
						if = {
							limit = {
								democratic > 0.44
							}
							random_list = {
								70 = { country_event = { id = riverfed.27 hours = 1 } } #Coupe succeeds
								30 = { country_event = { id = riverfed.28 hours = 1 } } #Coupe fails
							}
							else = {
								if = {
									limit = {
										democratic > 0.19
									}
									random_list = {
										40 = { country_event = { id = riverfed.27 hours = 1 } } #Coupe succeeds
										60 = { country_event = { id = riverfed.28 hours = 1 } } #Coupe fails
									}
									else = {
										if = {
											limit = {
												democratic > 0.9
											}
											random_list = {
												20 = { country_event = { id = riverfed.27 hours = 1 } } #Coupe succeeds
												80 = { country_event = { id = riverfed.28 hours = 1 } } #Coupe fails
											}
											else = {
												country_event = { id = riverfed.28 hours = 1 } #Coupe fails
											}
										}
									}
								}
							}
						}
					}
				}
			}
		}
	}
}
### PRO-HARMONY COUPE SUCCEEDS ###
country_event = {
	id = riverfed.27
	title = riverfed.27.t
	desc = riverfed.27.d

	is_triggered_only = yes
	
	immediate = {
		set_politics = {
			ruling_party = democratic			
		}
		RIV = {
			set_autonomy = { target = ROOT autonomy_state = autonomy_dominion }
		}
	}

	option = {
		name = riverfed.27.a

		hidden_effect = {
			RIV = { country_event = riverfed.29 }
		}
	}
}
### PRO-HARMONY COUPE FAILS ###
country_event = {
	id = riverfed.28
	title = riverfed.28.t
	desc = riverfed.28.d

	is_triggered_only = yes

	option = {
		name = riverfed.28.a

		hidden_effect = {
			RIV = { country_event = riverfed.30 }
		}
	}
}

### RIV PRO-HARMONY COUPE SUCCEEDS ###
country_event = {
	id = riverfed.29
	title = riverfed.29.t
	desc = riverfed.29.d

	is_triggered_only = yes

	option = {
		name = riverfed.29.a
	}
}
### RIV PRO-HARMONY COUPE FAILS ###
country_event = {
	id = riverfed.30
	title = riverfed.30.t
	desc = riverfed.30.d

	is_triggered_only = yes

	option = {
		name = riverfed.30.a
		ai_chance = {
			factor = 20
		}
	}
	option = {
		name = riverfed.30.b
		ai_chance = {
			factor = 5
		}
		create_wargoal = {
			type = puppet_wargoal_focus
			target = FROM
		}
		add_political_power = -150
		decrease_lake_city_loyalty = yes
		decrease_wittenland_loyalty = yes		
	}
}

### INDERPENDENCE - DIAMOND MOUNTAIN ###
country_event = {
	id = riverfed.31
	title = riverfed.31.t
	desc = riverfed.31.d
	
	fire_only_once = yes

	trigger = {
		tag = RIV
		OR = {
			AND = {
				has_country_flag = fed_civil_war
				OR = {
					has_idea = RIV_daimond_mountain
					has_idea = RIV_daimond_mountain1
					has_idea = RIV_daimond_mountain2
				}				
			}
			has_idea = RIV_daimond_mountain
		}
		DMT = { exists = no }
	}

	mean_time_to_happen = {
		days = 200
		modifier = {
			factor = 0.8
			has_country_flag = fed_civil_war
			has_idea = RIV_daimond_mountain1
		}
		modifier = {
			factor = 0.5
			has_country_flag = fed_civil_war
			has_idea = RIV_daimond_mountain
		}
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = dog_rebellion
			release = DMT
			RIV = { DMT = { transfer_technology = yes } }
			DMT = { 
				load_oob = "DMT_Rebellion"
				set_country_flag = have_regular_puppets
			}
		}
		modify_country_flag = { flag = RIV_federaton_rebellion value = 1 }
	}
	
	option = {
		name = riverfed.31.a #Let them go.
		add_political_power = -200
		remove_mountain_loyalty = yes
	}
	
	option = {
		name = riverfed.31.b #To War
		set_country_flag = fed_civil_war
		declare_war_on = { target = DMT type = annex_everything }
		daimond_mountain_CW_loyalty = yes
	}
}

### INDERPENDENCE - LAKE CITY ###
country_event = {
	id = riverfed.32
	title = riverfed.32.t
	desc = riverfed.32.d
	
	fire_only_once = yes

	trigger = {
		tag = RIV
		OR = {
			AND = {
				has_country_flag = fed_civil_war
				OR = {
					has_idea = RIV_lake_city
					has_idea = RIV_lake_city1
					has_idea = RIV_lake_city2
				}				
			}
			has_idea = RIV_lake_city
		}
		LCT = { exists = no }
	}

	mean_time_to_happen = {
		days = 200
		modifier = {
			factor = 0.8
			has_country_flag = fed_civil_war
			has_idea = RIV_lake_city1
		}
		modifier = {
			factor = 0.5
			has_country_flag = fed_civil_war
			has_idea = RIV_lake_city
		}
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = lake_city_rebellion
			release = LCT
			RIV = { LCT = { transfer_technology = yes } }
			LCT = { 
				load_oob = "LCT_Rebellion"
				set_country_flag = have_regular_puppets
			}
		}
		modify_country_flag = { flag = RIV_federaton_rebellion value = 1 }
	}
	
	option = {
		name = riverfed.32.a #Let them go.
		add_political_power = -200
		remove_mountain_loyalty = yes
	}
	
	option = {
		name = riverfed.32.b #To War
		set_country_flag = fed_civil_war
		declare_war_on = { target = LCT type = annex_everything }
		lake_city_CW_loyalty = yes
	}
}

### INDERPENDENCE - RIVER CITY ###
country_event = {
	id = riverfed.33
	title = riverfed.33.t
	desc = riverfed.33.d
	
	fire_only_once = yes

	trigger = {
		tag = RIV
		OR = {
			AND = {
				has_country_flag = fed_civil_war
				OR = {
					has_idea = RIV_river_city
					has_idea = RIV_river_city1
					has_idea = RIV_river_city2
				}				
			}
			has_idea = RIV_river_city
		}
		RCT = { exists = no }
	}

	mean_time_to_happen = {
		days = 200
		modifier = {
			factor = 0.8
			has_country_flag = fed_civil_war
			has_idea = RIV_river_city1
		}
		modifier = {
			factor = 0.5
			has_country_flag = fed_civil_war
			has_idea = RIV_river_city
		}
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = river_city_rebellion
			release = RCT
			RIV = { RCT = { transfer_technology = yes } }
			RCT = { 
				load_oob = "RCT_Rebellion"
				set_country_flag = have_regular_puppets
			}
		}
		modify_country_flag = { flag = RIV_federaton_rebellion value = 1 }
	}
	
	option = {
		name = riverfed.33.a #Let them go.
		add_political_power = -200
		remove_mountain_loyalty = yes
	}
	
	option = {
		name = riverfed.33.b #To War
		set_country_flag = fed_civil_war
		declare_war_on = { target = RCT type = annex_everything }
		river_city_CW_loyalty = yes
	}
}

### INDERPENDENCE - NIMBUSIA ###
country_event = {
	id = riverfed.34
	title = riverfed.34.t
	desc = riverfed.34.d
	
	fire_only_once = yes

	trigger = {
		tag = RIV
		OR = {
			AND = {
				has_country_flag = fed_civil_war
				OR = {
					has_idea = RIV_nimbusia
					has_idea = RIV_nimbusia1
					has_idea = RIV_nimbusia2
				}				
			}
			has_idea = RIV_nimbusia
		}
		NIM = { exists = no }
	}

	mean_time_to_happen = {
		days = 200
		modifier = {
			factor = 0.8
			has_country_flag = fed_civil_war
			has_idea = RIV_nimbusia1
		}
		modifier = {
			factor = 0.5
			has_country_flag = fed_civil_war
			has_idea = RIV_nimbusia
		}
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = nimbusia_rebellion
			release = NIM
			NIM = {
				RIV = { NIM = { transfer_technology = yes } }
				load_oob = "NIM_Rebellion"
				set_country_flag = have_regular_puppets
			}
		}
		modify_country_flag = { flag = RIV_federaton_rebellion value = 1 }
	}
	
	option = {
		name = riverfed.34.a #Let them go.
		add_political_power = -200
		remove_mountain_loyalty = yes
	}
	
	option = {
		name = riverfed.34.b #To War
		set_country_flag = fed_civil_war
		declare_war_on = { target = NIM type = annex_everything }
		nimbusia_CW_loyalty = yes
	}
}

### INDERPENDENCE - WITTENLAND ###
country_event = {
	id = riverfed.35
	title = riverfed.35.t
	desc = riverfed.35.d
	
	fire_only_once = yes

	trigger = {
		tag = RIV
		OR = {
			AND = {
				has_country_flag = fed_civil_war
				OR = {
					has_idea = RIV_wittenland
					has_idea = RIV_wittenland
					has_idea = RIV_wittenland
				}				
			}
			has_idea = RIV_wittenland
		}
		WIT = { exists = no }
	}

	mean_time_to_happen = {
		days = 200
		modifier = {
			factor = 0.8
			has_country_flag = fed_civil_war
			has_idea = RIV_wittenland1
		}
		modifier = {
			factor = 0.5
			has_country_flag = fed_civil_war
			has_idea = RIV_wittenland
		}
	}
	
	immediate = {
		hidden_effect = {
			set_country_flag = wittenland_rebellion
			release = WIT
			WIT = {
				RIV = { WIT = { transfer_technology = yes } }
				load_oob = "WIT_Rebellion"
				set_country_flag = have_regular_puppets
			}
		}
		modify_country_flag = { flag = RIV_federaton_rebellion value = 1 }
	}
	
	option = {
		name = riverfed.35.a #Let them go.
		add_political_power = -200
		remove_mountain_loyalty = yes
	}
	
	option = {
		name = riverfed.35.b #To War
		set_country_flag = fed_civil_war
		declare_war_on = { target = WIT type = annex_everything }
		wittenland_CW_loyalty = yes
	}
}

### FALL OF THE FEDERATION ###
country_event = {
	id = riverfed.300
	title = riverfed.300.t
	desc = riverfed.300.d
	
	fire_only_once = yes

	trigger = {
		tag = RIV
		has_country_flag = { flag = RIV_federaton_rebellion value > 3 }  
	}

	mean_time_to_happen = {
		days = 7
	}
	
	option = {
		name = riverfed.300.a #This is the end.
		if = {
			limit = {
				RIV = { has_country_flag = riverswirl_elected }
			}
			RCT = {
				change_tag_from = RIV
			}
			else = {
				if = {
					limit = {
						RIV = { has_country_flag = wavebreaker_elected }
					}
					LCT = {
						change_tag_from = RIV
					}
				}
			}
		}
		
		if = {
			limit = {
				DMT = { exists = no }
			}
			
			release = DMT
			hidden_effect = {
				set_country_flag = dog_rebellion
				DMT = { 
					RIV = { DMT = { transfer_technology = yes } }
					load_oob = "DMT_Rebellion"
					set_country_flag = have_regular_puppets
				} 
			}
			
		}
		if = {
			limit = {
				WIT = { exists = no }
			}
			release = WIT
			hidden_effect = {
				set_country_flag = wittenland_rebellion
				RIV = { WIT = { transfer_technology = yes } }					
				WIT = { 
					load_oob = "WIT_Rebellion"
					set_country_flag = have_regular_puppets
				} 
			}
		}
		if = {
			limit = {
				LCT = { exists = no }
			}
			release = LCT
			hidden_effect = {
				set_country_flag = lake_city_rebellion
				RIV = { LCT = { transfer_technology = yes } }
				LCT = { 
					load_oob = "LCT_Rebellion"
					set_country_flag = have_regular_puppets
				} 
			}
			
		}
		if = {
			limit = {
				RCT = { exists = no }
			}
			release = RCT
			hidden_effect = {
				set_country_flag = river_city_rebellion
				RIV = { RCT = { transfer_technology = yes } }
				RCT = { 
					load_oob = "RCT_Rebellion"
					set_country_flag = have_regular_puppets
				}
			}
		}
		if = {
			limit = {
				NIM = { exists = no }
			}
			release = NIM
			hidden_effect = {
				set_country_flag = nimbusia_rebellion
				RIV = { NIM = { transfer_technology = yes } }
				NIM = { 
					load_oob = "NIM_Rebellion"
					set_country_flag = have_regular_puppets
				} 
			}
		}
		if = {
			limit = {
				DEP = { exists = no }
			}
			release = DEP
			hidden_effect = {
				RIV = { DEP = { transfer_technology = yes } }
				DEP = { 
					load_oob = "DEP_Rebellion"
					set_country_flag = have_regular_puppets
				} 
			}
		}
		if = {
			limit = {
				BAK = { exists = no }
			}
			release = BAK
			hidden_effect = {
				RIV = { BAK = { transfer_technology = yes } }
				BAK = { 
					load_oob = "DEP_Rebellion"
					set_country_flag = have_regular_puppets
				}
			}
		}
		if = {
			limit = {
				FRE = { exists = no }
			}
			release = FRE
			hidden_effect = {					
				FRE = { 
					set_country_flag = have_regular_puppets
				}
			}
		}
		hidden_effect = {
			if = {
				limit = {
					RIV = { has_country_flag = riverswirl_elected }
				}
				RCT = {
					annex_country = { target = RIV }
				}
				else = {
					if = {
						limit = {
							RIV = { has_country_flag = wavebreaker_elected }
						}
						LCT = {
							annex_country = { target = RIV }
						}
						else = {
							BAK = {
								annex_country = { target = RIV }
							}
						}
					}					
				}
			}
		}
	}
}