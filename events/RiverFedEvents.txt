add_namespace = riverfed # Used for flavour
add_namespace = riverfedpol # Used for political stuff

### Intro Event ###
country_event = {
	id = riverfed.1
	title = riverfed.1.t
	desc = riverfed.1.d
	picture = GFX_event_green_mountain

	trigger = {
		tag = RIV
	}
	
	fire_only_once = yes
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = riverfed.1.a
	}
}

### ELECTION OF 1007 ###
country_event = {
	id = riverfed.2
	title = riverfed.2.t
	desc = riverfed.2.d
	picture = GFX_report_event_usa_election_generic

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		tag = RIV
		OR = {
			has_government = democratic
			has_government = neutrality
		}
		NOT = { has_country_flag = RIV_1007_elections }
	}
	
	immediate = {
		hidden_effect = {
			create_country_leader = {
				name = "Wavebreaker"
				desc = "POLITICS_WAVEBREAKER_DESC"
				picture = "WaveBreaker.tga"
				expire = "1965.1.1"
				ideology = centrism
				traits = {
					dislikes_griffon_empire
				}
			}			
		}
	}
	
	option = {
		name = riverfed.2.a
		ai_chance = {
			factor = 1
		}
		set_politics = { ruling_party = democratic elections_allowed = yes }
		add_popularity = { ideology = democratic popularity = 0.05 }
		increase_river_city_loyalty = yes
		decrease_lake_city_loyalty = yes
		hidden_effect = {
			set_country_flag = riverswirl_elected
			set_country_flag = RIV_1007_elections
		}
	}
	
	option = {
		name = riverfed.2.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_popularity = { ideology = neutrality popularity = 0.05 }
		
		decrease_river_city_loyalty = yes
		increase_lake_city_loyalty = yes
		hidden_effect = {
			set_country_flag = wavebreaker_elected
			set_country_flag = RIV_1007_elections
		}
	}	
}

### ELECTION OF 1011 ###
country_event = {
	id = riverfed.3
	title = riverfed.3.t
	desc = riverfed.3.d
	picture = GFX_report_event_usa_election_generic

	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		tag = RIV
		OR = {
			has_government = democratic
			has_government = neutrality
		}
		has_country_flag = RIV_1007_elections
		NOT = { has_country_flag = RIV_1011_elections }
	}
	
	option = { # RIVER SWRIL
		name = riverfed.3.a
		ai_chance = {
			factor = 1
		}
		set_politics = { ruling_party = democratic elections_allowed = yes }
		add_popularity = { ideology = democratic popularity = 0.05 }
		increase_river_city_loyalty = yes
		decrease_lake_city_loyalty = yes
		hidden_effect = {
			set_country_flag = riverswirl_elected
			set_country_flag = RIV_1011_elections
		}
	}
	
	option = { # Wavebreaker
		name = riverfed.3.b
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_popularity = { ideology = neutrality popularity = 0.05 }
		set_politics = { ruling_party = neutrality elections_allowed = yes }
		decrease_river_city_loyalty = yes
		increase_lake_city_loyalty = yes
		hidden_effect = {
			set_country_flag = wavebreaker_elected
			set_country_flag = RIV_1011_elections
		}
	}	
	
	option = { #Westerly
		name = riverfed.3.c
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_popularity = { ideology = fascism popularity = 0.05 }
		set_politics = { ruling_party = fascism elections_allowed = no }
		decrease_river_city_loyalty = yes
		decrease_wittenland_loyalty = yes
		increase_nimbusia_loyalty = yes
		increase_diamond_mountain_loyalty = yes
		hidden_effect = {
			set_country_flag = westerly_elected
			set_country_flag = RIV_1011_elections
		}
	}	
	
	option = { #Red Apple
		name = riverfed.3.e
		ai_chance = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_popularity = { ideology = communism popularity = 0.05 }
		set_politics = { ruling_party = communism elections_allowed = no }
		decrease_river_city_loyalty = yes
		decrease_lake_city_loyalty = yes
		decrease_wittenland_loyalty = yes
		decrease_nimbusia_loyalty = yes
		decrease_diamond_mountain_loyalty = yes
		hidden_effect = {
			set_country_flag = communists_elected
			set_country_flag = RIV_1011_elections
		}
	}	
	
}

#########################
#### POLITICS EVENTS ####
#########################

#States object to conscription
country_event = {
	id = riverfedpol.1
	title = riverfedpol.1.t
	desc = riverfedpol.1.d
	picture = GFX_event_green_mountain

	is_triggered_only = yes
	
	option = { # It's for the good of the nation!
		name = riverfedpol.1.a
		decrease_lake_city_loyalty = yes
		decrease_wittenland_loyalty = yes
	}
	
	option = { # We can make some concessions.
		name = riverfedpol.1.b
		add_ideas = RIV_conscription_concessions
	}
}

#Greneclyf trade
country_event = {
	id = riverfedpol.2
	title = riverfedpol.2.t
	desc = riverfedpol.2.d
	picture = GFX_event_gytha

	is_triggered_only = yes
	
	option = { # Accept
		name = riverfedpol.2.a
		ai_chance = {
			factor = 10
		}
		add_political_power = -50
		add_stability = -0.1
	}
	
	option = { # Refuse
		name = riverfedpol.2.b
	}
}