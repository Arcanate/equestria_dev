add_namespace = riverfed
### ELECTION OF 1007 ###
country_event = {
	id = riverfed.1
	title = riverfed.1.t
	desc = riverfed.1.d
	picture = GFX_report_event_usa_election_generic

	is_triggered_only = yes
	
	immediate = {
		hidden_effect = {
			create_country_leader = {
				name = "Wavebreaker"
				desc = "POLITICS_WAVEBREAKER_DESC"
				picture = "WaveBreaker.tga"
				expire = "1965.1.1"
				ideology = centrism
				traits = {
					dislikes_griffon_empire
				}
			}
		}
	}
	
	option = {
		name = riverfed.1.a
		ai_chance = {
			factor = 50
		}
		set_politics = { ruling_party = democratic }
		add_popularity = { ideology = democratic popularity = 0.05 }
		set_country_flag = riverswirl_elected
		increase_river_city_loyalty = yes
		decrease_lake_city_loyalty = yes
	}

	option = {
		name = riverfed.1.b
		ai_chance = {
			factor = 50
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}
		add_popularity = { ideology = neutrality popularity = 0.05 }
		set_country_flag = wavebreaker_elected
		decrease_river_city_loyalty = yes
		increase_lake_city_loyalty = yes
	}	
}

### OFFER GRENECLYF ALLIANCE ###
country_event = {
	id = riverfed.2
	title = riverfed.2.t
	desc = riverfed.2.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.2.a
		ai_chance = {
			factor = 50
		}
		add_opinion_modifier = { target = FROM modifier = RIV_develop_friends_opinion }
		add_ideas = RIV_development_support
		FROM = { give_guarantee = ROOT }
		hidden_effect = {
			FROM = { country_event = { days = 1 id = riverfed.3 }  }
		}
	}

	option = {
		name = riverfed.2.b
		ai_chance = {
			factor = 5			
		}
		hidden_effect = {
			FROM = { country_event = { days = 1 id = riverfed.4 }  }
		}
	}	
}
### GRENECLYF ACCEPT ###
country_event = {
	id = riverfed.3
	title = riverfed.3.t
	desc = riverfed.3.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.3.a
	}
}
### GRENECLYF DECLINE ###
country_event = {
	id = riverfed.4
	title = riverfed.4.t
	desc = riverfed.4.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.4.a
	}
}

### OFFER TO JOIN FED ###
country_event = {
	id = riverfed.5
	title = riverfed.5.t
	desc = riverfed.5.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.5.a
		ai_chance = {
			factor = 50
		}
		
		hidden_effect = { get_current_government_type = yes }
		
		FROM = {
			set_autonomy = { target = ROOT autonomy_state = autonomy_dominion }
		}
		
		swap_ideas = {
			remove_idea = RIV_development_support
			add_idea = RIV_federaton_member_state
		}
		hidden_effect = {
			restore_previous_government_type = yes
			FROM = { country_event = { hours = 1 id = riverfed.6 }  }
		}		
	}

	option = {
		name = riverfed.5.b
		ai_chance = {
			factor = 5			
		}
		hidden_effect = {
			FROM = { country_event = { hours = 1 id = riverfed.7 }  }
		}	
	}	
}
### JOIN FED ACCEPT ###
country_event = {
	id = riverfed.6
	title = riverfed.6.t
	desc = riverfed.6.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.6.a
	}
}
### JOIN FED DECLINE ###
country_event = {
	id = riverfed.7
	title = riverfed.7.t
	desc = riverfed.7.d

	is_triggered_only = yes
	
	immediate = {

	}
	
	option = {
		name = riverfed.7.a
	}
}

### LAUNCH THE COUPE ###
country_event = {
	id = riverfed.8
	title = riverfed.8.t
	desc = riverfed.8.d

	is_triggered_only = yes
	
	immediate = {
		
	}
	
	option = {
		name = riverfed.8.a
		random_list = {
			80 = { country_event = { id = riverfed.9 hours = 24 } } #Coupe succeeds
			20 = { country_event = { id = riverfed.10 hours = 24 } } #Coupe fails
		}
	}
}

### COUPE SUCCEEDS ###
country_event = {
	id = riverfed.9
	title = riverfed.9.t
	desc = riverfed.9.d

	is_triggered_only = yes
	
	immediate = {
		set_country_flag = dog_coupe_sucsess
		hidden_effect = {
			DMT = { 
				set_politics = { ruling_party = democratic } 
				add_popularity = { ideology = democratic popularity = 0.2 }			
			}
		}
	}
	
	option = {
		name = riverfed.9.a
		add_political_power = 100
	}
}

### COUPE FAILS ###
country_event = {
	id = riverfed.10
	title = riverfed.10.t
	desc = riverfed.10.d

	is_triggered_only = yes
	
	immediate = {
		set_country_flag = dog_coupe_failure
	}
	
	option = {
		name = riverfed.10.a
		add_political_power = -250
		end_daimond_mountain_loyalty = yes
		decrease_river_city_loyalty = yes
		decrease_wittenland_loyalty = yes
		decrease_nimbusia_loyalty = yes		
	}
}