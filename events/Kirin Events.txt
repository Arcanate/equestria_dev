add_namespace = kirin
add_namespace = kirin_test

country_event = {
	id = kirin.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.1"}
	title = kirin.1.t
	desc = kirin.1.d
	
	#picture = X
	
	is_triggered_only = yes
	
	option = {
		name = kirin.1.a
		add_political_power = 70
		set_country_flag = KIR_pol_1_available
		add_ideas =  KIR_pol_1
	}
}

country_event = {
	id = kirin.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.2"}
	title = kirin.2.t
	desc = kirin.2.d
	
	#picture = X
	
	is_triggered_only = yes
	
	option = {
		name = kirin.2.a
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		set_country_flag = KIR_pol_2_available
		add_ideas =  KIR_pol_2
		custom_effect_tooltip = MAN_line_break
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		set_country_flag = KIR_pol_3_available
		add_ideas =  KIR_pol_3
	}
}

country_event = {
	id = kirin.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.3"}
	title = kirin.3.t
	desc = kirin.3.d
	
	#picture = X
	
	is_triggered_only = yes
	
	option = {
		name = kirin.3.a
		add_political_power = 50
	}
}

country_event = {
	id = kirin.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.4"}
	title = kirin.4.t
	desc = kirin.4.d
	
	#picture = X
	
	is_triggered_only = yes
	
	option = {
		name = kirin.4.a
		custom_effect_tooltip = KIR_begins_great_leap_tt
		set_country_flag = KIR_great_leap_begun
		hidden_effect = {
			activate_mission = KIR_early_game_countdown
		}
		add_ideas = KIR_modernisation_exclamation_mark
	}
}

country_event = {
	id = kirin.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.5"}
	title = kirin.5.t
	desc = kirin.5.d
	
	#picture = X
	
	is_triggered_only = yes
	
	option = {
		name = kirin.5.a
		set_country_flag = KIR_pol_5_available
		custom_effect_tooltip = available_political_advisor
		show_ideas_tooltip = KIR_pol_5
		custom_effect_tooltip = MAN_line_break
		custom_effect_tooltip = KIR_modify_silence_tt
		custom_effect_tooltip = KIR_silence_conscription1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_the_silence_conscription_var value = 0.1 }
		}
	}
}

country_event = {
	id = kirin.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.6"}
	title = kirin.6.t
	desc = kirin.6.d
	
	#picture = X
	
	is_triggered_only = yes
	
	option = {
		name = kirin.6.a
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_supremacist1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_fascism_var value = 0.5 }
		}
		custom_effect_tooltip = MAN_line_break
		custom_effect_tooltip = KIR_modify_silence_tt
		custom_effect_tooltip = KIR_silence_stability1_tt
		hidden_effect = {
			subtract_from_variable = { var = KIR_the_silence_stability_var value = 0.01 }
		}
	}
	
	option = {
		name = kirin.6.b
		add_political_power = 150
	}
}

country_event = {
	id = kirin.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.7"}
	title = kirin.7.t
	desc = kirin.7.d
	
	#picture = X
	
	is_triggered_only = yes
	
	option = {
		name = kirin.7.a
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_communist1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_communism_var value = 0.5 }
		}
	}
	
	option = {
		name = kirin.7.b
		add_political_power = -70
		add_stability = -0.01
		custom_effect_tooltip = KIR_modify_silence_tt
		custom_effect_tooltip = KIR_silence_stability1_tt
		hidden_effect = {
			subtract_from_variable = { var = KIR_the_silence_stability_var value = 0.01 }
		}
	}
}

country_event = {
	id = kirin.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.8"}
	title = kirin.8.t
	desc = kirin.8.d
	
	#picture = X
	
	is_triggered_only = yes
	
	option = {
		name = kirin.8.a
		add_manpower = 10000
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 1000
		}
	}
}

country_event = {
	id = kirin.9
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.9"}
	title = kirin.9.t
	desc = kirin.9.d
	
	#picture = X
	
	is_triggered_only = yes
	
	option = {
		name = kirin.9.a
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_stabilityB_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_stab_var value = 0.05 }
		}
		custom_effect_tooltip = KIR_modify_plenum_democratic1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_democratic_var value = 0.5 }
		}
	}
	
	option = {
		name = kirin.9.b
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_modify_plenum_driftdefense1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_DD_var value = 0.1 }
		}
		custom_effect_tooltip = KIR_modify_plenum_neutrality1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_neutrality_var value = 0.5 }
		}
	}
	
	option = {
		name = kirin.9.c
		custom_effect_tooltip = KIR_modify_plenum_tt
		custom_effect_tooltip = KIR_silence_polpowergain1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_PP_var value = 0.1 }
		}
		custom_effect_tooltip = KIR_modify_plenum_supremacist1_tt
		hidden_effect = {
			add_to_variable = { var = KIR_plenum_fascism_var value = 0.5 }
		}
	}
}

country_event = {
	id = kirin.100
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.100"}
	title = kirin.100.t
	desc = kirin.100.d
	
	#picture = X
	
	is_triggered_only = yes
	
	option = {
		name = kirin.100.a
	}
}

country_event = {
	id = kirin.101
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin.101"}
	title = kirin.101.t
	desc = kirin.101.d
	
	#picture = X
	
	is_triggered_only = yes
	
	option = {
		name = kirin.101.a
	}
}

country_event = {
	id = kirin_test.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.1"}

	hidden = yes
	is_triggered_only = yes
	option = {
		every_country = {
			limit = {
				NOT = {
					original_tag = KIR
					original_tag = KIC
					original_tag = KIS
				}
			}
			country_event = { id = kirin_test.2 }
		}
	}
}

country_event = {
	id = kirin_test.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.2"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		FROM = {
			annex_country = {
				target = ROOT
			}
		}
	}
}

country_event = {
	id = kirin_test.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.3"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		set_technology = { tech_support = 1 }
		set_technology = { tech_kirin_vanguard = 1 }
		add_manpower = 1000000
		division_template = {
			name = "Garrison Banner"
			division_names_group = KIR_BANNER
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 1 y = 0 }
				infantry = { x = 1 y = 1 }
			}
		}
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 15000
		}
		1059 = {
			create_unit = { division = "division_template = \"Kirin Banner\"	start_experience_factor = 0.3" owner = ROOT count = 60 }
			create_unit = { division = "division_template = \"Kirin Vanguards\"	start_experience_factor = 0.3" owner = ROOT count = 20 }
		}
		every_state = {
			limit = { is_core_of = KIR }
			add_core_of = KIC
			add_core_of = KIS
		}
		KIC = {
			transfer_state = 1077
			transfer_state = 1079
			transfer_state = 1080
			transfer_state = 1081
			transfer_state = 1082
			transfer_state = 926
			set_capital = 1081
			inherit_technology = KIR
		}
		KIS = {
			transfer_state = 1071
			transfer_state = 1088
			transfer_state = 1060
			transfer_state = 1066
			set_capital = 1071
			inherit_technology = KIR
		}
		KIR = {
			transfer_units_fraction= {
				target = KIS
				size = 0.25
				stockpile_ratio = 0.3
				navy_ratio = 1
			}
		}
		KIC = {
			declare_war_on = {
				target = KIR
				type = civil_war
			}
			add_civil_war_target = KIR
			declare_war_on = {
				target = KIS
				type = civil_war
			}
			add_civil_war_target = KIS
		}
		KIS = {
			declare_war_on = {
				target = KIR
				type = civil_war
			}
			add_civil_war_target = KIR
			declare_war_on = {
				target = KIC
				type = civil_war
			}
			add_civil_war_target = KIC
		}
		KIR = {
			declare_war_on = {
				target = KIS
				type = civil_war
			}
			add_civil_war_target = KIS
			declare_war_on = {
				target = KIC
				type = civil_war
			}
			add_civil_war_target = KIC
		}
		KIR_KIS_transfer_civil_war_provinces = yes
		KIR = {
			transfer_units_fraction= {
				target = KIC
				size = 0.4
				stockpile_ratio = 0.3
			}
		}
		1059 = {
			create_unit = {
				division = "name = \"Vermilion Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.3 start_equipment_factor = 0.7" 
				owner = KIR 
				prioritize_location = 20456 
				allow_spawning_on_enemy_provs = no 
				count = 1
				#id = 777
			}
		}
		1073 = {
			create_unit = {
				division = "name = \"Verdant Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.3 start_equipment_factor = 0.75" 
				owner = KIR 
				prioritize_location = 16672 
			}
		}
		1069 = {
			create_unit = {
				division = "name = \"Sorghum Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.2 start_equipment_factor = 0.25" 
				owner = KIR 
				prioritize_location = 20626 
			}
		}
		1064 = {
			create_unit = {
				division = "name = \"Massicot Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.3 start_equipment_factor = 0.75" 
				owner = KIR 
				prioritize_location = 20416 
			}
		}
		1081 = {
			create_unit = {
				division = "name = \"Chrysanthemum Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.2 start_equipment_factor = 0.3" 
				owner = KIR 
				prioritize_location = 20392 
			}
		}
		1071 = {
			create_unit = {
				division = "name = \"Fragrance Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.3 start_equipment_factor = 0.88" 
				owner = KIS 
				prioritize_location = 20563 
			}
		}
		1060 = {
			create_unit = {
				division = "name = \"Rhapsody Garrison\" division_template = \"Garrison Banner\" start_experience_factor = 0.3 start_equipment_factor = 0.9" 
				owner = KIS 
				prioritize_location = 20524
			}
		}
	}
}

country_event = {
	id = kirin_test.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.4"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		1059 = {
			create_unit = { division = "division_template = \"Kirin Banner\"	start_experience_factor = 0.3" owner = ROOT count = 1600 }
		}
	}
}

country_event = {
	id = kirin_test.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.5"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
	}
}

country_event = {
	id = kirin_test.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.6"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		add_to_variable = { KIR_diary_SG_protag_1_button_var = 1 } ##unlocks one entry for protag 1
		meta_effect = {
		  text = {
			set_variable = { KIR_diary_SG_protag_1_entry_[IDKIRX]_var = 1 } ##sets protag 1 entry (the last entry of all of protag 1's available entries) as loc entry 1
		  }
		  IDKIRX = "[?KIR_diary_SG_protag_1_button_var|0]"
		}
		KIR_unlock_entry_effect = yes
	}
}

country_event = {
	id = kirin_test.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.7"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		set_country_flag = KIR_armour_bureau_available
	}
}

country_event = {
	id = kirin_test.8
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.8"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
	}
}