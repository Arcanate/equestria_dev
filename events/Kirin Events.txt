add_namespace = kirin
add_namespace = kirin_test

country_event = {
	id = kirin_test.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.1"}

	hidden = yes
	is_triggered_only = yes
	option = {
		every_country = {
			limit = {
				NOT = {
					original_tag = KIR
					original_tag = KIC
					original_tag = KIS
				}
			}
			country_event = { id = kirin_test.2 }
		}
	}
}

country_event = {
	id = kirin_test.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.2"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		FROM = {
			annex_country = {
				target = ROOT
			}
		}
	}
}

country_event = {
	id = kirin_test.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.3"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		set_technology = { tech_support = 1 }
		set_technology = { tech_kirin_vanguard = 1 }
		add_manpower = 1000000
		add_equipment_to_stockpile = {
			type = infantry_equipment
			amount = 15000
		}
		1059 = {
			create_unit = { division = "division_template = \"Kirin Banner\"	start_experience_factor = 0.3" owner = ROOT count = 60 }
			create_unit = { division = "division_template = \"Kirin Vanguards\"	start_experience_factor = 0.3" owner = ROOT count = 20 }
		}
		every_state = {
			limit = { is_core_of = KIR }
			add_core_of = KIC
			add_core_of = KIS
		}
		KIC = {
			transfer_state = 1077
			transfer_state = 1079
			transfer_state = 1080
			transfer_state = 1081
			transfer_state = 1082
			transfer_state = 926
			set_capital = 1081
			inherit_technology = KIR
		}
		KIS = {
			transfer_state = 1071
			transfer_state = 1088
			transfer_state = 1060
			transfer_state = 1066
			set_capital = 1071
			inherit_technology = KIR
		}
		KIR = {
			transfer_units_fraction= {
				target = KIS
				size = 0.25
				stockpile_ratio = 0.3
				navy_ratio = 1
			}
		}
		KIC = {
			declare_war_on = {
				target = KIR
				type = civil_war
			}
			add_civil_war_target = KIR
			declare_war_on = {
				target = KIS
				type = civil_war
			}
			add_civil_war_target = KIS
		}
		KIS = {
			declare_war_on = {
				target = KIR
				type = civil_war
			}
			add_civil_war_target = KIR
			declare_war_on = {
				target = KIC
				type = civil_war
			}
			add_civil_war_target = KIC
		}
		KIR = {
			declare_war_on = {
				target = KIS
				type = civil_war
			}
			add_civil_war_target = KIS
			declare_war_on = {
				target = KIC
				type = civil_war
			}
			add_civil_war_target = KIC
		}
		KIR_KIS_transfer_civil_war_provinces = yes
		KIR = {
			transfer_units_fraction= {
				target = KIC
				size = 0.4
				stockpile_ratio = 0.3
			}
		}
	}
}

country_event = {
	id = kirin_test.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.4"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		1059 = {
			create_unit = { division = "division_template = \"Kirin Banner\"	start_experience_factor = 0.3" owner = ROOT count = 1600 }
		}
	}
}

country_event = {
	id = kirin_test.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event kirin_test.5"}
	
	hidden = yes
	is_triggered_only = yes
	option = {
		every_owned_state = {
			add_core_of = ROOT
		}
	}
}