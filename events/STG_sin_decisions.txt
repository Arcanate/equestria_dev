STG_sinister_provocations_big = {
	STG_stage_provocation_big = {
		icon = border_war
		cost = 20
		ai_will_do = {
			factor = 1
		}
		available = {
			any_state = {
				is_owned_and_controlled_by = FROM
				any_neighbor_state = {
					is_fully_controlled_by = ROOT
					set_temp_variable = { var:attacker_state_temp = id }
					has_ROOT_at_least_1_div_in_current_state_scope = yes
				}
				set_temp_variable = { var:defender_state_temp = id }
			}
			NOT = { has_non_aggression_pact_with = FROM }
		}
		visible = {
			NOT = { has_country_flag = MNC_preparing_raid }
			FROM = { exists = yes }
			NOT = { has_war_with = FROM }
			FROM = {
				NOT = { is_subject_of = ROOT }
				NOT = { is_in_faction_with = ROOT }
			}
			NOT = { is_subject_of = FROM }
			OR = {
				NOT = { has_border_war_with = FROM }
				any_state = {
					is_owned_and_controlled_by = FROM
					any_neighbor_state = {
						is_fully_controlled_by = ROOT
					}
				}
			}
			has_country_flag = sinister_for_border_wars
		}
		target_trigger = {
			FROM = { 
				is_neighbor_of = ROOT
				NOT = {
					is_subject_of = ROOT
					has_government = communism
				}
			}
		}
		highlight_states = {
			OR = {
				state = FROM.defender_state_vs_@ROOT
				AND = {
					is_owned_and_controlled_by = FROM
					any_neighbor_state = {
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						is_fully_controlled_by = ROOT
					}
				}
			}
		}
		days_re_enable = 100
		days_remove = 30
		complete_effect = {
			hidden_effect = {
				random_state = {
					limit = {
						is_owned_and_controlled_by = FROM
						any_neighbor_state = {
							has_ROOT_at_least_1_div_in_current_state_scope = yes
							is_fully_controlled_by = ROOT
						}
					}
					save_event_target_as = defender_state
					set_variable = { FROM.defender_state_vs_@ROOT = id }
					set_temp_variable = { defender_state_temp = id }
				}
				random_state = {
					limit = {
						is_fully_controlled_by = ROOT
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						any_neighbor_state = {
							state = var:FROM.defender_state_vs_@ROOT
						}
					}
					save_event_target_as = attacker_state
					set_variable = { FROM.attacker_state_vs_@ROOT = id }
					set_temp_variable = { attacker_state_temp = id }
				}
				set_country_flag = MNC_preparing_raid
			}
		}
		remove_effect = {
			activate_targeted_decision = { target = FROM decision = STG_border_conflict_big }
		}
	}
	STG_border_conflict_big = {

		icon = border_war

		allowed = { always = no } #Activated from effect

		available = {
			var:FROM.attacker_state_vs_@ROOT = {
				is_fully_controlled_by = ROOT
			}
			divisions_in_border_state = {
				state = var:FROM.attacker_state_vs_@ROOT
				border_state = var:FROM.defender_state_vs_@ROOT
				size > 0
			}
		}
		highlight_states = {
			state = var:FROM.attacker_state_vs_@ROOT
		}

		ai_will_do = {
			base = 2
			modifier = {
				
			}
		}

		cancel_trigger = {
			is_in_faction_with = FROM
		}

		fire_only_once = yes #Reactivation handled in effect

		selectable_mission = yes

		days_mission_timeout = 30

		timeout_effect = {
			hidden_effect = {
				FROM = {
					clear_variable = attacker_state_vs_@ROOT
					clear_variable = defender_state_vs_@ROOT
				}
				clr_country_flag = MNC_preparing_raid
				remove_targeted_decision = { target = FROM decision = MNC_initiate_raid }
				activate_targeted_decision = { target = FROM decision = MNC_prepare_raid }
			}
		}

		complete_effect = {
			FROM = {
				add_opinion_modifier = { modifier = enemies target = ROOT }
			}
			start_border_war = {
				change_state_after_war = yes
				attacker = {
					state = var:FROM.attacker_state_vs_@ROOT
					num_provinces = 4
					on_win = mountain.22
					on_lose = mountain.24
					on_cancel = mountain.23
				}
				
				defender = {
					state = var:FROM.defender_state_vs_@ROOT
					num_provinces = 4
					on_win = mountain.27
					on_lose = mountain.25
					on_cancel = mountain.26
				}
			}
			hidden_effect = { 
				clr_country_flag = MNC_preparing_raid 
			}
		}
	}
}
STG_sinister_provocations_small = {
	STG_stage_provocation_small = {
		icon = border_war
		cost = 20
		ai_will_do = {
			factor = 1
		}
		available = {
			any_state = {
				is_owned_and_controlled_by = FROM
				any_neighbor_state = {
					is_fully_controlled_by = ROOT
					set_temp_variable = { var:attacker_state_temp = id }
					has_ROOT_at_least_1_div_in_current_state_scope = yes
				}
				set_temp_variable = { var:defender_state_temp = id }
			}
			NOT = { has_non_aggression_pact_with = FROM }
		}
		visible = {
			NOT = { has_country_flag = MNC_preparing_raid }
			FROM = { exists = yes }
			NOT = { has_war_with = FROM }
			FROM = {
				NOT = { is_subject_of = ROOT }
				NOT = { is_in_faction_with = ROOT }
			}
			NOT = { is_subject_of = FROM }
			OR = {
				NOT = { has_border_war_with = FROM }
				any_state = {
					is_owned_and_controlled_by = FROM
					any_neighbor_state = {
						is_fully_controlled_by = ROOT
					}
				}
			}
			has_country_flag = sinister_for_border_wars
		}
		target_trigger = {
			FROM = { 
				is_neighbor_of = ROOT
				NOT = {
					is_subject_of = ROOT
					has_government = communism
				}
			}
		}
		highlight_states = {
			OR = {
				state = FROM.defender_state_vs_@ROOT
				AND = {
					is_owned_and_controlled_by = FROM
					any_neighbor_state = {
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						is_fully_controlled_by = ROOT
					}
				}
			}
		}
		complete_effect = {

			hidden_effect = {
				random_state = {
					limit = {
						is_owned_and_controlled_by = FROM
						any_neighbor_state = {
							has_ROOT_at_least_1_div_in_current_state_scope = yes
							is_fully_controlled_by = ROOT
						}
					}
					save_event_target_as = defender_state
					set_variable = { FROM.defender_state_vs_@ROOT = id }
					set_temp_variable = { defender_state_temp = id }
				}
				random_state = {
					limit = {
						is_fully_controlled_by = ROOT
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						any_neighbor_state = {
							state = var:FROM.defender_state_vs_@ROOT
						}
					}
					save_event_target_as = attacker_state
					set_variable = { FROM.attacker_state_vs_@ROOT = id }
					set_temp_variable = { attacker_state_temp = id }
				}
				set_country_flag = MNC_preparing_raid
			}
		}
		days_re_enable = 30
		days_remove = 10
		remove_effect = {
			activate_targeted_decision = { target = FROM decision = STG_border_conflict_small }
		}
	}
	STG_border_conflict_small = {

		icon = border_war

		allowed = { always = no } #Activated from effect

		available = {
			var:FROM.attacker_state_vs_@ROOT = {
				is_fully_controlled_by = ROOT
			}
			divisions_in_border_state = {
				state = var:FROM.attacker_state_vs_@ROOT
				border_state = var:FROM.defender_state_vs_@ROOT
				size > 0
			}
		}
		highlight_states = {
			state = var:FROM.attacker_state_vs_@ROOT
		}

		ai_will_do = {
			base = 2
			modifier = {
				
			}
		}

		cancel_trigger = {
			is_in_faction_with = FROM
		}

		fire_only_once = yes #Reactivation handled in effect

		selectable_mission = yes

		days_mission_timeout = 30

		timeout_effect = {
			hidden_effect = {
				FROM = {
					clear_variable = attacker_state_vs_@ROOT
					clear_variable = defender_state_vs_@ROOT
				}
				clr_country_flag = MNC_preparing_raid
			}
		}

		complete_effect = {
			FROM = {
				add_opinion_modifier = { modifier = enemies target = ROOT }
			}
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = var:FROM.attacker_state_vs_@ROOT
					num_provinces = 2
					on_win = mountain.22
					on_lose = mountain.24
					on_cancel = mountain.23
				}
				
				defender = {
					state = var:FROM.defender_state_vs_@ROOT
					num_provinces = 2
					on_win = mountain.27
					on_lose = mountain.25
					on_cancel = mountain.26
				}
			}
			hidden_effect = { 
				clr_country_flag = MNC_preparing_raid 
				remove_targeted_decision = { target = FROM decision = MNC_initiate_raid }
				activate_targeted_decision = { target = FROM decision = MNC_prepare_raid }
			}
		}
	}
}
STG_sinister_provocations = {
	
	STG_stage_provocation_medium = {
		icon = border_war
		cost = 20
		ai_will_do = {
			factor = 1
		}
		available = {
			any_state = {
				is_owned_and_controlled_by = FROM
				any_neighbor_state = {
					is_fully_controlled_by = ROOT
					set_temp_variable = { var:attacker_state_temp = id }
					has_ROOT_at_least_1_div_in_current_state_scope = yes
				}
				set_temp_variable = { var:defender_state_temp = id }
			}
			NOT = { has_non_aggression_pact_with = FROM }
		}
		visible = {
			NOT = { has_country_flag = MNC_preparing_raid }
			FROM = { exists = yes }
			NOT = { has_war_with = FROM }
			FROM = {
				NOT = { is_subject_of = ROOT }
				NOT = { is_in_faction_with = ROOT }
			}
			NOT = { is_subject_of = FROM }
			OR = {
				NOT = { has_border_war_with = FROM }
				any_state = {
					is_owned_and_controlled_by = FROM
					any_neighbor_state = {
						is_fully_controlled_by = ROOT
					}
				}
			}
			has_country_flag = sinister_for_border_wars
		}
		target_trigger = {
			FROM = { 
				is_neighbor_of = ROOT
				NOT = {
					is_subject_of = ROOT
					has_government = communism
				}
			}
		}
		highlight_states = {
			OR = {
				state = FROM.defender_state_vs_@ROOT
				AND = {
					is_owned_and_controlled_by = FROM
					any_neighbor_state = {
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						is_fully_controlled_by = ROOT
					}
				}
			}
		}
		complete_effect = {
			hidden_effect = {
				random_state = {
					limit = {
						is_owned_and_controlled_by = FROM
						any_neighbor_state = {
							has_ROOT_at_least_1_div_in_current_state_scope = yes
							is_fully_controlled_by = ROOT
						}
					}
					save_event_target_as = defender_state
					set_variable = { FROM.defender_state_vs_@ROOT = id }
					set_temp_variable = { defender_state_temp = id }
				}
				random_state = {
					limit = {
						is_fully_controlled_by = ROOT
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						any_neighbor_state = {
							state = var:FROM.defender_state_vs_@ROOT
						}
					}
					save_event_target_as = attacker_state
					set_variable = { FROM.attacker_state_vs_@ROOT = id }
					set_temp_variable = { attacker_state_temp = id }
				}
				set_country_flag = MNC_preparing_raid
			}
		}
		days_re_enable = 60
		days_remove = 20
		remove_effect = {
			activate_targeted_decision = { target = FROM decision = STG_border_conflict_medium }
		}
	}
	
	
	STG_border_conflict_medium = {

		icon = border_war

		allowed = { always = no } #Activated from effect

		available = {
			var:FROM.attacker_state_vs_@ROOT = {
				is_fully_controlled_by = ROOT
			}
			divisions_in_border_state = {
				state = var:FROM.attacker_state_vs_@ROOT
				border_state = var:FROM.defender_state_vs_@ROOT
				size > 0
			}
		}
		highlight_states = {
			state = var:FROM.attacker_state_vs_@ROOT
		}

		ai_will_do = {
			base = 2
			modifier = {
				
			}
		}

		cancel_trigger = {
			is_in_faction_with = FROM
		}

		fire_only_once = yes #Reactivation handled in effect

		selectable_mission = yes

		days_mission_timeout = 30

		timeout_effect = {
			hidden_effect = {
				FROM = {
					clear_variable = attacker_state_vs_@ROOT
					clear_variable = defender_state_vs_@ROOT
				}
				clr_country_flag = MNC_preparing_raid
			}
		}

		complete_effect = {
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = var:FROM.attacker_state_vs_@ROOT
					num_provinces = 4
					on_win = mountain.22
					on_lose = mountain.24
					on_cancel = mountain.23
				}
				
				defender = {
					state = var:FROM.defender_state_vs_@ROOT
					num_provinces = 4
					on_win = mountain.27
					on_lose = mountain.25
					on_cancel = mountain.26
				}
			}
			FROM = {
				add_opinion_modifier = { modifier = enemies target = ROOT }
			}
			hidden_effect = { 
				clr_country_flag = MNC_preparing_raid 
				remove_targeted_decision = { target = FROM decision = MNC_initiate_raid }
				activate_targeted_decision = { target = FROM decision = MNC_prepare_raid }
			}
		}
	}
	
}