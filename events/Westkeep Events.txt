add_namespace = westkeep

country_event = { #Westkeep revolution paths, MPA republicans or the Neutrality Countess
	id = westkeep.1
	immediate = {log = "[GetDateText]: [Root.GetName]: event westkeep.1"}
	title = westkeep.1.t
	desc = westkeep.1.d
	picture = GFX_event_medieval_castle_on_hill
	fire_only_once = yes
	is_triggered_only = yes
	option = { #side with the Marquess
		name = westkeep.1.a
		ai_chance = {
			factor = 50
		}
		custom_effect_tooltip = JRR_option_1_tp
		hidden_effect = {
			set_country_flag = JRR_monarchist
		}
	}
	option = { #side with the Colonel
		name = westkeep.1.b
		ai_chance = {
			factor = 50
		}
		custom_effect_tooltip = JRR_option_2_tp
		hidden_effect = {
			set_country_flag = JRR_revolutionary
		}
	}
}

country_event = { #Aurele and her buddies manage to retake Westkeep fully
	id = westkeep.2
	immediate = {log = "[GetDateText]: [Root.GetName]: event westkeep.2"}
	title = westkeep.2.t
	desc = westkeep.2.d
	picture = GFX_event_medieval_castle_on_hill
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = westkeep.2.a
		#Insert Westkeep Characters Here Once I get around to that part of development
		hidden_effect = {
			if = {
			    limit = {
				    JER = {
					    has_completed_focus = JER_fight_for_freedom
					}
				}
			    JER = { 
				    end_puppet = JRR 
				}
			    JRR = { 
				    drop_cosmetic_tag = yes 
				}
			    if = {
				    limit = {
					    JRR = {
						    is_in_faction_with = JER
					    }
				    }
				    JRR = {
					    leave_faction = yes
				    }
			    }
		    }
			if = {
				limit = { 
					JER = { 
						has_completed_focus = JER_fight_for_freedom 
					} 
				}
				declare_war_on = {
					target = JER
					type = annex_everything
				}
			}
		}
	}
}

country_event = { #Revolutionaries Take Control of Westkeep and kill off the Marquess
	id = westkeep.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event westkeep.3"}
	title = westkeep.3.t
	desc = westkeep.3.d
	picture = GFX_event_griffon_back
	fire_only_once = yes
	is_triggered_only = yes
	option = {
		name = westkeep.3.a
		#Insert Westkeep Characters Here Once I get around to that part of development
		hidden_effect = {
			if = {
			    limit = {
				    JER = {
					    has_completed_focus = JER_state_of_aquileia
					}
				}
			    JER = { 
				    end_puppet = JRR 
				}
			    JRR = { 
				    drop_cosmetic_tag = yes 
				}
			    if = {
				    limit = {
					    JRR = {
						    is_in_faction_with = JER
					    }
				    }
				    JRR = {
					    leave_faction = yes
				    }
			    }
		    }
			if = {
				limit = { 
					JER = { 
						has_completed_focus = JER_state_of_aquileia
					} 
				}
				declare_war_on = {
					target = JER
					type = annex_everything
				}
			}
		}
	}
}