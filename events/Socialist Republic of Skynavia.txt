add_namespace = socrep_grif
add_namespace = srs_borderwar

## attacker ## victory! ##
country_event = {
	id = srs_borderwar.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event srs_borderwar.3"}#Auto-logging
	title = srs_borderwar.3.t
	desc = srs_borderwar.3.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = srs_borderwar.3.a
		add_stability = 0.05
		add_political_power = 50
	}
}

## attacker ## defeat! ##
country_event = {
	id = srs_borderwar.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event srs_borderwar.4"}#Auto-logging
	title = srs_borderwar.4.t
	desc = srs_borderwar.4.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = srs_borderwar.4.a
		add_stability = -0.05
		add_political_power = -50
	}
}

## defender-attacker ## timeout! ##
country_event = {
	id = srs_borderwar.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event srs_borderwar.5"}#Auto-logging
	title = srs_borderwar.5.t
	desc = srs_borderwar.5.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = srs_borderwar.5.a
		random_list = {
			50 = {
				add_political_power = 5
			}
			50 = {
				add_political_power = -5
			}
		}
	}
}

## defender ## victory! ##
country_event = {
	id = srs_borderwar.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event srs_borderwar.6"}#Auto-logging
	title = srs_borderwar.6.t
	desc = srs_borderwar.6.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = srs_borderwar.6.a
		add_stability = 0.05
		add_political_power = 50
	}
}

## defender ## defeat! ##
country_event = {
	id = srs_borderwar.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event srs_borderwar.7"}#Auto-logging
	title = srs_borderwar.7.t
	desc = srs_borderwar.7.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = srs_borderwar.7.a
		add_stability = -0.05
		add_political_power = -50
	}
}

country_event = {
	id = socrep_grif.1
	title = socrep_grif.1.t
	desc = socrep_grif.1.d
	picture = GFX_event_winter_sun

	is_triggered_only = yes

	option = {
		name = socrep_grif.1.a
		add_political_power = 20
	}
}

country_event = {
	id = socrep_grif.2
	title = socrep_grif.2.t
	desc = socrep_grif.2.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.2.a
	}
}

country_event = {
	id = socrep_grif.3
	title = socrep_grif.3.t
	desc = socrep_grif.3.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.3.a
	}
}

country_event = {
	id = socrep_grif.4
	title = socrep_grif.4.t
	desc = socrep_grif.4.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.4.a
	}
}

country_event = {
	id = socrep_grif.5
	title = socrep_grif.5.t
	desc = socrep_grif.5.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.5.a
	}
}

country_event = {
	id = socrep_grif.6
	title = socrep_grif.6.t
	desc = socrep_grif.6.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.6.a
	}
}

country_event = {
	id = socrep_grif.7
	title = socrep_grif.7.t
	desc = socrep_grif.7.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.7.a
	}
}

country_event = {
	id = socrep_grif.8
	title = socrep_grif.8.t
	desc = {                              
		text = socrep_grif.8.d_a     
		trigger = { check_variable = { displeasure_towards_internationalists_var > displeasure_towards_communards_var } }
	}
	desc = {                              
		text = socrep_grif.8.d_b     
		trigger = { check_variable = { displeasure_towards_communards_var > displeasure_towards_internationalists_var } }
	}
	desc = {                              
		text = socrep_grif.8.d_c     
		trigger = { check_variable = { displeasure_towards_communards_var > displeasure_towards_internationalists_var } }
	}

	is_triggered_only = yes
	
	option = {
		name = socrep_grif.8.a ## Communalists gain delegates ##
		trigger = {
			check_variable = { displeasure_towards_internationalists_var > displeasure_towards_communards_var }
		}
		activate_mission = SRS_elections_timer
		clear_variable = displeasure_towards_communards_var
		clear_variable = displeasure_towards_internationalists_var
		if = {
			limit = { 
				check_variable = { communards_support_var < 35 } 
				check_variable = { communards_support_var > 28 } 
			} 
			add_to_variable = { var = communards_support_var value = 3 }
			subtract_from_variable = { var = internationalists_support_var value = 3 }
			custom_effect_tooltip = SRS_add_delegates_communard_3_tt
		}
		if = { 
			limit = { check_variable = { communards_support_var < 29 } } 
			add_to_variable = { var = communards_support_var value = 4 }
			subtract_from_variable = { var = internationalists_support_var value = 4 }
			custom_effect_tooltip = SRS_add_delegates_communard_4_tt
		}
		if = { 
			limit = { check_variable = { communards_support_var > 34 } } 
			add_to_variable = { var = communards_support_var value = 2 }
			subtract_from_variable = { var = internationalists_support_var value = 2 }
			custom_effect_tooltip = SRS_add_delegates_communard_2_tt
		}
	}
	option = {
		name = socrep_grif.8.b ## Internationalists gain delegates ##
		trigger = {
			check_variable = { displeasure_towards_communards_var > displeasure_towards_internationalists_var }
		}
		activate_mission = SRS_elections_timer
		clear_variable = displeasure_towards_communards_var
		clear_variable = displeasure_towards_internationalists_var
		if = { 
			limit = { 
				check_variable = { internationalists_support_var < 35 } ## 29-34 ##
				check_variable = { internationalists_support_var > 28 }
			}
			subtract_from_variable = { var = communards_support_var value = 3 }
			add_to_variable = { var = internationalists_support_var value = 3 }
			custom_effect_tooltip = SRS_add_delegates_internationalist_3_tt
		}
		if = { 
			limit = { check_variable = { internationalists_support_var < 29 } }
			subtract_from_variable = { var = communards_support_var value = 4 }
			add_to_variable = { var = internationalists_support_var value = 4 }
			custom_effect_tooltip = SRS_add_delegates_internationalist_4_tt
		}
		if = { 
			limit = { check_variable = { internationalists_support_var > 34 } } 
			subtract_from_variable = { var = communards_support_var value = 2 }
			add_to_variable = { var = internationalists_support_var value = 2 }
			custom_effect_tooltip = SRS_add_delegates_internationalist_2_tt
		}
	}
	option = {
		name = socrep_grif.8.c ## None gains delegates ##
		trigger = {
			check_variable = { displeasure_towards_communards_var = displeasure_towards_internationalists_var }
		}
		activate_mission = SRS_elections_timer
	}
}