add_namespace = socrep_grif
add_namespace = socrep_grif_news
add_namespace = srs_borderwar

## attacker ## victory! ##
country_event = {
	id = srs_borderwar.3
	immediate = {log = "[GetDateText]: [Root.GetName]: event srs_borderwar.3"}#Auto-logging
	title = srs_borderwar.3.t
	desc = srs_borderwar.3.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = srs_borderwar.3.a
		add_stability = 0.05
		add_political_power = 50
	}
}

## attacker ## defeat! ##
country_event = {
	id = srs_borderwar.4
	immediate = {log = "[GetDateText]: [Root.GetName]: event srs_borderwar.4"}#Auto-logging
	title = srs_borderwar.4.t
	desc = srs_borderwar.4.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = srs_borderwar.4.a
		add_stability = -0.05
		add_political_power = -50
	}
}

## defender-attacker ## timeout! ##
country_event = {
	id = srs_borderwar.5
	immediate = {log = "[GetDateText]: [Root.GetName]: event srs_borderwar.5"}#Auto-logging
	title = srs_borderwar.5.t
	desc = srs_borderwar.5.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = srs_borderwar.5.a
		random_list = {
			50 = {
				add_political_power = 5
			}
			50 = {
				add_political_power = -5
			}
		}
	}
}

## defender ## victory! ##
country_event = {
	id = srs_borderwar.6
	immediate = {log = "[GetDateText]: [Root.GetName]: event srs_borderwar.6"}#Auto-logging
	title = srs_borderwar.6.t
	desc = srs_borderwar.6.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = srs_borderwar.6.a
		add_stability = 0.05
		add_political_power = 50
	}
}

## defender ## defeat! ##
country_event = {
	id = srs_borderwar.7
	immediate = {log = "[GetDateText]: [Root.GetName]: event srs_borderwar.7"}#Auto-logging
	title = srs_borderwar.7.t
	desc = srs_borderwar.7.d
	picture = GFX_event_griffon_soldier
	is_triggered_only = yes

	option = {
		name = srs_borderwar.7.a
		add_stability = -0.05
		add_political_power = -50
	}
}

country_event = {
	id = socrep_grif.1
	title = socrep_grif.1.t
	desc = socrep_grif.1.d
	picture = GFX_event_winter_sun

	is_triggered_only = yes

	option = {
		name = socrep_grif.1.a
		add_political_power = 20
	}
}

country_event = {
	id = socrep_grif.2
	title = socrep_grif.2.t
	desc = socrep_grif.2.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.2.a
		add_tech_bonus = {
			name = industrial_bonus
			bonus = 0.5
			uses = 2
			category = industry
		}
	}
}

country_event = {
	id = socrep_grif.3
	title = socrep_grif.3.t
	desc = socrep_grif.3.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.3.a
		add_political_power = 120
		add_stability = 0.05
	}
}

country_event = {
	id = socrep_grif.4
	title = socrep_grif.4.t
	desc = socrep_grif.4.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.4.a
		add_ideas = SRS_centralism_idea
	}
}

country_event = {
	id = socrep_grif.5
	title = socrep_grif.5.t
	desc = socrep_grif.5.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.5.a
		add_ideas = SRS_confederalism_idea
	}
}

country_event = {
	id = socrep_grif.6
	title = socrep_grif.6.t
	desc = socrep_grif.6.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.6.a
		add_ideas = SRS_vanguard_idea
	}
}

country_event = {
	id = socrep_grif.7
	title = socrep_grif.7.t
	desc = socrep_grif.7.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.7.a
		add_ideas = SRS_revolution_of_the_people_idea
	}
}

country_event = {
	id = socrep_grif.8
	title = socrep_grif.8.t
	desc = {                              
		text = socrep_grif.8.d_a     
		trigger = { check_variable = { displeasure_towards_internationalists_var > displeasure_towards_communards_var } }
	}
	desc = {                              
		text = socrep_grif.8.d_b     
		trigger = { check_variable = { displeasure_towards_communards_var > displeasure_towards_internationalists_var } }
	}
	desc = {                              
		text = socrep_grif.8.d_c     
		trigger = { check_variable = { displeasure_towards_communards_var > displeasure_towards_internationalists_var } }
	}

	is_triggered_only = yes
	
	option = {
		name = socrep_grif.8.a ## Communalists gain delegates ##
		trigger = {
			check_variable = { displeasure_towards_internationalists_var > displeasure_towards_communards_var }
		}
		activate_mission = SRS_elections_timer
		clear_variable = displeasure_towards_communards_var
		clear_variable = displeasure_towards_internationalists_var
		if = {
			limit = { 
				check_variable = { communards_support_var < 35 } 
				check_variable = { communards_support_var > 28 } 
			} 
			add_to_variable = { var = communards_support_var value = 3 }
			subtract_from_variable = { var = internationalists_support_var value = 3 }
			custom_effect_tooltip = SRS_add_delegates_communard_3_tt
		}
		if = { 
			limit = { check_variable = { communards_support_var < 29 } } 
			add_to_variable = { var = communards_support_var value = 4 }
			subtract_from_variable = { var = internationalists_support_var value = 4 }
			custom_effect_tooltip = SRS_add_delegates_communard_4_tt
		}
		if = { 
			limit = { check_variable = { communards_support_var > 34 } } 
			add_to_variable = { var = communards_support_var value = 2 }
			subtract_from_variable = { var = internationalists_support_var value = 2 }
			custom_effect_tooltip = SRS_add_delegates_communard_2_tt
		}
	}
	option = {
		name = socrep_grif.8.b ## Internationalists gain delegates ##
		trigger = {
			check_variable = { displeasure_towards_communards_var > displeasure_towards_internationalists_var }
		}
		activate_mission = SRS_elections_timer
		clear_variable = displeasure_towards_communards_var
		clear_variable = displeasure_towards_internationalists_var
		if = { 
			limit = { 
				check_variable = { internationalists_support_var < 35 } ## 29-34 ##
				check_variable = { internationalists_support_var > 28 }
			}
			subtract_from_variable = { var = communards_support_var value = 3 }
			add_to_variable = { var = internationalists_support_var value = 3 }
			custom_effect_tooltip = SRS_add_delegates_internationalist_3_tt
		}
		if = { 
			limit = { check_variable = { internationalists_support_var < 29 } }
			subtract_from_variable = { var = communards_support_var value = 4 }
			add_to_variable = { var = internationalists_support_var value = 4 }
			custom_effect_tooltip = SRS_add_delegates_internationalist_4_tt
		}
		if = { 
			limit = { check_variable = { internationalists_support_var > 34 } } 
			subtract_from_variable = { var = communards_support_var value = 2 }
			add_to_variable = { var = internationalists_support_var value = 2 }
			custom_effect_tooltip = SRS_add_delegates_internationalist_2_tt
		}
	}
	option = {
		name = socrep_grif.8.c ## Noone gains delegates ##
		trigger = {
			check_variable = { displeasure_towards_communards_var = displeasure_towards_internationalists_var }
		}
		activate_mission = SRS_elections_timer
	}
}

country_event = {
	id = socrep_grif.9 ## Communalist - Social Revolution in the Communes ##
	title = socrep_grif.9.t
	desc = socrep_grif.9.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.9.a
		add_political_power = 100
		increase_science_base = yes
	}
}

country_event = {
	id = socrep_grif.10 ## Internationalist - Birthday of the Revolution ##
	title = socrep_grif.10.t
	desc = socrep_grif.10.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.10.a
		add_political_power = 100
		add_ideas = partial_economic_mobilisation 
	}
}

country_event = {
	id = socrep_grif.11 ## Young griffon goes to class ##
	title = socrep_grif.11.t
	desc = socrep_grif.11.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.11.a
		decrease_illiteracy = yes
	}
}

country_event = {
	id = socrep_grif.12 ## weekly debates ##
	title = socrep_grif.12.t
	desc = socrep_grif.12.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.12.a
		decrease_illiteracy = yes
	}
}

country_event = {
	id = socrep_grif.13 ## the open university of new skynavia ##
	title = socrep_grif.13.t
	desc = socrep_grif.13.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.13.a
		increase_science_base = yes
	}
}

country_event = {
	id = socrep_grif.14 
	title = socrep_grif.14.t
	desc = socrep_grif.14.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.14.a
		every_owned_state = { 
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
}

country_event = {
	id = socrep_grif.15 
	title = socrep_grif.15.t
	desc = socrep_grif.15.d

	is_triggered_only = yes

	option = {
		name = socrep_grif.15.a
		every_owned_state = { 
			add_extra_state_shared_building_slots = 1
		}
	}
}

news_event = {
	id = socrep_grif_news.1
	title = socrep_grif_news.1.t
	desc = socrep_grif_news.1.d

	is_triggered_only = yes

	option = {
		name = socrep_grif_news.1.a
		trigger = { NOT = { has_government = communism } }
	}
	option = {
		name = socrep_grif_news.1.b
		trigger = { has_government = communism }
		FROM = {
				add_opinion_modifier = { target = SRS modifier = common_cause }
		}
	}
}