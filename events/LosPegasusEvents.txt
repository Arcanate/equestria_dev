add_namespace = lsp

country_event = { #The Rise of Los Pegasus
	id = lsp.1
	immediate = {log = "[Root.GetName]: event lsp.1"}#Auto-logging
	title = lsp.1.t
	desc = lsp.1.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes

	option = {
		name = lsp.1.a
		LSP = {
			transfer_state = 66
			transfer_state = 100
		}
		66 = {
			add_core_of = LSP
		}
		100 = {
			add_core_of = LSP
		}
	}
}
country_event = { #The Battle of the Boulevard - fascists and communists battle for control of the streets, hopefully wiping each other out - but that isn't guaranteed...
	id = lsp.2
	immediate = {log = "[Root.GetName]: event lsp.2"}#Auto-logging
	title = lsp.2.t
	desc = lsp.2.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes

	option = {##Whichever is lower between fascism and communism gets destroyed, and the winner loses pop equal to the loser's former pop. Then, if it's strong enough, it takes over, otherwise the mayor or the harmonists take over
		name = lsp.2.a
		if = {
			limit = {
				COMMUNISM > FASCISM
			}
			set_variable = { LSP_fascism_support_at_battle = party_popularity@fascism }
			multiply_variable = { var = LSP_fascism_support_at_battle value = -1 }#So that we can subtract it from the commie and fascist pop
			hidden_effect = {
				country_event = { id = lsp.100}
			}

		}
		if = {
			limit = {
				FASCISM > COMMUNISM
			}
			set_variable = { LSP_communist_support_at_battle = party_popularity@communism }
			multiply_variable = { var = LSP_communist_support_at_battle value = -1 }#So that we can subtract it from the commie and fascist pop
			hidden_effect = {
				country_event = { id = lsp.101}
			}

		}
	}
}
country_event = { #Battle of the Boulevard results done secretly
	id = lsp.100
	immediate = {log = "[Root.GetName]: event lsp.100"}#Auto-logging
	title = lsp.100.t
	desc = lsp.100.d
	hidden = yes
	picture = GFX_event_griffon_back
	is_triggered_only = yes

	option = {##Whichever is lower between fascism and communism gets destroyed, and the winner loses pop equal to the loser's former pop. Then, if it's strong enough, it takes over, otherwise the mayor or the harmonists take over
		name = lsp.100.a
			add_party_popularity = {
				ideology = communism
				popularity = LSP_fascism_support_at_battle
			}
			add_party_popularity = {
				ideology = fascism
				popularity = LSP_fascism_support_at_battle
			}
			if = {
				limit = {
					AND = {
						check_variable = { party_popularity@communism > party_popularity@neutrality }
						check_variable = { party_popularity@communism > party_popularity@democratic }
					}
				}
				country_event = { id = lsp.5}
			}
			if = {
				limit = {
					AND = {
						check_variable = { party_popularity@democratic > party_popularity@neutrality }
						check_variable = { party_popularity@democratic > party_popularity@communism }
					}
				}
				country_event = { id = lsp.3}
			}
}
}
country_event = { #Battle of the Boulevard results done secretly
	id = lsp.101
	immediate = {log = "[Root.GetName]: event lsp.101"}#Auto-logging
	title = lsp.101.t
	desc = lsp.101.d
	hidden = yes
	picture = GFX_event_griffon_back
	is_triggered_only = yes

	option = {##Whichever is lower between fascism and communism gets destroyed, and the winner loses pop equal to the loser's former pop. Then, if it's strong enough, it takes over, otherwise the mayor or the harmonists take over
		name = lsp.101.a
			add_popularity = {
				ideology = fascism
				popularity = LSP_communist_support_at_battle
			}
			add_popularity = {
				ideology = communism
				popularity = LSP_communist_support_at_battle
			}
			if = {
				limit = {
					AND = {
						check_variable = { party_popularity@fascism > party_popularity@neutrality }
						check_variable = { party_popularity@fascism > party_popularity@democratic }
					}
				}
				country_event = { id = lsp.6}
			}
			if = {
				limit = {
					AND = {
						check_variable = { party_popularity@democratic > party_popularity@neutrality }
						check_variable = { party_popularity@democratic > party_popularity@fascism }
					}
				}
				country_event = { id = lsp.3}
			}
		}
}
country_event = {#Anti-Democracy protestors get their way, and you are re-annexed
	id = lsp.3
	immediate = {log = "[Root.GetName]: event lsp.3"}#Auto-logging
	title = lsp.3.t
	desc = lsp.3.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes

	option = {
		name = lsp.3.a
		EQS = {
			annex_country = { target = ROOT } 
			country_event = { id = lsp.4}
		}
	}
}
country_event = {#Equestria informed of LSP's re-annexation
	id = lsp.4
	immediate = {log = "[Root.GetName]: event lsp.4"}#Auto-logging
	title = lsp.4.t
	desc = lsp.4.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes

	option = {
		name = lsp.4.a
	}
}
country_event = { #The Communists take over
	id = lsp.5
	immediate = {log = "[Root.GetName]: event lsp.5"}#Auto-logging
	title = lsp.5.t
	desc = lsp.5.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes

	option = {
		name = lsp.5.a
		set_politics = { ruling_party = communism elections_allowed = no }
		add_stability = -0.1
		load_focus_tree = { tree = LSP_trade_unions keep_completed = yes }
	}
}
country_event = { #Military Coup against the Mayor
	id = lsp.6
	immediate = {log = "[Root.GetName]: event lsp.6"}#Auto-logging
	title = lsp.6.t
	desc = lsp.6.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes

	option = {#The General retains power and sets up a Junta
		name = lsp.6.a
		set_politics = { ruling_party = fascism elections_allowed = no }
		add_stability = -0.1
		load_focus_tree = { tree = LSP_junta keep_completed = yes }	
	}
	option = {#The General hands power to Rockhoof
		name = lsp.6.b
		set_politics = { ruling_party = fascism elections_allowed = no }
		add_stability = -0.1
		load_focus_tree = { tree = LSP_rockhoof keep_completed = yes }	
	}
	option = {#The General hands power to Mr. House
		name = lsp.6.c
		set_politics = { ruling_party = fascism elections_allowed = no }
		add_stability = -0.1
		load_focus_tree = { tree = LSP_house keep_completed = yes }	
	}
	option = {#The General gives power to Flim&Flam
		name = lsp.6.d
		set_politics = { ruling_party = fascism elections_allowed = no }
		add_stability = -0.1
		load_focus_tree = { tree = LSP_flimflam keep_completed = yes }	
	}
	
}
country_event = { #Military Coup against the Communists
	id = lsp.7
	immediate = {log = "[Root.GetName]: event lsp.7"}#Auto-logging
	title = lsp.7.t
	desc = lsp.7.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes

	option = {#The General retains power and sets up a Junta
		name = lsp.7.a
		set_politics = { ruling_party = fascism elections_allowed = no }
		add_stability = -0.1
		load_focus_tree = { tree = LSP_junta keep_completed = yes }	
	}
	option = {#The General hands power to Rockhoof
		name = lsp.7.b
		set_politics = { ruling_party = fascism elections_allowed = no }
		add_stability = -0.1
		load_focus_tree = { tree = LSP_rockhoof keep_completed = yes }	
	}
	option = {#The General hands power to Mr. House
		name = lsp.7.c
		set_politics = { ruling_party = fascism elections_allowed = no }
		add_stability = -0.1
		load_focus_tree = { tree = LSP_house keep_completed = yes }	
	}
	option = {#The General gives power to Flim&Flam
		name = lsp.7.d
		set_politics = { ruling_party = fascism elections_allowed = no }
		add_stability = -0.1
		load_focus_tree = { tree = LSP_flimflam keep_completed = yes }	
	}
}
country_event = { #First dynamic event: The Mayor's forces infiltrate a big Communist cell and discover an attack being planned. Can either publicly stop it (gaining Neutral Support) or allow it (Commie support and Harmony support goes down)
	id = lsp.8
	immediate = {log = "[Root.GetName]: event lsp.8"}#Auto-logging
	title = lsp.8.t
	desc = lsp.8.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {#Stop the attack and take credit for it personally
		name = lsp.8.a
			add_popularity = {
				ideology = communism
				popularity = -0.05
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
	}
	option = {#Allow the attack to take place, it's against our political enemies
		name = lsp.8.b
			add_popularity = {
				ideology = democratic
				popularity = -0.05
			}
			add_popularity = {
				ideology = communism
				popularity = 0.05
			}
		}
}
country_event = { #Second dynamic event: bring factory owner to trial, or accept a bribe
	id = lsp.9
	immediate = {log = "[Root.GetName]: event lsp.9"}#Auto-logging
	title = lsp.9.t
	desc = lsp.9.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {#Convict him
		name = lsp.9.a
			add_popularity = {
				ideology = fascism
				popularity = -0.05
			}
			add_popularity = {
				ideology = neutrality
				popularity = 0.05
			}
			add_stability = 0.02
			add_political_power = -50
	}
	option = {#Allow the attack to take place, it's against our political enemies
		name = lsp.9.b
			add_popularity = {
				ideology = fascism
				popularity = 0.05
			}
			add_political_power = 50
		}
}
country_event = { #The fascists find out that you've been meddling with Commies, you have to do something if you don't want to get couped
	id = lsp.10
	immediate = {log = "[Root.GetName]: event lsp.10"}#Auto-logging
	title = lsp.10.t
	desc = lsp.10.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {#Oh Crap
		name = lsp.10.a
		set_country_flag = LSP_mayor_rumbled
	}

}

country_event = { #The military's gonna kill us, what are we gonna do boss?????
	id = lsp.11
	immediate = {log = "[Root.GetName]: event lsp.11"}#Auto-logging
	title = lsp.11.t
	desc = lsp.11.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {#Send someone to intercept the messenger
		name = lsp.11.a
		random_list = {
			50 = {#success
				country_event = {
					id = lsp.12
				}
			}
			50 = {#failure
				country_event = {
					id = lsp.13
				}
			}
		}
	}
	option = {#Confess to Pine Chest in the hopes that he will understand and spare your life
		name = lsp.11.b
		trigger = {
			FASCISM > 0.1
		}
		country_event = {
			id = lsp.14
		}
	}
	option = {#Force Pine Chest to accept your explanation, only on very low fascist pop
		name = lsp.11.c
		trigger = {
			FASCISM < 0.1
		}
		country_event = {
			id = lsp.15
		}
	}
	option = {#A massive sack of cash as a bribe to keep them all quiet
		name = lsp.11.d
		add_political_power = -300
		remove_country_flag = LSP_mayor_rumbled
		custom_effect_tooltip = LSP_hush_money
	}

}
country_event = { #You intercept the messenger
	id = lsp.12
	immediate = {log = "[Root.GetName]: event lsp.12"}#Auto-logging
	title = lsp.12.t
	desc = lsp.12.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {#W00t
		name = lsp.12.a
		remove_country_flag = LSP_mayor_rumbled
	}

}
country_event = { #You fail
	id = lsp.13
	immediate = {log = "[Root.GetName]: event lsp.13"}#Auto-logging
	title = lsp.13.t
	desc = lsp.13.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {#Ooof
		name = lsp.13.a
	}

}
country_event = { #You confess to Pine Chest, he removes you from power but you don't die - basically a chance to get fascism in power early
	id = lsp.14
	immediate = {log = "[Root.GetName]: event lsp.14"}#Auto-logging
	title = lsp.14.t
	desc = lsp.14.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {#Ooof
		name = lsp.14.a
		set_politics = {
			ruling_party = fascism
			elections_allowed = no
		}
	}

}
country_event = { #You repress Pine Chest
	id = lsp.15
	immediate = {log = "[Root.GetName]: event lsp.15"}#Auto-logging
	title = lsp.15.t
	desc = lsp.15.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {#Ooof
		name = lsp.15.a
		add_popularity = {
			ideology = neutrality
			popularity = -0.05
		}
		remove_country_flag = LSP_mayor_rumbled
	}

}
country_event = { #You learn of a fascist paramilitary plot to assassinate a government official, and you can stop it to look responsible. Only trouble is that the official is an idiot who does nothing but hurt you, and it'd be awful convenient for him to die...
	id = lsp.16
	immediate = {log = "[Root.GetName]: event lsp.16"}#Auto-logging
	title = lsp.16.t
	desc = lsp.16.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {#Do the responsible thing
		name = lsp.16.a
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
	}
	option = {#Let's just burn this report
		name = lsp.16.b
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		remove_ideas = LSP_ball_and_chain
		set_country_flag = LSP_ball_and_chain_done_for
	}

}
country_event = {#We discover a plot by the criminal underworld to assassinate a popular trade union leader. Should we allow this to go ahead?
	id = lsp.17
	immediate = {log = "[Root.GetName]: event lsp.17"}#Auto-logging
	title = lsp.17.t
	desc = lsp.17.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {#Do the responsible thing
		name = lsp.17.a
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
	}
	option = {#Let's just burn this report
		name = lsp.17.b

	}

}
country_event = {#The protests turn out to be a mite bigger than we expected. Squash the Harmonists or the Radicals?
	id = lsp.18
	immediate = {log = "[Root.GetName]: event lsp.18"}#Auto-logging
	title = lsp.18.t
	desc = lsp.18.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##The Harmonists can't be allowed to speak
		name = lsp.18.a
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
	}
	option = {##The Radicals are a bigger threat
		name = lsp.18.b
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
	}

}
country_event = {#The generals figure out that someone is leaking info. Spend stuff to mislead them or gain fascist popularity
	id = lsp.19
	immediate = {log = "[Root.GetName]: event lsp.19"}#Auto-logging
	title = lsp.19.t
	desc = lsp.19.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##Mislead them
		name = lsp.19.a
		add_political_power = -50
		add_stability = -0.05
	}
	option = {##We can't afford to bother them
		name = lsp.19.b
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
	}

}
country_event = {#Starry Plough's big speech is opposed by a Royalist rally
	id = lsp.20
	immediate = {log = "[Root.GetName]: event lsp.20"}#Auto-logging
	title = lsp.20.t
	desc = lsp.20.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##Let Starry Plough speak
		name = lsp.20.a
		add_popularity = {
			ideology = communism
			popularity = 0.1
		}
	}
	option = {##Deplatform him
		name = lsp.20.b
		add_popularity = {
			ideology = democratic
			popularity = 0.1
		}
	}

}
country_event = {#The Army plans anti-communist arrests that are of questionable veracity
	id = lsp.21
	immediate = {log = "[Root.GetName]: event lsp.21"}#Auto-logging
	title = lsp.21.t
	desc = lsp.21.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##Let 'em go ahead
		name = lsp.21.a
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
	}
	option = {##Do the responsible thing
		name = lsp.21.b
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
	}

}
country_event = {#Prominent intellectual disparages claims that monarchists are connected with Communists, support him or not?
	id = lsp.22
	immediate = {log = "[Root.GetName]: event lsp.22"}#Auto-logging
	title = lsp.22.t
	desc = lsp.22.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##Let him speak
		name = lsp.22.a
		add_popularity = {
			ideology = fascism
			popularity = -0.05
		}
	}
	option = {##It'd be best if he didn't speak
		name = lsp.22.b
		add_party_popularity = -40
		add_stability = -0.04
	}

}
country_event = {#Industrialist put on trial for slander, but he has dirt on the Harmonists...what do we do?
	id = lsp.23
	immediate = {log = "[Root.GetName]: event lsp.23"}#Auto-logging
	title = lsp.23.t
	desc = lsp.23.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##Pardon him
		name = lsp.23.a
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
		add_stability = -0.03
	}
	option = {##The right thing needs to be done
		name = lsp.23.b
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}		
		add_stability = 0.02
	}

}
country_event = {#Royalists protest military parade
	id = lsp.24
	immediate = {log = "[Root.GetName]: event lsp.24"}#Auto-logging
	title = lsp.24.t
	desc = lsp.24.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##Let them
		name = lsp.22.a
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}
	option = {##Forcefully disperse them
		name = lsp.22.b
		add_party_popularity = -60
		add_stability = -0.06
	}

}

country_event = {#Where to focus our efforts
	id = lsp.25
	immediate = {log = "[Root.GetName]: event lsp.25"}#Auto-logging
	title = lsp.25.t
	desc = lsp.25.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##The Royalists
		name = lsp.25.a
		add_popularity = {
			ideology = democratic
			popularity = -0.05
		}
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
	}
	option = {##The Communists
		name = lsp.25.b
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
	}

}
country_event = {#Take credit ourselves or let the fascists do it? They'll be more effective, however
	id = lsp.26
	immediate = {log = "[Root.GetName]: event lsp.26"}#Auto-logging
	title = lsp.26.t
	desc = lsp.26.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##Take credit
		name = lsp.26.a
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
	}
	option = {##Let them take the credit
		name = lsp.26.b
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
		add_popularity = {
			ideology = communism
			popularity = -0.05
		}
	}

}
country_event = {#Take credit ourselves or let the fascists do it? They'll be more effective, however
	id = lsp.27
	immediate = {log = "[Root.GetName]: event lsp.27"}#Auto-logging
	title = lsp.27.t
	desc = lsp.27.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##Let the commies protest
		name = lsp.27.a
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
	}
	option = {##The Royalists gain support instead
		name = lsp.27.b
		add_popularity = {
			ideology = democratic
			popularity = 0.05
		}
	}

}
country_event = {#Paramilitaries attack Trade Unions, do you allow them or publicly protect them in the name of the law?
	id = lsp.28
	immediate = {log = "[Root.GetName]: event lsp.28"}#Auto-logging
	title = lsp.28.t
	desc = lsp.28.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##Do the right thing
		name = lsp.28.a
		add_popularity = {
			ideology = communism
			popularity = 0.05
		}
		add_popularity = {
			ideology = neutrality
			popularity = 0.05
		}
	}
	option = {##What do we owe the reds?
		name = lsp.28.b
		add_popularity = {
			ideology = fascism
			popularity = 0.05
		}
	}

}
country_event = {#Famine intensifies
	id = lsp.29
	immediate = {log = "[Root.GetName]: event lsp.29"}#Auto-logging
	title = lsp.29.t
	desc = lsp.29.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##Oh no!
		name = lsp.29.a
		if = {
			limit = {
				has_idea = LSP_fragile_food_supply
			}
			swap_ideas = {
				remove_idea = LSP_fragile_food_supply
				add_idea = LSP_famine
			}
		}
		else_if = {
			limit = {
				has_idea = LSP_famine
			}
			swap_ideas = {
				remove_idea = LSP_famine
				add_idea = LSP_severe_famine
			}
		}
	}

}
country_event = {#Las Pegasus asks for food
	id = lsp.30
	immediate = {log = "[Root.GetName]: event lsp.30"}#Auto-logging
	title = lsp.30.t
	desc = lsp.30.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##We have to help them!
		name = lsp.30.a
		add_political_power = -50
		add_stability = 0.05
		FROM = {
			country_event = { id = lsp.31 }
		}
	}
	option = {##It's their own fault
		name = lsp.30.b
		add_stability = -0.02
		FROM = {
			country_event = { id = lsp.32 }
		}
	}
}
country_event = {#We get food
	id = lsp.31
	immediate = {log = "[Root.GetName]: event lsp.31"}#Auto-logging
	title = lsp.31.t
	desc = lsp.31.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##Yay
		name = lsp.31.a
		custom_effect_tooltip = LSP_adds_1_food
		add_to_variable = {
			var = LSP_food_supply
			value = 1
		}	
	}
}
country_event = {#We got nothing
	id = lsp.32
	immediate = {log = "[Root.GetName]: event lsp.32"}#Auto-logging
	title = lsp.32.t
	desc = lsp.32.d

	picture = GFX_event_griffon_back
	is_triggered_only = yes
	fire_only_once = yes

	option = {##Guess I'll die then
		name = lsp.32.a
	
	}
}