add_namespace = lakecity
add_namespace = lakecity_news

### Intro Event ###
country_event = {
	id = lakecity.1
	immediate = {log = "[Root.GetName]: event lakecity.1"}#Auto-logging
	title = lakecity.1.t
	desc = lakecity.1.d
	#picture = 

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = lakecity.2 days = 10 }
		}
	}

	option = {
		name = lakecity.1.a
	}
}

### Political Background ###
country_event = {
	id = lakecity.2
	immediate = {log = "[Root.GetName]: event lakecity.2"}#Auto-logging
	title = lakecity.2.t
	desc = lakecity.2.d
	#picture = 

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = lakecity.3 days = 15 }
		}
	}

	option = {
		name = lakecity.2.a
	}
}

### Wavebreaker Speaks ###
country_event = {
	id = lakecity.3
	immediate = {log = "[Root.GetName]: event lakecity.3"}#Auto-logging
	title = lakecity.3.t
	desc = lakecity.3.d
	#picture = 

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			country_event = { id = lakecity.4 days = 10 }
		}
	}

	option = {
		name = lakecity.3.a
	}
}

### Westerly does something ###
country_event = {
	id = lakecity.4
	immediate = {log = "[Root.GetName]: event lakecity.4"}#Auto-logging
	title = lakecity.4.t
	desc = lakecity.4.d
	#picture = 

	immediate = {
		hidden_effect = {
			country_event = { id = lakecity.5 days = 4 }
		}
	}

	is_triggered_only = yes

	option = {
		name = lakecity.4.a
	}
}

#The Coup
country_event = {
	id = lakecity.5
	immediate = {log = "[Root.GetName]: event lakecity.5"}#Auto-logging
	title = lakecity.5.t
	desc = lakecity.5.d
	#picture = 

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			add_stability = -0.3 
		}
	}

	option = { # Wavebreaker
		name = lakecity.5.a
		ai_chance = {
			base = 10
			modifier = {
				factor = 10
				is_historical_focus_on = yes
			}
		}

		custom_effect_tooltip = LCT_coup_fail_tt

		hidden_effect = {
			country_event = { days = 2 id = lakecity.6 }
			news_event = { days = 1 id = lakecity_news.1 }
		}
	}
	option = { # Westerly
		name = lakecity.5.b

		ai_chance = {
			base = 4
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

		custom_effect_tooltip = LCT_westerly_is_sent_in_tt
		hidden_effect = {
			country_event = { days = 2 id = lakecity.7 }
		}
	}
	option = { # Prince
		name = lakecity.5.c

		ai_chance = {
			base = 5
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
		}

		custom_effect_tooltip = LCT_coup_sucsess_tt
		hidden_effect = {
			country_event = { days = 2 id = lakecity.8 }
			news_event = { days = 1 id = lakecity_news.2 }
		}
	}
}

#The Coup Fails
country_event = {
	id = lakecity.6
	immediate = {log = "[Root.GetName]: event lakecity.6"}#Auto-logging
	title = lakecity.6.t
	desc = lakecity.6.d
	#picture = 

	is_triggered_only = yes

	option = {
		name = lakecity.6.a
		add_stability = 0.15
	}
}

#Westerly's choice
country_event = {
	id = lakecity.7
	immediate = {log = "[Root.GetName]: event lakecity.7"}#Auto-logging
	title = lakecity.7.t
	desc = lakecity.7.d
	#picture = 

	is_triggered_only = yes

	option = { #Allow Elections
		name = lakecity.7.a
		add_stability = 0.15
		hidden_effect = {
			news_event = { days = 1 id = lakecity_news.1 }
		}
	}
	option = { #Take Control
		name = lakecity.7.b

		set_political_party = { ideology = fascism popularity = 40 }
		set_politics = { ruling_party = fascism elections_allowed = no }

		hidden_effect = {
			news_event = { days = 1 id = lakecity_news.3 }
			set_global_flag = LCT_vanguard_chosen
		}
	}
}

#The Coup Wins
country_event = {
	id = lakecity.8
	immediate = {log = "[Root.GetName]: event lakecity.8"}#Auto-logging
	title = lakecity.8.t
	desc = lakecity.8.d
	#picture = 

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			create_country_leader = {
				name = "Wild Tree"
				desc = "POLITICS_WILDTREE_DESC"
				picture = "WildTree.dds"
				expire = "1989.1.1"
				ideology = fascism_ideology
				traits = {
				}
			}
			set_party_name = {
				ideology = fascism
				long_name = LCT_prince_faction_long
				name = LCT_prince_faction
			}
			if = {
				limit = { has_cosmetic_tag = RIV_federation_mem }
				set_cosmetic_tag = LCT_prince_ally
			}
			else = {
				set_cosmetic_tag = LCT_prince
			}
			set_political_party = { ideology = fascism popularity = 40 }
			set_politics = { ruling_party = fascism elections_allowed = no }
		}
	}

	option = {
		name = lakecity.8.a
		hidden_effect = {
			set_global_flag = LCT_prince_restored
		}
	}
}