add_namespace = centaur
add_namespace = malek_crisis

country_event = { ### Dealing with the old generals
	id = centaur.1
	immediate = {log = "[Root.GetName]: event centaur.1"}#Auto-logging
	title = centaur.1.t
	desc = centaur.1.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	fire_only_once = yes
	option = {
		name = centaur.1.a
		add_timed_idea = {
            idea = CNT_fired_old_generals
            days = 1825
        }
        add_ideas = CNT_old_generals
	}

	option = {
		name = centaur.2.a
		add_ideas = CNT_reprimanded_old_generals

	}

	option = {
		name = centaur.3.a
		add_ideas = CNT_inspired_old_generals
		add_tech_bonus = {
				name = cat_grand_battle_plan
				bonus = 1.0
				uses = 2
				category = cat_grand_battle_plan
		}
	}
}

country_event = { ### Who to educate
	id = centaur.2
	immediate = {log = "[Root.GetName]: event centaur.2"}#Auto-logging
	title = centaur.2.t
	desc = centaur.2.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	fire_only_once = yes
	option = {
		name = centaur.2.a
		add_political_power = 300
		country_event = { 
		    days = 300
		    id = centaur.3
		}
	}

	option = {
		name = centaur.2.a
		country_event = { 
		    days = 150
		    id = centaur.3
		}
	}

	option = {
		name = centaur.2.a
		add_political_power = -200
		decrease_illiteracy = yes
	}
}

country_event = { ### illiteracy decreases
	id = centaur.3
	immediate = {log = "[Root.GetName]: event centaur.3"}#Auto-logging
	title = centaur.2.t
	desc = centaur.2.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	fire_only_once = yes
	option = {
		name = centaur.3.a
		decrease_illiteracy = yes
	}
}

country_event = { ### education type?
	id = centaur.4
	immediate = {log = "[Root.GetName]: event centaur.4"}#Auto-logging
	title = centaur.4.t
	desc = centaur.4.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	fire_only_once = yes
	option = {
		name = centaur.4.a
        add_ideas = CNT_higher_education
	}

	option = {
		name = centaur.4.a
        add_ideas = CNT_military_education
	}

	option = {
		name = centaur.4.a
		add_ideas = CNT_public_education
	}
}

country_event = { ### Pick warplans
	id = centaur.5
	immediate = {log = "[Root.GetName]: event centaur.5"}#Auto-logging
	title = centaur.5.t
	desc = centaur.5.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	fire_only_once = yes
	option = {
		name = centaur.5.a
		set_country_flag = CNT_army_warplan_flag
		set_country_flag = CNT_air_warplan_flag
	}

	option = {
		name = centaur.5.a
		set_country_flag = CNT_army_warplan_flag
		set_country_flag = CNT_navy_warplan_flag
	}

	option = {
		name = centaur.5.a
		set_country_flag = CNT_air_warplan_flag
		set_country_flag = CNT_navy_warplan_flag
	}
}

country_event = { ### ask hyenas for alliance against stormking generals. More coding needed.
	id = centaur.6
	immediate = {log = "[Root.GetName]: event centaur.6"}#Auto-logging
	title = centaur.6.t
	desc = centaur.6.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	fire_only_once = yes
	option = { Yes
		name = centaur.5.a
		ai_chance = {
			factor = 50
		}
		FROM = { effect_tooltip = { add_to_faction = ROOT } country_event = { id = centaur.7 days = 1 } }
	}
	option = { No
		name = centaur.5.a
		ai_chance = {
			factor = 50
		}
		FROM = { country_event = { id = centaur.8 days = 1 } }
	}
}

country_event = { ### hyenas accept alliance
	id = centaur.7
	immediate = {log = "[Root.GetName]: event centaur.7"}#Auto-logging
	title = centaur.7.t
	desc = centaur.7.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	fire_only_once = yes
	option = {
		name = centaur.7.a
		add_to_faction = FROM
	}
}

country_event = { ### hyenas reject alliance
	id = centaur.7
	immediate = {log = "[Root.GetName]: event centaur.7"}#Auto-logging
	title = centaur.7.t
	desc = centaur.7.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	fire_only_once = yes
	option = {
		name = centaur.8.a
	}
}

country_event = { ### 1007 Investigation begins, suspicious circumstances
	id = malek_crisis.1
	immediate = {log = "[Root.GetName]: event malek_crisis.1"}#Auto-logging
	title = malek_crisis.1.t
	desc = malek_crisis.1.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
		name = malek_crisis.1.a
		country_event = { id = malek_crisis.2 days = 365 }
	}
}

country_event = { ### 1008 Even more suspicious circumstances
	id = malek_crisis.2
	immediate = {log = "[Root.GetName]: event malek_crisis.2"}#Auto-logging
	title = malek_crisis.2.t
	desc = malek_crisis.2.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
		name = malek_crisis.2.a
		country_event = { id = malek_crisis.3 days = 365 }
	}
}

country_event = { ### 1009 Likely an assassination
	id = malek_crisis.3
	immediate = {log = "[Root.GetName]: event malek_crisis.3"}#Auto-logging
	title = malek_crisis.3.t
	desc = malek_crisis.3.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
		name = malek_crisis.3.a
		country_event = { id = malek_crisis.4 days = 365 }
	}
}

country_event = { ### 1010 Definitely poison of some kind but who would do such a thing?
	id = malek_crisis.4
	immediate = {log = "[Root.GetName]: event malek_crisis.4"}#Auto-logging
	title = malek_crisis.4.t
	desc = malek_crisis.4.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
		name = malek_crisis.4.a
		country_event = { id = malek_crisis.5 days = 180 }
	}
}

country_event = { ### Mid 1010 Evidence is found it’s a Gargoyle, assassin left to Gargiloya!!!
	id = malek_crisis.5
	immediate = {log = "[Root.GetName]: event malek_crisis.5"}#Auto-logging
	title = malek_crisis.5.t
	desc = malek_crisis.5.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
		name = malek_crisis.5.a
		country_event = { id = malek_crisis.6 days = 120 }
	}
}

country_event = { ### Late 1010 Gargoyle assassin someone of influence
	id = malek_crisis.6
	immediate = {log = "[Root.GetName]: event malek_crisis.6"}#Auto-logging
	title = malek_crisis.6.t
	desc = malek_crisis.6.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
		name = malek_crisis.6.a
		if = {
		    limit = {
		        tag = CNT
		    }
		    country_event = { id = malek_crisis.7 days = 120 }
		}
		if = {
		    limit = {
		        tag = GAR
		    }
		    country_event = { id = malek_crisis.8 days = 120 }
		}
	}
}

country_event = { ### CNT Early 1011: One of centaur investigators informs Queen Karuk he has a theory, but it isn’t a good one
	id = malek_crisis.7
	immediate = {log = "[Root.GetName]: event malek_crisis.7"}#Auto-logging
	title = malek_crisis.7.t
	desc = malek_crisis.7.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
		name = malek_crisis.7.a
		country_event = { id = malek_crisis.9 days = 120 }
	}
}

country_event = { ### GAR Early 1011: Gargoyle informs King Golian that the centaurs are onto them, Golian resolutely informs gargoyle that he will give himself up, but Gargoyles should remain independent
	id = malek_crisis.8
	immediate = {log = "[Root.GetName]: event malek_crisis.8"}#Auto-logging
	title = malek_crisis.8.t
	desc = malek_crisis.8.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
		name = malek_crisis.8.a
		country_event = { id = malek_crisis.9 days = 120 }
	}
}

country_event = { ### Mid 1011: News breaks out that King Golian killed Prince Malek, offer Gargoyles to review evidence, and Gargoyle judges confirm. Huge public debate
	id = malek_crisis.9
	immediate = {log = "[Root.GetName]: event malek_crisis.9"}#Auto-logging
	title = malek_crisis.9.t
	desc = malek_crisis.9.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
		name = malek_crisis.9.a
		add_stability = -0.2
		#if = {
		#    limit = {
		#        tag = CNT
		#    }
		#    country_event = { id = malek_crisis.9 days = 30 }  Marriage event
		#}
		if = {
		    limit = {
		        tag = GAR
		    }
		    country_event = { id = malek_crisis.10 days = 15 }
		}
	}
}

country_event = { ### Queen Karuk’s Choice Event
	id = malek_crisis.10
	immediate = {log = "[Root.GetName]: event malek_crisis.10"}#Auto-logging
	title = malek_crisis.10.t
	desc = malek_crisis.10.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = { ### Forgive King Golian 
		name = malek_crisis.10.a
		country_event = { id = malek_crisis.11 days = 10 }
	}

	option = { ### Honor Demands
		name = malek_crisis.10.b
		###country_event = { id = malek_crisis.9 days = 120 }
	}
}

country_event = { ### Informs CNT player that gargoyles are happy with decision, but that Karuk’s nobles and populace are outraged 
	id = malek_crisis.11
	immediate = {log = "[Root.GetName]: event malek_crisis.11"}#Auto-logging
	title = malek_crisis.11.t
	desc = malek_crisis.11.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
		name = malek_crisis.8.a
		every_owned_state = {
            force_enable_resistance = yes
            start_resistance = yes
            set_compliance = 0
            set_resistance = 50
        }
		country_event = { id = malek_crisis.12 days = 50 }
	}
}

country_event = { ### Civil War occurs 
	id = malek_crisis.12
	immediate = {log = "[Root.GetName]: event malek_crisis.12"}#Auto-logging
	title = malek_crisis.12.t
	desc = malek_crisis.12.d
	picture = GFX_event_griffon_mountain
	
	is_triggered_only = yes
	
	option = {
		name = malek_crisis.12.a
		create_dynamic_country = {
            original_tag = CNT
                save_event_target_as = malekist_rebellion
                every_state = { #Core CNT
                    limit = {
                        is_core_of = CNT
                    }
                    event_target:malekist_rebellion = { add_state_core = PREV }
                }
                every_state = {
                    limit = { # 
                        OR = {
                            state = 1111
                            state = 1110
                            state = 1118
                            state = 1119
                            state = 1107
                            state = 1113
                            state = 1114
                        }
                    }
                    event_target:malekist_rebellion = { transfer_state = PREV }
                }
                event_target:malekist_rebellion = { 
                    set_politics = { ruling_party = fascism } 
                    set_capital = 1111
                    declare_war_on = {
                        target = CNT
                        type = annex_everything
                    }
                    set_cosmetic_tag = CNT_malekist_rebellion
                    set_popularities = {
                        democratic = 5
                        neutrality = 5
                        fascism = 80
                        communism = 10
                    }
                    create_country_leader = {
                        name = "Malekist Council Leader"
                        desc = ""
                        picture = "gfx/leaders/zebra/army_zebra_6.tga"
                        expire = "1965.1.1"
                        ideology = nazism
                        traits = {    
                        }
                    }
                }
            }
	}
}