add_namespace = mareland
add_namespace = eqc_news
add_namespace = eqc_bandit_event

### OFFER PEACE TO THE BUGS?
country_event = {
	id = mareland.1
	title = mareland.1.t
	desc = mareland.1.d
	picture = GFX_event_ponies_in_battle
	trigger = {
		original_tag = EQC
		has_war_with = CHN
		NOT = {
			any_country = {
				is_on_griffon_continent = yes
				has_war_with = EQC
			}
		}
		
		EQS = {
			has_war_with = CHN
			has_capitulated = yes
		}
	}
	fire_only_once = yes
	option = {
		name = mareland.1.a
		CHN = {
			country_event = { id = mareland.2 hours = 2 }
		}
	}
	option = {
		name = mareland.1.b
	}
}

### NEW MARELAND WANTS PEACE
country_event = {
	id = mareland.2
	title = mareland.2.t
	desc = mareland.2.d
	picture = GFX_event_equestria_fail
	is_triggered_only = yes
	option = {
		name = mareland.2.a
		white_peace = FROM
	}
	option = {
		name = mareland.2.b
		FROM = {
			country_event = { id = mareland.3 hours = 2 }
		}
	}
}

### BUGS SAY NO
country_event = {
	id = mareland.3
	title = mareland.3.t
	desc = mareland.3.d
	picture = GFX_event_equestria_fail
	is_triggered_only = yes
	option = {
		name = mareland.3.a
	}
}

### A PRINCESS VISITS
country_event = {
	id = mareland.4
	title = mareland.4.t
	desc = mareland.4.d
	picture = GFX_event_canterlot
	is_triggered_only = yes
	
	option = { #Celestia
		name = mareland.4.a
		add_stability = 0.05
	}
	option = {	# Luna
		trigger = {
			NLR = { exists = no }
		}

		name = mareland.4.b
		
		add_manpower = 5000
		
	}
	option = { # Twilight
		name = mareland.4.c
		add_tech_bonus = { bonus = 0.5 uses = 2 category = race_tech }
	}
	option = { # Cadance
		trigger = {
			NOT = {
				CRY = {
					OR = {
						has_country_flag = royalty_executed
						has_country_flag = continue_imprisonment
					}
				}
			}
		}
		
		add_political_power = 75
		
		name = mareland.4.e
	}
}

### Join a Griffon Commie
country_event = {
	id = mareland.6
	title = mareland.6.t
	desc = mareland.6.d
	picture = GFX_event_canterlot
	is_triggered_only = yes
	
	option = { #WNG
		name = mareland.6.a
		trigger = {
			WNG = {
				has_government = communism 
				is_faction_leader = yes
			}
		}
		WNG = { country_event = generic.2 }
	}
	option = {	#JER
		name = mareland.6.b
		
		trigger = {
			JER = {
				has_government = communism 
				is_faction_leader = yes
			}
		}
		JER = { country_event = generic.2 }
		
	}
	option = { # GRW
		name = mareland.6.c
		trigger = {
			GRW = {
				has_government = communism 
				is_faction_leader = yes
			}
		} 
		GRW = { country_event = generic.2 }
	}
	option = { # No One!?
		name = mareland.6.e
		trigger = {
			AND = {
				GRW = {
					OR = {
						NOT = { has_government = communism }
						is_faction_leader = no
					}
				}
				WNG = {
					OR = {
						NOT = { has_government = communism }
						is_faction_leader = no
					}
				}
				JER = {
					OR = {
						NOT = { has_government = communism }
						is_faction_leader = no
					}
				}
			}		
		}
		set_rule = { can_create_factions = yes }
	}
}

### New Manehatten Explosion
country_event = {
	id = mareland.7
	title = mareland.7.t
	desc = mareland.7.d
	picture = GFX_event_manehatten_explosion
	
	trigger = {
		tag = EQC
		has_war = yes
		362 = {
			is_controlled_by = EQC
			industrial_complex > 0
			arms_factory > 0
			dockyard > 1
		}
	}
	
	mean_time_to_happen = {
		months = 15
	}
	
	fire_only_once = yes
	
	option = {
		name = mareland.7.a
		362 = {
			damage_building = {
				type = industrial_complex
				damage = 0.8
			}
			damage_building = {
				type = arms_factory
				damage = 0.8
			}
			damage_building = {
				type = dockyard
				damage = 0.9
			}
			add_manpower = -1950
		}

		hidden_effect = {
			news_event = { id = eqc_news.10 hours = 5 }
		}
	}
}

### Something in the deep
country_event = {
	id = mareland.8
	title = mareland.8.t
	desc = mareland.8.d
	picture = GFX_event_something_in_the_water
	
	trigger = {
		tag = EQC
	}
	
	mean_time_to_happen = {
		months = 120
	}
	
	fire_only_once = yes
	
	option = {
		name = mareland.8.a
	}
}

###########################
####  GRIFFON BANDITS  ####
###########################

### Black Claw Bandits
country_event = {
	id = mareland.5
	title = mareland.5.t
	desc = mareland.5.d
	picture = GFX_event_griffon_with_gun
	
	fire_only_once = yes
	
	trigger = {
		tag = EQC
		has_completed_focus = EQC_force_griffon_conscription
		any_owned_state = {
			industrial_complex > 0
		}
	}
	
	mean_time_to_happen = {
		months = 3
	}
	
	option = {
		name = mareland.5.a
		hidden_effect = { set_country_flag = { flag = EQC_black_claw_bandit_raids value = 1 } }
			
		random_owned_state = {
			limit = {
				industrial_complex > 0
			}
			damage_building = {
				type = industrial_complex
				damage = 0.7
			}
		}
		
		custom_effect_tooltip = EQC_bandit_raids_start_tt
	}
}

country_event = {
	id = eqc_bandit_event.1
	title = eqc_bandit_event.1.t
	desc = eqc_bandit_event.1.d
	picture = GFX_event_griffon_with_gun
	
	is_triggered_only = yes
	
	option = {
		name = eqc_bandit_event.1.a
		modify_country_flag = { flag = EQC_black_claw_bandit_raids value = 1 }
		
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				arms_factory > 0
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
		}
	}
}

country_event = {
	id = eqc_bandit_event.2
	title = eqc_bandit_event.2.t
	desc = eqc_bandit_event.2.d
	picture = GFX_event_griffon_with_gun
	
	is_triggered_only = yes
	
	option = {
		name = eqc_bandit_event.2.a
		modify_country_flag = { flag = EQC_black_claw_bandit_raids value = 1 }
		
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				industrial_complex > 0
			}
			damage_building = {
				type = industrial_complex
				damage = 0.6
			}
		}
	}
}

country_event = {
	id = eqc_bandit_event.3
	title = eqc_bandit_event.3.t
	desc = eqc_bandit_event.3.d
	picture = GFX_event_griffon_with_gun
	
	is_triggered_only = yes
	
	option = {
		name = eqc_bandit_event.3.a
		modify_country_flag = { flag = EQC_black_claw_bandit_raids value = 1 }
		
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				infrastructure > 0
			}
			damage_building = {
				type = infrastructure
				damage = 0.6
			}
		}
	}
}

country_event = {
	id = eqc_bandit_event.4
	title = eqc_bandit_event.4.t
	desc = eqc_bandit_event.4.d
	picture = GFX_event_griffon_with_gun
	
	is_triggered_only = yes
	
	option = {
		name = eqc_bandit_event.4.a
		add_manpower = -100
	}
}

# The bandits escape the police
country_event = {
	id = eqc_bandit_event.5
	title = eqc_bandit_event.5.t
	desc = eqc_bandit_event.5.d
	picture = GFX_event_griffon_with_gun
	
	is_triggered_only = yes
	
	option = {
		name = eqc_bandit_event.5.a
		add_manpower = -20
	}
}

# The bandits are brought to justice
country_event = {
	id = eqc_bandit_event.6
	title = eqc_bandit_event.6.t
	desc = eqc_bandit_event.6.d
	picture = GFX_event_griffon_with_gun
	
	is_triggered_only = yes
	
	option = {
		name = eqc_bandit_event.6.a
		add_political_power = 50
		custom_effect_tooltip = EQC_bandit_raids_end_tt
		hidden_effect = {
			clr_country_flag = EQC_black_claw_bandit_raids
		}		
	}
}


############################
####	NEWS EVENTS		####
############################

#New Mareland Seeks Patriation
news_event = {
	id = eqc_news.1
	title = eqc_news.1.t
	desc = eqc_news.1.d
	picture = GFX_news_talononte

	major = yes

	is_triggered_only = yes

	option = {
		name = eqc_news.1.a
	}
}
#New Mareland Declares Independence
news_event = {
	id = eqc_news.2
	title = eqc_news.2.t
	desc = eqc_news.2.d
	picture = GFX_news_talononte

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQC
		}
		name = eqc_news.2.a
	}
	option = {
		trigger = {
			original_tag = EQS
		}
		name = eqc_news.2.b
	}
	option = {
		trigger = {
			NOT = {
				OR = {
					original_tag = EQC
					original_tag = EQS
				}
			}			
		}
		name = eqc_news.2.c
	}
	
}
#Jet Set Wins
news_event = {
	id = eqc_news.3
	title = eqs_election_win.t
	desc = eqc_news.3.d
	picture = GFX_news_election_no_confidence

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQC
		}
		name = eqc_news.3.a
	}
	option = {
		trigger = {
			NOT = { original_tag = EQC }
		}
		name = eqc_news.3.b
	}
}
#Gladmane Wins
news_event = {
	id = eqc_news.4
	title = eqs_election_win.t
	desc = eqc_news.4.d
	picture = GFX_news_election_no_confidence

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQC
		}
		name = eqc_news.4.a
	}
	option = {
		trigger = {
			NOT = { original_tag = EQC }
		}
		name = eqc_news.4.b
	}
}
#Kingfisher Wins
news_event = {
	id = eqc_news.5
	title = eqs_election_win.t
	desc = eqc_news.5.d
	picture = GFX_news_election_no_confidence

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQC
		}
		name = eqc_news.5.a
	}
	option = {
		trigger = {
			NOT = { original_tag = EQC }
		}
		name = eqc_news.5.b
	}
}
#The Duke Wins
news_event = {
	id = eqc_news.6
	title = eqs_election_win.t
	desc = eqc_news.6.d
	picture = GFX_news_election_no_confidence

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQC
		}
		name = eqc_news.6.a
	}
	option = {
		trigger = {
			NOT = { original_tag = EQC }
			OR = {
				has_government = democratic
				has_government = communism
			}			
		}
		name = eqc_news.6.b
	}
	option = {
		trigger = {
			NOT = { original_tag = EQC }
			OR = {
				NOT = {
					has_government = democratic
					has_government = communism
				}				
			}	
		}
		name = eqc_news.6.c
	}
}
#Recognize Stalliongrad
news_event = {
	id = eqc_news.7
	title = eqc_news.7.t
	desc = eqc_news.7.d
	picture = GFX_news_event_socialist_union

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			OR = {
				original_tag = EQC
				original_tag = STG
				AND = {
					original_tag = EQS
					has_government = communism
				}
			}
			
		}
		name = eqc_news.7.a
	}
	option = {
		trigger = {
			original_tag = EQS
			NOT = {
				has_government = communism
			}
		}
		name = eqc_news.7.b
	}
	option = {
		trigger = {
			NOT = {
				OR = {
					original_tag = EQC
					original_tag = STG
					original_tag = EQS
				}
			}
		}
		name = eqc_news.7.c
	}
}
#MARESOC Seize Power
news_event = {
	id = eqc_news.8
	title = eqc_news.8.t
	desc = eqc_news.8.d
	picture = GFX_news_event_socialist_union

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQS
		}
		name = eqc_news.8.a
	}
	option = {
		trigger = {
			NOT = {	original_tag = EQS	}
		}
		name = eqc_news.8.b
	}
}
#Burn Celestia's Portrait
news_event = {
	id = eqc_news.9
	title = eqc_news.9.t
	desc = eqc_news.9.d
	picture = GFX_news_event_socialist_union

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQC
		}
		name = eqc_news.9.a
	}
	option = {
		trigger = {
			original_tag = EQS
		}
		name = eqc_news.9.b
	}
	option = {
		trigger = {
			OR = {
				NOT = {	original_tag = EQS	}
				NOT = {	original_tag = EQC	}
			}			
		}
		name = eqc_news.9.c
	}
}
#New Manehatten Explosion
news_event = {
	id = eqc_news.10
	title = eqc_news.10.t
	desc = eqc_news.10.d
	picture = GFX_news_event_socialist_union

	major = yes

	is_triggered_only = yes

	option = {
		name = eqc_news.10.a
	}
}