add_namespace = mareland
add_namespace = eqc_news
add_namespace = eqc_bandit_event

### OFFER PEACE TO THE BUGS?
country_event = {
	id = mareland.1
	title = mareland.1.t
	desc = mareland.1.d
	picture = GFX_event_ponies_in_battle
	trigger = {
		original_tag = EQC
		has_war_with = CHN
		NOT = {
			any_country = {
				is_on_griffon_continent = yes
				has_war_with = EQC
			}
		}
		
		EQS = {
			has_war_with = CHN
			has_capitulated = yes
		}
	}
	fire_only_once = yes
	option = {
		name = mareland.1.a
		CHN = {
			country_event = { id = mareland.2 hours = 2 }
		}
	}
	option = {
		name = mareland.1.b
	}
}

### NEW MARELAND WANTS PEACE
country_event = {
	id = mareland.2
	title = mareland.2.t
	desc = mareland.2.d
	picture = GFX_event_equestria_fail
	is_triggered_only = yes
	option = {
		name = mareland.2.a
		white_peace = FROM
	}
	option = {
		name = mareland.2.b
		FROM = {
			country_event = { id = mareland.3 hours = 2 }
		}
	}
}

### BUGS SAY NO
country_event = {
	id = mareland.3
	title = mareland.3.t
	desc = mareland.3.d
	picture = GFX_event_equestria_fail
	is_triggered_only = yes
	option = {
		name = mareland.3.a
	}
}

### A PRINCESS VISITS
country_event = {
	id = mareland.4
	title = mareland.4.t
	desc = mareland.4.d
	picture = GFX_event_canterlot
	is_triggered_only = yes
	
	option = { #Celestia
		name = mareland.4.a
		add_stability = 0.05
	}
	option = {	# Luna
		trigger = {
			NLR = { exists = no }
		}

		name = mareland.4.b
		
		add_manpower = 5000
		
	}
	option = { # Twilight
		name = mareland.4.c
		add_tech_bonus = { bonus = 0.5 uses = 2 category = race_tech }
	}
	option = { # Cadance
		trigger = {
			NOT = {
				CRY = {
					OR = {
						has_country_flag = royalty_executed
						has_country_flag = continue_imprisonment
					}
				}
			}
		}
		
		add_political_power = 75
		
		name = mareland.4.e
	}
}

### Join a Griffon Commie
country_event = {
	id = mareland.6
	title = mareland.6.t
	desc = mareland.6.d
	picture = GFX_event_canterlot
	is_triggered_only = yes
	
	option = { #WNG
		name = mareland.6.a
		trigger = {
			WNG = {
				has_government = communism 
				is_faction_leader = yes
			}
		}
		WNG = { country_event = generic.2 }
	}
	option = {	#JER
		name = mareland.6.b
		
		trigger = {
			JER = {
				has_government = communism 
				is_faction_leader = yes
			}
		}
		JER = { country_event = generic.2 }
		
	}
	option = { # GRW
		name = mareland.6.c
		trigger = {
			GRW = {
				has_government = communism 
				is_faction_leader = yes
			}
		} 
		GRW = { country_event = generic.2 }
	}
	option = { # No One!?
		name = mareland.6.e
		trigger = {
			AND = {
				GRW = {
					OR = {
						NOT = { has_government = communism }
						is_faction_leader = no
					}
				}
				WNG = {
					OR = {
						NOT = { has_government = communism }
						is_faction_leader = no
					}
				}
				JER = {
					OR = {
						NOT = { has_government = communism }
						is_faction_leader = no
					}
				}
			}		
		}
		set_rule = { can_create_factions = yes }
	}
}

### New Manehatten Explosion
country_event = {
	id = mareland.7
	title = mareland.7.t
	desc = mareland.7.d
	picture = GFX_event_manehatten_explosion
	
	trigger = {
		tag = EQC
		has_war = yes
		362 = {
			is_controlled_by = EQC
			industrial_complex > 0
			arms_factory > 0
			dockyard > 1
		}
	}
	
	mean_time_to_happen = {
		months = 15
	}
	
	fire_only_once = yes
	
	option = {
		name = mareland.7.a
		362 = {
			damage_building = {
				type = industrial_complex
				damage = 0.8
			}
			damage_building = {
				type = arms_factory
				damage = 0.8
			}
			damage_building = {
				type = dockyard
				damage = 0.9
			}
			add_manpower = -1950
		}

		hidden_effect = {
			news_event = { id = eqc_news.10 hours = 5 }
		}
	}
}

### Something in the deep
country_event = {
	id = mareland.8
	title = mareland.8.t
	desc = mareland.8.d
	picture = GFX_event_something_in_the_water
	
	trigger = {
		tag = EQC
	}
	
	mean_time_to_happen = {
		months = 120
	}
	
	fire_only_once = yes
	
	option = {
		name = mareland.8.a
	}
}

country_event = {
	id = mareland.9
	title = mareland.9.t
	desc = mareland.9.desc
	picture = GFX_report_event_tank_factory

	trigger = {
		original_tag = EQC
		has_government = fascism
		has_country_flag = bnpl_bills_removed_through_war
		has_war = no
	}
	
	mean_time_to_happen = {
		days = 2
	}
	
	option = {
		name = mareland.9.a
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 15 compare = less_than }
			}
			add_political_power = -20
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 60 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 15 compare = equals }
			}
			add_political_power = -30
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 70 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 20 compare = equals }
			}
			add_political_power = -40
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 80 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 25 compare = equals }
			}
			add_political_power = -50
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 90 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 30 compare = equals }
			}
			add_political_power = -60
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 100 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 35 compare = equals }
			}
			add_political_power = -70
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 110 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 40 compare = equals }
			}
			add_political_power = -80
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 120 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 45 compare = equals }
			}
			add_political_power = -90
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 130 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 50 compare = equals }
			}
			add_political_power = -100
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 140 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 55 compare = equals }
			}
			add_political_power = -110
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 150 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 60 compare = equals }
			}
			add_political_power = -120
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 160 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 65 compare = equals }
			}
			add_political_power = -130
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 170 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 70 compare = equals }
			}
			add_political_power = -140
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 180 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 75 compare = equals }
			}
			add_political_power = -150
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 190 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 80 compare = equals }
			}
			add_political_power = -160
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 200 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 85 compare = equals }
			}
			add_political_power = -170
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 210 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 90 compare = equals }
			}
			add_political_power = -180
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 220 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 95 compare = equals }
			}
			add_political_power = -190
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 230 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 100 compare = equals }
			}
			add_political_power = -200
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 240 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 105 compare = equals }
			}
			add_political_power = -210
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 250 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 110 compare = equals }
			}
			add_political_power = -220
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 260 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 115 compare = equals }
			}
			add_political_power = -230
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 270 }
		}
		if = {
			limit = {
				check_variable = { var = EQC_bnpl_bill_counter value = 115 compare = greater_than }
			}
			add_political_power = -240
			add_timed_idea = { idea = EQC_bnpl_bills_ended days = 280 }
		}
		clr_country_flag = bnpl_bills_removed_through_war
	}
}

### Second Cockatrace War
country_event = {
	id = mareland.10
	title = mareland.10.t
	desc = mareland.10.d
	picture = GFX_event_pony_soldiers_sunset
	
	trigger = {
		tag = EQC
		has_completed_focus = EQC_legacy_of_the_cockatrice_war
		has_war = no
	}
	
	mean_time_to_happen = {
		months = 120
	}
	
	fire_only_once = yes
	
	option = { # This is a waste of time
		name = mareland.10.a
	}
	option = { # They must be destroyed
		name = mareland.10.b
		hidden_effect = {
			random_list = {
				50 = {
					country_event = { id = mareland.11 days = 5 }
				}
				50 = {
					country_event = { id = mareland.12 days = 5 }
				}
			}
		}
	}
}

### Victory in the Second Cockatrace War
country_event = {
	id = mareland.11
	title = mareland.11.t
	desc = mareland.11.d
	picture = GFX_event_bazooka_team
	
	is_triggered_only = yes
	
	option = { # Vengeance is Sweet
		name = mareland.11.a
		add_political_power = 10
		add_stability = 0.01
		add_war_support = 0.01
	}
}
### Defeat in the Second Cockatrace War
country_event = {
	id = mareland.12
	title = mareland.12.t
	desc = mareland.12.d
	picture = GFX_event_ponies_in_battle
	
	is_triggered_only = yes
		
	option = { # Struth!
		name = mareland.12.a
		add_political_power = -10
		add_stability = -0.01
	}
}

### Gladmane Speaks
country_event = {
	id = mareland.13
	title = mareland.13.t
	desc = mareland.13.d
	picture = GFX_event_democratic_opposition
	
	trigger = {
		original_tag = EQC
		has_completed_focus = EQC_let_all_have_a_say
		NOT = { 
			OR = {
				has_completed_focus = EQC_gladmane_wins
				has_completed_focus = EQC_kingfisher_wins
				has_completed_focus = EQC_the_duke_wins
			}
		}
	}
	
	mean_time_to_happen = {
		days = 210
	}
	
	fire_only_once = yes
		
	option = { # Good Speech
		name = mareland.13.a
		add_popularity = { ideology = neutrality popularity = 0.05 }
	}
	option = { # We don't want this
		name = mareland.13.b
		add_popularity = { ideology = neutrality popularity = 0.02 }
	}
}

### Kingfisher Speaks
country_event = {
	id = mareland.14
	title = mareland.14.t
	desc = mareland.14.d
	picture = GFX_event_democratic_opposition
	
	trigger = {
		original_tag = EQC
		has_completed_focus = EQC_let_all_have_a_say
		NOT = { 
			OR = {
				has_completed_focus = EQC_gladmane_wins
				has_completed_focus = EQC_kingfisher_wins
				has_completed_focus = EQC_the_duke_wins
			}
		}
	}
	
	mean_time_to_happen = {
		days = 210
	}
	
	fire_only_once = yes
		
	option = { # Good Speech
		name = mareland.14.a
		add_popularity = { ideology = neutrality popularity = 0.05 }
	}
	option = { # We don't want this
		name = mareland.14.b
		add_popularity = { ideology = neutrality popularity = 0.02 }
	}
}

### The Duke Speaks
country_event = {
	id = mareland.15
	title = mareland.15.t
	desc = mareland.15.d
	picture = GFX_event_democratic_opposition
	
	trigger = {
		original_tag = EQC
		has_completed_focus = EQC_let_all_have_a_say
		NOT = { 
			OR = {
				has_completed_focus = EQC_gladmane_wins
				has_completed_focus = EQC_kingfisher_wins
				has_completed_focus = EQC_the_duke_wins
			}
		}
	}
	
	mean_time_to_happen = {
		days = 210
	}
	
	fire_only_once = yes
		
	option = { # Good Speech
		name = mareland.15.a
		add_popularity = { ideology = fascism popularity = 0.1 }
	}
	option = { # We don't want this
		name = mareland.15.b
		add_popularity = { ideology = fascism popularity = 0.02 }
	}
}

### The Battle of East Street
country_event = {
	id = mareland.16
	title = mareland.16.t
	desc = mareland.16.d
	picture = GFX_event_democratic_protest
	
	trigger = {
		original_tag = EQC
		has_completed_focus = EQC_let_all_have_a_say
		NOT = { 
			OR = {
				has_completed_focus = EQC_gladmane_wins
				has_completed_focus = EQC_kingfisher_wins
				has_completed_focus = EQC_the_duke_wins
			}
		}
	}
	
	mean_time_to_happen = {
		days = 210
	}
	
	fire_only_once = yes
		
	option = { # Good Speech
		name = mareland.16.a
		add_popularity = { ideology = fascism popularity = 0.05 }
	}
	option = { # We don't want this
		name = mareland.16.b
		add_popularity = { ideology = neutrality popularity = 0.05 }
	}
}

### The Book of Fascism
country_event = {
	id = mareland.17
	title = mareland.17.t
	desc = mareland.17.d
	picture = GFX_event_something_in_the_water
	
	trigger = {
		original_tag = EQC
		has_completed_focus = EQC_commonwelth_congress
	}
	
	mean_time_to_happen = {
		days = 210
	}
	
	fire_only_once = yes
		
	option = { # It's a good book
		name = mareland.17.a
		add_popularity = { ideology = fascism popularity = 0.05 }
	}
	option = { # That's nice
		name = mareland.17.b
	}
}

###########################
####  GRIFFON BANDITS  ####
###########################

### Black Claw Bandits
country_event = {
	id = mareland.5
	title = mareland.5.t
	desc = mareland.5.d
	picture = GFX_event_griffon_with_gun
	
	fire_only_once = yes
	
	trigger = {
		tag = EQC
		has_completed_focus = EQC_force_griffon_conscription
		any_owned_state = {
			industrial_complex > 0
		}
	}
	
	mean_time_to_happen = {
		months = 3
	}
	
	option = {
		name = mareland.5.a
		hidden_effect = { set_country_flag = { flag = EQC_black_claw_bandit_raids value = 1 } }
			
		random_owned_state = {
			limit = {
				industrial_complex > 0
			}
			damage_building = {
				type = industrial_complex
				damage = 0.7
			}
		}
		
		custom_effect_tooltip = EQC_bandit_raids_start_tt
	}
}

country_event = {
	id = eqc_bandit_event.1
	title = eqc_bandit_event.1.t
	desc = eqc_bandit_event.1.d
	picture = GFX_event_griffon_with_gun
	
	is_triggered_only = yes
	
	option = {
		name = eqc_bandit_event.1.a
		modify_country_flag = { flag = EQC_black_claw_bandit_raids value = 1 }
		
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				arms_factory > 0
			}
			damage_building = {
				type = arms_factory
				damage = 0.6
			}
		}
	}
}

country_event = {
	id = eqc_bandit_event.2
	title = eqc_bandit_event.2.t
	desc = eqc_bandit_event.2.d
	picture = GFX_event_griffon_with_gun
	
	is_triggered_only = yes
	
	option = {
		name = eqc_bandit_event.2.a
		modify_country_flag = { flag = EQC_black_claw_bandit_raids value = 1 }
		
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				industrial_complex > 0
			}
			damage_building = {
				type = industrial_complex
				damage = 0.6
			}
		}
	}
}

country_event = {
	id = eqc_bandit_event.3
	title = eqc_bandit_event.3.t
	desc = eqc_bandit_event.3.d
	picture = GFX_event_griffon_with_gun
	
	is_triggered_only = yes
	
	option = {
		name = eqc_bandit_event.3.a
		modify_country_flag = { flag = EQC_black_claw_bandit_raids value = 1 }
		
		random_owned_state = {
			limit = {
				is_fully_controlled_by = ROOT
				infrastructure > 0
			}
			damage_building = {
				type = infrastructure
				damage = 0.6
			}
		}
	}
}

country_event = {
	id = eqc_bandit_event.4
	title = eqc_bandit_event.4.t
	desc = eqc_bandit_event.4.d
	picture = GFX_event_griffon_with_gun
	
	is_triggered_only = yes
	
	option = {
		name = eqc_bandit_event.4.a
		add_manpower = -100
	}
}

# The bandits escape the police
country_event = {
	id = eqc_bandit_event.5
	title = eqc_bandit_event.5.t
	desc = eqc_bandit_event.5.d
	picture = GFX_event_griffon_with_gun
	
	is_triggered_only = yes
	
	option = {
		name = eqc_bandit_event.5.a
		add_manpower = -20
	}
}

# The bandits are brought to justice
country_event = {
	id = eqc_bandit_event.6
	title = eqc_bandit_event.6.t
	desc = eqc_bandit_event.6.d
	picture = GFX_event_griffon_with_gun
	
	is_triggered_only = yes
	
	option = {
		name = eqc_bandit_event.6.a
		add_political_power = 50
		custom_effect_tooltip = EQC_bandit_raids_end_tt
		hidden_effect = {
			clr_country_flag = EQC_black_claw_bandit_raids
		}		
	}
}


############################
####	NEWS EVENTS		####
############################

#New Mareland Seeks Patriation
news_event = {
	id = eqc_news.1
	title = eqc_news.1.t
	desc = eqc_news.1.d
	picture = GFX_news_talononte

	major = yes

	is_triggered_only = yes

	option = {
		name = eqc_news.1.a
	}
}
#New Mareland Declares Independence
news_event = {
	id = eqc_news.2
	title = eqc_news.2.t
	desc = eqc_news.2.d
	picture = GFX_news_talononte

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQC
		}
		name = eqc_news.2.a
	}
	option = {
		trigger = {
			original_tag = EQS
		}
		name = eqc_news.2.b
	}
	option = {
		trigger = {
			NOT = {
				OR = {
					original_tag = EQC
					original_tag = EQS
				}
			}			
		}
		name = eqc_news.2.c
	}
	
}
#Jet Set Wins
news_event = {
	id = eqc_news.3
	title = eqs_election_win.t
	desc = eqc_news.3.d
	picture = GFX_news_election_no_confidence

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQC
		}
		name = eqc_news.3.a
	}
	option = {
		trigger = {
			NOT = { original_tag = EQC }
		}
		name = eqc_news.3.b
	}
}
#Gladmane Wins
news_event = {
	id = eqc_news.4
	title = eqs_election_win.t
	desc = eqc_news.4.d
	picture = GFX_news_election_no_confidence

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQC
		}
		name = eqc_news.4.a
	}
	option = {
		trigger = {
			NOT = { original_tag = EQC }
		}
		name = eqc_news.4.b
	}
}
#Kingfisher Wins
news_event = {
	id = eqc_news.5
	title = eqs_election_win.t
	desc = eqc_news.5.d
	picture = GFX_news_election_no_confidence

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQC
		}
		name = eqc_news.5.a
	}
	option = {
		trigger = {
			NOT = { original_tag = EQC }
		}
		name = eqc_news.5.b
	}
}
#The Duke Wins
news_event = {
	id = eqc_news.6
	title = eqs_election_win.t
	desc = eqc_news.6.d
	picture = GFX_news_election_no_confidence

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQC
		}
		name = eqc_news.6.a
	}
	option = {
		trigger = {
			NOT = { original_tag = EQC }
			OR = {
				has_government = democratic
				has_government = communism
			}			
		}
		name = eqc_news.6.b
	}
	option = {
		trigger = {
			NOT = { original_tag = EQC }
			OR = {
				NOT = {
					has_government = democratic
					has_government = communism
				}				
			}	
		}
		name = eqc_news.6.c
	}
}
#Recognize Stalliongrad
news_event = {
	id = eqc_news.7
	title = eqc_news.7.t
	desc = eqc_news.7.d
	picture = GFX_news_event_socialist_union

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			OR = {
				original_tag = EQC
				original_tag = STG
				AND = {
					original_tag = EQS
					has_government = communism
				}
			}
			
		}
		name = eqc_news.7.a
	}
	option = {
		trigger = {
			original_tag = EQS
			NOT = {
				has_government = communism
			}
		}
		name = eqc_news.7.b
	}
	option = {
		trigger = {
			NOT = {
				OR = {
					original_tag = EQC
					original_tag = STG
					original_tag = EQS
				}
			}
		}
		name = eqc_news.7.c
	}
}
#MARESOC Seize Power
news_event = {
	id = eqc_news.8
	title = eqc_news.8.t
	desc = eqc_news.8.d
	picture = GFX_news_event_socialist_union

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQS
		}
		name = eqc_news.8.a
	}
	option = {
		trigger = {
			NOT = {	original_tag = EQS	}
		}
		name = eqc_news.8.b
	}
}
#Burn Celestia's Portrait
news_event = {
	id = eqc_news.9
	title = eqc_news.9.t
	desc = eqc_news.9.d
	picture = GFX_news_event_socialist_union

	major = yes

	is_triggered_only = yes

	option = {
		trigger = {
			original_tag = EQC
		}
		name = eqc_news.9.a
	}
	option = {
		trigger = {
			original_tag = EQS
		}
		name = eqc_news.9.b
	}
	option = {
		trigger = {
			OR = {
				NOT = {	original_tag = EQS	}
				NOT = {	original_tag = EQC	}
			}			
		}
		name = eqc_news.9.c
	}
}
#New Manehatten Explosion
news_event = {
	id = eqc_news.10
	title = eqc_news.10.t
	desc = eqc_news.10.d
	picture = GFX_news_event_socialist_union

	major = yes

	is_triggered_only = yes

	option = {
		name = eqc_news.10.a
	}
}