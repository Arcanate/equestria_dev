#	shared_focus = {
#		id = RIV_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}

shared_focus = {
	id = RIV_dreams_of_a_federation
	icon = GFX_goal_generic_national_unity
	x = 15
	y = 0

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 5
			original_tag = LCT
		}
		modifier = {
			factor = 5
			original_tag = RCT
		}
		modifier = {
			factor = 0.5
			OR = {
				has_government = fascism
				has_government = communism
			}
		}
	}

	available = {

	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RIV_dreams_of_a_federation"
		add_political_power = 125
	}
}
#####################################
#####	Unite the Federation	#####
#####################################
shared_focus = {
	id = RIV_science_society
	icon = GFX_goal_generic_scientific_exchange
	prerequisite = { focus = RIV_dreams_of_a_federation }
	x = -3
	y = 1
	relative_position_id = RIV_dreams_of_a_federation
	
	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 6
			original_tag = LCT
		}
		modifier = {
			factor = 6
			original_tag = RCT
		}
		modifier = {
			factor = 0.5
			OR = {
				has_government = fascism
				has_government = communism
			}
		}
	}

	available = {
		
	}
	
	bypass = {
		any_other_country = {
			has_completed_focus = RIV_science_society
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RIV_science_society"
		add_to_tech_sharing_group = RIV_science_society_group
		every_other_country = {
			limit = {
				is_river_fed_member = yes
			}
			country_event = riverfed.1
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
		add_to_variable = { var = RIV_fed_race value = 1 }
		set_country_flag = RIV_science_society_founder
		set_global_flag = RIV_science_society_founded
	}
}

shared_focus = {
	id = RIV_found_the_rcsc
	icon = GFX_goal_generic_construction2
	prerequisite = { focus = RIV_science_society }
	x = 0
	y = 1
	relative_position_id = RIV_science_society

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 5
			original_tag = LCT
		}
		modifier = {
			factor = 5
			original_tag = RCT
		}
		modifier = {
			factor = 0.5
			OR = {
				has_government = fascism
				has_government = communism
			}
		}
	}

	available = {

	}
	
	bypass = {
		any_other_country = {
			has_completed_focus = RIV_found_the_rcsc
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RIV_found_the_rcsc"
		swap_ideas = {
			remove_idea = RIV_member_state
			add_idea = RIV_rcsc_member
		}
		every_other_country = {
			limit = {
				is_river_fed_member = yes
			}
			country_event = riverfed.2
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
		add_to_variable = { var = RIV_fed_race value = 1 }
		set_country_flag = RIV_rcsc_founder
		set_global_flag = RIV_rcsc_founded
	}
}


#####################################
#####	Develop the Federation	#####
#####################################

### DEP ###
shared_focus = {
	id = RIV_develop_DEP
	icon = GFX_goal_generic_construct_civ_factory
	prerequisite = { focus = RIV_dreams_of_a_federation }
	x = -1
	y = 1
	relative_position_id = RIV_dreams_of_a_federation

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 6
			original_tag = LCT
		}
		modifier = {
			factor = 4
			original_tag = RCT
		}
	}

	available = {
		NOT = { original_tag = DEP }
	}
	
	bypass = {
		OR = {
			any_other_country = {
				has_completed_focus = RIV_develop_DEP
			}
			DEP = { exists = no }
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	complete_tooltip = {
		random_state = {
			limit = {
				has_state_flag = RIV_develop_DEP_building
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RIV_develop_DEP"
		DEP = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = RIV_develop_DEP_building
			}
			country_event = riverfed.3
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
		add_to_variable = { var = RIV_fed_race value = 1 }
	}
}

shared_focus = {
	id = RIV_build_roads_in_DEP
	icon = GFX_goal_generic_construct_infrastructure
	prerequisite = { focus = RIV_develop_DEP }
	x = 0
	y = 1
	relative_position_id = RIV_develop_DEP

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 6
			original_tag = LCT
		}
		modifier = {
			factor = 4
			original_tag = RCT
		}
	}

	available = {
		NOT = { original_tag = DEP }
	}
	
	bypass = {
		OR = {
			any_other_country = {
				has_completed_focus = RIV_build_roads_in_DEP
			}
			DEP = { exists = no }
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	complete_tooltip = {
		random_state = {
			limit = {
				has_state_flag = RIV_develop_DEP_infrastructure
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RIV_build_roads_in_DEP"
		DEP = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = RIV_develop_DEP_infrastructure
			}
			country_event = riverfed.5
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
		add_to_variable = { var = RIV_fed_race value = 1 }
	}
}

shared_focus = {
	id = RIV_development_grants_DEP
	icon = GFX_goal_generic_construction
	prerequisite = { focus = RIV_build_roads_in_DEP }
	x = 0
	y = 1
	relative_position_id = RIV_build_roads_in_DEP

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 6
			original_tag = LCT
		}
		modifier = {
			factor = 4
			original_tag = RCT
		}
	}

	available = {
		NOT = { original_tag = DEP }
	}
	
	bypass = {
		OR = {
			any_other_country = {
				has_completed_focus = RIV_development_grants_DEP
			}
			DEP = { exists = no }
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RIV_development_grants_DEP"
		DEP = {
			add_timed_idea = { idea = RIV_development_grants_idea days = 730 }
			country_event = riverfed.7
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
		add_to_variable = { var = RIV_fed_race value = 1 }
	}
}

### FRE ###
shared_focus = {
	id = RIV_develop_FRE
	icon = GFX_goal_generic_construct_civ_factory
	prerequisite = { focus = RIV_dreams_of_a_federation }
	x = 1
	y = 1
	relative_position_id = RIV_dreams_of_a_federation

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			original_tag = LCT
		}
		modifier = {
			factor = 6
			original_tag = RCT
		}
		modifier = {
			factor = 7
			original_tag = WIT
		}
	}

	available = {
		NOT = { original_tag = FRE }
	}
	
	bypass = {
		OR = {
			any_other_country = {
				has_completed_focus = RIV_develop_FRE
			}
			FRE = { exists = no }
		}
		
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	complete_tooltip = {
		random_state = {
			limit = {
				has_state_flag = RIV_develop_FRE_building
			}
			add_extra_state_shared_building_slots = 2
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RIV_develop_FRE"
		FRE = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = RIV_develop_FRE_building
			}
			country_event = riverfed.4
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
		add_to_variable = { var = RIV_fed_race value = 1 }
	}
}

shared_focus = {
	id = RIV_build_roads_in_FRE
	icon = GFX_goal_generic_construct_infrastructure
	prerequisite = { focus = RIV_develop_FRE }
	x = 0
	y = 1
	relative_position_id = RIV_develop_FRE

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 4
			original_tag = LCT
		}
		modifier = {
			factor = 6
			original_tag = RCT
		}
		modifier = {
			factor = 7
			original_tag = WIT
		}
	}

	available = {
		NOT = { original_tag = FRE }
	}
	
	bypass = {
		OR = {
			any_other_country = {
				has_completed_focus = RIV_build_roads_in_FRE
			}
			FRE = { exists = no }
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no
	
	complete_tooltip = {
		random_state = {
			limit = {
				has_state_flag = RIV_develop_FRE_infrastructure
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
	}

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RIV_build_roads_in_FRE"
		FRE = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = infrastructure
						size > 1
					}
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = RIV_develop_FRE_infrastructure
			}
			country_event = riverfed.6
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
		add_to_variable = { var = RIV_fed_race value = 1 }
	}
}

shared_focus = {
	id = RIV_development_grants_FRE
	icon = GFX_goal_generic_construction
	prerequisite = { focus = RIV_build_roads_in_FRE }
	x = 0
	y = 1
	relative_position_id = RIV_build_roads_in_FRE

	cost = 10

	ai_will_do = {
		factor = 1
		modifier = {
			factor = 6
			original_tag = LCT
		}
		modifier = {
			factor = 4
			original_tag = RCT
		}
	}

	available = {
		NOT = { original_tag = FRE }
	}
	
	bypass = {
		OR = {
			any_other_country = {
				has_completed_focus = RIV_development_grants_FRE
			}
			FRE = { exists = no }
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RIV_development_grants_FRE"
		FRE = {
			add_timed_idea = { idea = RIV_development_grants_idea days = 730 }
			country_event = riverfed.7
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
		add_to_variable = { var = RIV_fed_race value = 1 }
	}
}


#####################################
#####	Expand the Federation	#####
#####################################

shared_focus = {
	id = RIV_develop_friends
	icon = GFX_goal_generic_national_unity
	prerequisite = { focus = RIV_dreams_of_a_federation }
	x = 4
	y = 1
	relative_position_id = RIV_dreams_of_a_federation

	cost = 5

	ai_will_do = {
		factor = 3
		modifier = {
			factor = 5
			original_tag = LCT
		}
		modifier = {
			factor = 5
			original_tag = RCT
		}
		modifier = {
			factor = 5
			original_tag = BAK
		}
		modifier = {
			factor = 0.5
			OR = {
				has_government = fascism
				has_government = communism
			}
		}
	}

	available = {

	}
	
	bypass = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus RIV_develop_friends"
		every_other_country = {
			limit = {
				OR = {
					tag = WAT
					tag = FBK
					tag = FIR
				}
				NOT = { has_war_with = RIV }
			}
			add_opinion_modifier = { target = RIV modifier = RIV_develop_friends_opinion }
		}
		add_political_power = 50
	}
}
	
shared_focus = {
	id = RIV_develop_firtree
	icon = GFX_focus_firtree
	prerequisite = { focus = RIV_develop_friends }
	x = -1
	y = 1
	relative_position_id = RIV_develop_friends
	
	cost = 10
	
	available = {

	}
	
	ai_will_do = {
		factor = 3
		modifier = {
			factor = 5
			original_tag = LCT
		}
		modifier = {
			factor = 5
			original_tag = RCT
		}
		modifier = {
			factor = 5
			original_tag = BAK
		}
		modifier = {
			factor = 0.5
			OR = {
				has_government = fascism
				has_government = communism
			}
		}
	}

	bypass = {
		OR = {
			any_other_country = {
				has_completed_focus = RIV_develop_firtree
			}
			NOT = { country_exists = FIR }
			has_war_with = FIR
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	complete_tooltip = {
		FIR = {
			random_state = {
				limit = {
					has_state_flag = RIV_develop_FIR_building
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_timed_idea = { idea = RIV_development_grants_idea days = 730 }
			country_event = riverfed.8
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
	}
	completion_reward = {
		FIR = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = RIV_develop_FIR_building
			}
			add_timed_idea = { idea = RIV_development_grants_idea days = 730 }
			country_event = riverfed.8
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
		add_to_variable = { var = RIV_fed_race value = 1 }
	}
}

shared_focus = {
	id = RIV_develop_farbrook
	icon = GFX_focus_farbrook
	prerequisite = { focus = RIV_develop_friends }
	x = 1
	y = 1
	relative_position_id = RIV_develop_friends

	cost = 10
	
	available = {

	}
	
	ai_will_do = {
		factor = 3
		modifier = {
			factor = 5
			original_tag = LCT
		}
		modifier = {
			factor = 5
			original_tag = RCT
		}
		modifier = {
			factor = 5
			original_tag = BAK
		}
		modifier = {
			factor = 0.5
			OR = {
				has_government = fascism
				has_government = communism
			}
		}
	}

	bypass = {
		OR = {
			any_other_country = {
				has_completed_focus = RIV_develop_farbrook
			}
			NOT = { country_exists = FBK }
			has_war_with = FBK
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	complete_tooltip = {
		FBK = {
			random_state = {
				limit = {
					has_state_flag = RIV_develop_FBK_building
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_timed_idea = { idea = RIV_development_grants_idea days = 730 }
			country_event = riverfed.8
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
	}

	completion_reward = {
		FBK = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = RIV_develop_FBK_building
			}
			add_timed_idea = { idea = RIV_development_grants_idea days = 730 }
			country_event = riverfed.8
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
		add_to_variable = { var = RIV_fed_race value = 1 }
	}
}
	
shared_focus = {
	id = RIV_develop_watertowns
	icon = GFX_focus_watertowns
	prerequisite = { focus = RIV_develop_firtree }
	x = 0
	y = 1
	relative_position_id = RIV_develop_firtree
	
	cost = 10
	
	available = {

	}
	ai_will_do = {
		factor = 3
		modifier = {
			factor = 5
			original_tag = LCT
		}
		modifier = {
			factor = 5
			original_tag = RCT
		}
		modifier = {
			factor = 5
			original_tag = BAK
		}
		modifier = {
			factor = 0.5
			OR = {
				has_government = fascism
				has_government = communism
			}
		}
	}

	bypass = {
		OR = {
			any_other_country = {
				has_completed_focus = RIV_develop_watertowns
			}
			NOT = { country_exists = WAT }
			has_war_with = WAT
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	complete_tooltip = {
		WAT = {
			random_state = {
				limit = {
					has_state_flag = RIV_develop_WAT_building
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
			}
			add_timed_idea = { idea = RIV_development_grants_idea days = 730 }
			country_event = riverfed.8
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
	}

	completion_reward = {
		WAT = {
			random_owned_controlled_state = {
				limit = {
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 1
					instant_build = yes
				}
				set_state_flag = RIV_develop_WAT_building
			}
			add_timed_idea = { idea = RIV_development_grants_idea days = 730 }
			country_event = riverfed.8
		}
		custom_effect_tooltip = RIV_fed_race_plus_tt
		add_to_variable = { var = RIV_fed_race value = 1 }
	}
}

shared_focus = {
	id = RIV_friends_with_greneclyf
	icon = GFX_focus_greneclyf
	relative_position_id = RIV_develop_farbrook
	x = 0
	y = 1
	prerequisite = { focus = RIV_develop_farbrook }
	
	cost = 5
	
	available = {

	}

	ai_will_do = {
		factor = 4
		modifier = {
			factor = 5
			original_tag = LCT
		}
		modifier = {
			factor = 5
			original_tag = RCT
		}
		modifier = {
			factor = 5
			original_tag = BAK
		}
		modifier = {
			factor = 0.5
			OR = {
				has_government = fascism
				has_government = communism
			}
		}
	}

	bypass = {
	OR = {
		NOT = { country_exists = NCH }
		has_war_with = NCH
	}
}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		NCH = { country_event = { hours = 3 id = riverfed.9 }  }		
	}
}
	
	
shared_focus = {
	id = RIV_expand_the_federation
	prerequisite = { focus = RIV_develop_watertowns }
	prerequisite = { focus = RIV_friends_with_greneclyf }
	relative_position_id = RIV_develop_watertowns
	icon = GFX_goal_anschluss
	x = 1
	y = 1

	cost = 5
	
	available = {

	}

	ai_will_do = {
		factor = 8
	}

	bypass = {
		
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes
	
	completion_reward = {
		custom_effect_tooltip = RIV_expand_the_federation_tt
		
		every_other_country = {
			limit = {
				OR = {
					original_tag = FIR
					original_tag = FBK
					original_tag = WAT
					original_tag = NCH
				}
				NOT = { has_war_with = RIV }
			}
			country_event = { id = riverfed.12 hours = 1 }
		}
	}
}
