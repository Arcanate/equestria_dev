focus_tree = {
	id = maretania_focus

	country = {
		factor = 0

		modifier = {
			add = 10
			tag = MTA
		}
	}
	default = no
	continuous_focus_position = { x = 250 y = 2050 }
	
	focus = {
		id = MTA_after_storm_king
		icon = GFX_goal_legacy_of_the_storm
		x = 15
		y = 0
		cost = 2
		ai_will_do = {
			factor = 10
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_after_storm_king"
			country_event = maretania.0
			custom_effect_tooltip = MTA_after_storm_king_tt
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_gather_wayward_agents
		icon = GFX_goal_generic_pony_volunteer
		x = -3
		y = 1
		cost = 6
		relative_position_id = MTA_after_storm_king
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = MTA_after_storm_king
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_gather_wayward_agents"
			swap_ideas = {
				remove_idea = MTA_CSI
				add_idea = MTA_CSI_2
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_reorganize_research_teams
		icon = GFX_goal_news
		x = -3
		y = 2
		cost = 6
		relative_position_id = MTA_after_storm_king
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = MTA_gather_wayward_agents
		}
		prerequisite = {
			focus = MTA_consolidate_mareib_core
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_reorganize_research_teams"
			custom_effect_tooltip = MTA_reorganize_research_teams_tt
			hidden_effect = {
				if = {
					limit = { has_template = "CSI Cave Defense" }
					delete_unit_template_and_units = { division_template = "CSI Cave Defense" }
				}
				division_template = {
					name = "CSI Cave Defense"
					division_names_group = MTA_MAG_01
					is_locked = yes
					regiments = {
						magical_infantry = { x = 0 y = 0 }
						magical_infantry = { x = 0 y = 1 }
						magical_infantry = { x = 1 y = 0 }
						magical_infantry = { x = 1 y = 1 }	
						magical_infantry = { x = 2 y = 0 }
						magical_infantry = { x = 2 y = 1 }
					}
					support = {
						recon = { x = 0 y = 0 }
					}
				}
				995 = {
					create_unit = {
						division = "division_template = \"CSI Cave Defense\"  start_experience_factor = 1.0"
						owner = ROOT
						prioritize_location = 14466
					}
					create_unit = {
						division = "division_template = \"CSI Cave Defense\"  start_experience_factor = 1.0"
						owner = ROOT
						prioritize_location = 14466
					}
					create_unit = {
						division = "division_template = \"CSI Cave Defense\"  start_experience_factor = 1.0"
						owner = ROOT
						prioritize_location = 14466
					}
				}
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_slacken_recruitment
		icon = GFX_focus_NCR_local_recruitment
		x = -4
		y = 3
		cost = 6
		relative_position_id = MTA_after_storm_king
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = MTA_gather_wayward_agents
		}
		available = {
			NOT = { has_completed_focus = MTA_open_the_cave }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_slacken_recruitment"
			swap_ideas = {
				remove_idea = MTA_CSI_2
				add_idea = MTA_CSI_3
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_restore_outreach_office
		icon = GFX_goal_foreign_diplomacy
		x = -2
		y = 3
		cost = 6
		relative_position_id = MTA_after_storm_king
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = MTA_reorganize_research_teams
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_restore_outreach_office"
			country_event = maretania.3
			swap_ideas = {
				remove_idea = closed_economy
				add_idea = limited_exports
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_consolidate_mareib_core
		icon = GFX_goal_generic_major_alliance_pony
		x = 0
		y = 1
		cost = 6
		relative_position_id = MTA_after_storm_king
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = MTA_after_storm_king
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_consolidate_mareib_core"
			995 = {
				remove_dynamic_modifier = { modifier = MTA_war_torn }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_restore_order_marekalla
		icon = GFX_Goal_YUN_The_Mountain_Economy
		x = -1
		y = 2
		cost = 6
		relative_position_id = MTA_after_storm_king
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = MTA_consolidate_mareib_core
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_restore_order_marekalla"
			997 = {
				set_demilitarized_zone = no
				remove_dynamic_modifier = { modifier = MTA_war_torn }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_restore_order_beihoof
		icon = GFX_goal_OTT_Land_Reform
		x = 1
		y = 2
		cost = 6
		relative_position_id = MTA_after_storm_king
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = MTA_consolidate_mareib_core
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_restore_order_beihoof"
			994 = {
				set_demilitarized_zone = no
				remove_dynamic_modifier = { modifier = MTA_war_torn }
			}
			962 = {
				set_demilitarized_zone = no
				remove_dynamic_modifier = { modifier = MTA_war_torn }
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_provisional_code
		icon = GFX_goal_government_icon
		x = 0
		y = 3
		cost = 6
		relative_position_id = MTA_after_storm_king
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = MTA_restore_order_beihoof
		}
		prerequisite = {
			focus = MTA_restore_order_marekalla
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_provisional_code"
			add_ideas = MTA_code_on_civil_contact
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_feed_impoverished
		icon = GFX_goal_agricultural_aid_2
		x = 2
		y = 1
		cost = 6
		relative_position_id = MTA_after_storm_king
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = MTA_after_storm_king
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_feed_impoverished"
			swap_ideas = {
				remove_idea = zebrica_legacy_of_storm3
				add_idea = MTA_legacy_of_storm
			}
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_analysis_committee
		icon = GFX_focus_Computer_2
		x = 2
		y = 3
		cost = 6
		relative_position_id = MTA_after_storm_king
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = MTA_feed_impoverished
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_analysis_committee"
			increase_society_development_gradually_with_tt = yes
			country_event = maretania.2
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_scientific_solutions
		icon = GFX_goal_science_of_life
		x = 3
		y = 2
		cost = 6
		relative_position_id = MTA_after_storm_king
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = MTA_feed_impoverished
		}
		available = {
			NOT = { has_completed_focus = MTA_open_the_cave }
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_scientific_solutions"
			Improve_Science_Base = yes
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_open_the_cave
		icon = GFX_goal_unknown
		x = 0
		y = 4
		cost = 6
		relative_position_id = MTA_after_storm_king
		ai_will_do = {
			factor = 10
		}
		prerequisite = {
			focus = MTA_analysis_committee
		}
		prerequisite = {
			focus = MTA_provisional_code
		}
		prerequisite = {
			focus = MTA_restore_outreach_office
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_open_the_cave"
			country_event = maretania.1
		}
		search_filters = { FOCUS_FILTER_POLITICAL }
	}
	focus = {
		id = MTA_steam_and_stone
		icon = GFX_focus_generic_industry_2
		x = 7
		y = 4
		cost = 6
		ai_will_do = {
			factor = 10
		}
		available = {
			has_country_flag = MTA_opened_cave_flag
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_steam_and_stone"
			add_tech_bonus = {
				name = MTA_steam_and_stone
				bonus = 1
				uses = 1
				category = industry
			}
			add_ideas = MTA_national_industrial_policy_1
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = MTA_blacksite_industry
		icon = GFX_goal_generic_takeover_industries
		x = 1
		y = 1
		cost = 6
		ai_will_do = {
			factor = 10
		}
		relative_position_id = MTA_steam_and_stone
		prerequisite = {
			focus = MTA_steam_and_stone
		}
		mutually_exclusive = {
			focus = MTA_grease_free_market
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_blacksite_industry"
			add_tech_bonus = {
				name = MTA_blacksite_industry
				bonus = 1
				uses = 1
				category = construction_tech
			}
			swap_ideas = {
				remove_idea = MTA_national_industrial_policy_1
				add_idea = MTA_national_industrial_policy_1a
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = MTA_grease_free_market
		icon = GFX_goal_free_market
		x = 3
		y = 1
		cost = 6
		ai_will_do = {
			factor = 10
		}
		relative_position_id = MTA_steam_and_stone
		prerequisite = {
			focus = MTA_steam_and_stone
		}
		mutually_exclusive = {
			focus = MTA_blacksite_industry
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_grease_free_market"
			add_tech_bonus = {
				name = MTA_grease_free_market
				bonus = 1
				uses = 1
				category = construction_tech
			}
			swap_ideas = {
				remove_idea = MTA_national_industrial_policy_1
				add_idea = MTA_national_industrial_policy_1b
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = MTA_crystal_cave_mines
		icon = GFX_goal_generic_crystals
		x = 0
		y = 2
		cost = 6
		ai_will_do = {
			factor = 10
		}
		relative_position_id = MTA_steam_and_stone
		prerequisite = {
			focus = MTA_grease_free_market
			focus = MTA_blacksite_industry
		}
		mutually_exclusive = {
			focus = MTA_crystal_electrification
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_crystal_cave_mines"
			add_tech_bonus = {
				name = MTA_crystal_cave_mines
				bonus = 1
				uses = 1
				category = excavation_tech
			}
			if = {
				limit = { has_idea = MTA_national_industrial_policy_1a }
				swap_ideas = {
					remove_idea = MTA_national_industrial_policy_1a
					add_idea = MTA_national_industrial_policy_1ac
				}
			}
			else = {
				swap_ideas = {
					remove_idea = MTA_national_industrial_policy_1b
					add_idea = MTA_national_industrial_policy_1bc
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = MTA_crystal_electrification
		icon = GFX_focus_generic_electricity
		x = 2
		y = 2
		cost = 6
		ai_will_do = {
			factor = 10
		}
		relative_position_id = MTA_steam_and_stone
		prerequisite = {
			focus = MTA_grease_free_market
			focus = MTA_blacksite_industry
		}
		mutually_exclusive = {
			focus = MTA_crystal_cave_mines
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_crystal_electrification"
			add_tech_bonus = {
				name = MTA_crystal_electrification
				bonus = 0.5
				uses = 1
				category = industry
			}
			if = {
				limit = { has_idea = MTA_national_industrial_policy_1a }
				swap_ideas = {
					remove_idea = MTA_national_industrial_policy_1a
					add_idea = MTA_national_industrial_policy_1ad
				}
			}
			else = {
				swap_ideas = {
					remove_idea = MTA_national_industrial_policy_1b
					add_idea = MTA_national_industrial_policy_1bd
				}
			}
		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
	focus = {
		id = MTA_service_for_the_world
		icon = GFX_goal_generic_ponykind
		x = 23
		y = 4
		cost = 6
		ai_will_do = {
			factor = 10
		}
		available = {
			has_country_flag = MTA_opened_cave_flag
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_service_for_the_world"
			if = {
				limit = {
					NOT = { has_idea = MTA_CSI_3 }
				}
				swap_ideas = {
					remove_idea = MTA_CSI_2
					add_idea = MTA_CSI_3
				}
			}
			else = {
				army_experience = 50
				add_tech_bonus = {
					name = MTA_service_for_the_world
					bonus = 1
					uses = 1
					category = land_doctrine
				}
			}
		}
		search_filters = { FOCUS_FILTER_ARMY_BONUS }
	}
	focus = {
		id = MTA_containment_path
		icon = GFX_goal_white_magic_symbol
		x = 15
		y = 5
		cost = 6
		ai_will_do = {
			factor = 10
		}
		available = {
			has_country_flag = MTA_opened_cave_flag
		}

		completion_reward = {
			log = "[GetDateText]: [Root.GetName]: Focus MTA_containment_path"

		}
		search_filters = { FOCUS_FILTER_INDUSTRY }
	}
}