focus_tree = {
	id = Federal
	country = {
		factor = 0
		modifier = {
			add = 10
			tag = RIV
		}
	}
	focus = {
		id = RIV_the_elections
		icon = GFX_goal_generic_elections
		cost = 10
		x = 20
		y = 0
		completion_reward = {
			country_event = riverfed.1		
		}
	}
	focus = {
		id = RIV_wavebreaker_elected
		icon = GFX_goal_generic_national_unity
		relative_position_id = RIV_the_elections
		mutually_exclusive = { focus = RIV_river_swirl_elected }
		cost = 1
		x = -10
		y = 1
		available = { always = no }
		bypass = { has_country_flag = wavebreaker_elected }
		prerequisite = {
			focus = RIV_the_elections
		}
		completion_reward = {
			custom_effect_tooltip = RIV_wavebreaker_elected_tooltip
		}
	}
	focus = {
		id = RIV_river_swirl_elected
		icon = GFX_goal_generic_national_unity
		relative_position_id = RIV_the_elections
		mutually_exclusive = { focus = RIV_wavebreaker_elected }
		cost = 1
		x = 10
		y = 1
		available = { always = no }
		bypass = { has_country_flag = riverswirl_elected }
		prerequisite = {
			focus = RIV_the_elections
		}
		completion_reward = {
			custom_effect_tooltip = RIV_river_swirl_elected_tooltip
		}
	}
	
	###################
	#### INDUSTRY  ####
	###################
	
	focus = {
		id = RIV_increase_modernization_efforts
		icon = GFX_goal_generic_national_unity
		relative_position_id = RIV_the_elections
		cost = 10
		x = 0
		y = 2
		prerequisite = {
			focus = RIV_river_swirl_elected
			focus = RIV_wavebreaker_elected
		}
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = industry
			}

		}
	}
	
	focus = {
		id = RIV_lake_city_industry
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = RIV_increase_modernization_efforts }
		relative_position_id = RIV_increase_modernization_efforts
		mutually_exclusive = { focus = RIV_river_city_industry }
		x = -1
		y = 1
		cost = 10

		available_if_capitulated = yes


		
		ai_will_do = {
			factor = 2
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = arms_factory
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		completion_reward = {
			increase_lake_city_loyalty = yes
			decrease_river_city_loyalty = yes
			if = {
				limit = {
					387 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				387 = {
					add_building_construction = {
						type = arms_factory
						level = 3
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = arms_factory
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = arms_factory
							level = 3
							instant_build = yes
						}
					}
				}			
			}
		}
	}
	
	focus = {
		id = RIV_river_city_industry
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = RIV_increase_modernization_efforts }
		relative_position_id = RIV_increase_modernization_efforts
		mutually_exclusive = { focus = RIV_lake_city_industry }
		x = 1
		y = 1
		cost = 10

		available_if_capitulated = yes


		
		ai_will_do = {
			factor = 2
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = construction_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = industrial_complex
						size < 1
						include_locked = yes
					}					
				}
			}
		}

		completion_reward = {
			increase_river_city_loyalty = yes
			decrease_lake_city_loyalty = yes
			if = {
				limit = {
					619 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				619 = {
					add_building_construction = {
						type = industrial_complex
						level = 3
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = industrial_complex
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_extra_state_shared_building_slots = 3
						add_building_construction = {
							type = industrial_complex
							level = 3
							instant_build = yes
						}
					}
				}			
			}
		}
	}
	
	focus = {
		id = RIV_expand_the_rail_network
		icon = GFX_goal_generic_construct_infrastructure
		relative_position_id = RIV_the_elections
		cost = 10
		x = 0
		y = 4
		prerequisite = {
			focus = RIV_river_city_industry
			focus = RIV_lake_city_industry
		}
		
		bypass = {
			custom_trigger_tooltip = {
				tooltip = infrastructure_effort_tt
				all_owned_state = {
					free_building_slots = {
						building = infrastructure
						size < 1
					}
				}
			}
		}
		
		completion_reward = {
			if = {
				limit = {
					387 = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				}
				387 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = infrastructure
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			
			if = {
				limit = {
					550 = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				}
				550 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = infrastructure
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			
			if = {
				limit = {
					491 = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				}
				491 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = infrastructure
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			
			if = {
				limit = {
					544 = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				}
				544 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = infrastructure
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			
			if = {
				limit = {
					615 = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				}
				615 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = infrastructure
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			
			if = {
				limit = {
					577 = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				}
				577 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = infrastructure
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			
			if = {
				limit = {
					619 = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				}
				619 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = infrastructure
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			
			if = {
				limit = {
					620 = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				}
				620 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = infrastructure
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
			
			if = {
				limit = {
					645 = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				}
				645 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = infrastructure
								size > 0
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = infrastructure
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_building_construction = {
							type = infrastructure
							level = 2
							instant_build = yes
						}
					}
				}
			}
		}
	}
	
	focus = {
		id = RIV_lake_city_research
		icon = GFX_focus_research
		relative_position_id = RIV_expand_the_rail_network
		mutually_exclusive = { focus = RIV_river_city_research }
		cost = 10
		x = -1
		y = 1
		prerequisite = {
			focus = RIV_expand_the_rail_network
		}
		completion_reward = {
			add_research_slot = 1
			decrease_illiteracy = yes
			increase_lake_city_loyalty = yes
			decrease_river_city_loyalty = yes
		}
	}
	focus = {
		id = RIV_river_city_research
		icon = GFX_focus_research
		relative_position_id = RIV_expand_the_rail_network
		mutually_exclusive = { focus = RIV_lake_city_research }
		cost = 10
		x = 1
		y = 1
		prerequisite = {
			focus = RIV_expand_the_rail_network
		}
		completion_reward = {
			add_research_slot = 1			
			increase_river_city_loyalty = yes
			decrease_lake_city_loyalty = yes
		}
	}
	
	focus = {
		id = RIV_national_work_act
		icon = GFX_focus_research
		relative_position_id = RIV_lake_city_research
		cost = 10
		x = 0
		y = 1
		prerequisite = {
			focus = RIV_lake_city_research
			focus = RIV_river_city_research
		}
		completion_reward = {
			decrease_poverty = yes
		}
	}
	
	focus = {
		id = RIV_education_reform
		icon = GFX_focus_research
		relative_position_id = RIV_river_city_research
		cost = 10
		x = 0
		y = 1
		prerequisite = {
			focus = RIV_lake_city_research
			focus = RIV_river_city_research
		}
		completion_reward = {
			decrease_illiteracy = yes
		}
	}
	
	focus = {
		id = RIV_southern_development
		icon = GFX_focus_research
		relative_position_id = RIV_national_work_act
		cost = 10
		x = 1
		y = 1
		prerequisite = {
			focus = RIV_education_reform
			focus = RIV_national_work_act
		}
		completion_reward = {
			if = {
				limit = {
					616 = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				}
				616 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}				
				}
			}
			
			if = {
				limit = {
					617 = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				}
				617 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}				
				}
			}
			
			if = {
				limit = {
					628 = {
						free_building_slots = {
							building = infrastructure
							size > 0
							include_locked = yes
						}
					}
				}
				628 = {
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}				
				}
			}
			### Factories
			
			if = {
				limit = {
					617 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				617 = {
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = industrial_complex
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = industrial_complex
							level = 2
							instant_build = yes
						}
					}
				}			
			}
			
			if = {
				limit = {
					628 = {
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
				}
				628 = {
					add_building_construction = {
						type = industrial_complex
						level = 1
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = industrial_complex
								size > 0
								include_locked = yes
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = industrial_complex
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_extra_state_shared_building_slots = 1
						add_building_construction = {
							type = industrial_complex
							level = 1
							instant_build = yes
						}
					}
				}			
			}
			
			if = {
				limit = {
					617 = {
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
				}
				617 = {
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}				
				}
				else = {
					random_owned_controlled_state = {
						limit = {
							free_building_slots = {
								building = arms_factory
								size > 0
								include_locked = yes
							}
							OR = {
								is_in_home_area = yes
								NOT = {
									owner = {
										any_owned_state = {
											free_building_slots = {
												building = arms_factory
												size > 0
												include_locked = yes
											}
											is_in_home_area = yes
										}
									}
								}
							}
						}
						add_extra_state_shared_building_slots = 2
						add_building_construction = {
							type = arms_factory
							level = 2
							instant_build = yes
						}
					}
				}			
			}
		}
	}
}