#######################
### ARMY TREE       ###
#######################

shared_focus = {
	id = PCB_increase_royal_guard_funding
	icon = GFX_focus_generic_little_entente
	x = 8
	y = 0
	cost = 10

	ai_will_do = {
		factor = 4
	}

	available = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_increase_royal_guard_funding"
		army_experience = 25
		navy_experience = 25
	}
}

shared_focus = {
	id = PCB_guard_preparatory_academy
	icon = GFX_goal_military_academy
	prerequisite = { focus = PCB_increase_royal_guard_funding }
	relative_position_id = PCB_increase_royal_guard_funding
	x = -5
	y = 1
	cost = 10
	
	ai_will_do = {
		factor = 4
	}

	available = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_guard_preparatory_academy"
		add_ideas = PCB_guard_preparatory_academy_idea
		every_army_leader = {
			add_planning = 1
		}
		add_tech_bonus = {
			name = PCB_island_war_games
			bonus = 1.0
			uses = 1
			category = land_doctrine
		}
	}
}

shared_focus = {
	id = PCB_expand_the_royal_guard
	icon = GFX_focus_chi_army_reform
	prerequisite = { focus = PCB_guard_preparatory_academy }
	relative_position_id = PCB_guard_preparatory_academy
	mutually_exclusive = { focus = PCB_island_defence_militia }
	x = -1
	y = 1
	cost = 10
	
	ai_will_do = {
		factor = 4
	}

	available = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_guard_preparatory_academy"
		add_ideas = PCB_expand_the_royal_guard_idea
	}
}

shared_focus = {
	id = PCB_island_defence_militia
	icon = GFX_goal_generic_defence
	prerequisite = { focus = PCB_guard_preparatory_academy }
	relative_position_id = PCB_guard_preparatory_academy
	mutually_exclusive = { focus = PCB_expand_the_royal_guard }
	x = 1
	y = 1
	cost = 10
	
	ai_will_do = {
		factor = 4
	}

	available = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_island_defence_militia"
		add_ideas = PCB_island_defence_militia_idea
	}
}

shared_focus = {
	id = PCB_army_motorisation
	icon = GFX_goal_generic_army_motorized
	prerequisite = { focus = PCB_expand_the_royal_guard focus = PCB_island_defence_militia }
	relative_position_id = PCB_expand_the_royal_guard
	x = -1
	y = 1
	cost = 10

	ai_will_do = {
		factor = 2
	}

	available = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_army_motorisation"
		add_tech_bonus = {
			name = PCB_army_motorisation
			bonus = 1.0
			ahead_reduction = 1
			uses = 1
			category = motorized_equipment
		}
	}
}


shared_focus = {
	id = PCB_amphibious_training_school
	icon = GFX_goal_generic_amphibious_assault
	prerequisite = { focus = PCB_expand_the_royal_guard focus = PCB_island_defence_militia }
	relative_position_id = PCB_expand_the_royal_guard

	x = 1
	y = 1
	cost = 10

	ai_will_do = {
		factor = 2
	}

	available = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_amphibious_training_school"
		add_tech_bonus = {
			name = marine_bonus
			bonus = 1.0
			uses = 1
			category = tp_tech
		}
		add_tech_bonus = {
			name = marine_bonus
			bonus = 1.0
			uses = 1
			category = marine_tech
		}
	}
}

shared_focus = {
	id = PCB_local_arms_development
	icon = GFX_goal_generic_small_arms
	prerequisite = { focus = PCB_expand_the_royal_guard focus = PCB_island_defence_militia }
	relative_position_id = PCB_island_defence_militia
	x = 1
	y = 1
	cost = 10

	ai_will_do = {
		factor = 4
	}

	available = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_local_arms_development"
		add_tech_bonus = {
			name = PCB_local_arms_development
			bonus = 1.0
			uses = 1
			category = infantry_weapons
		}
	}
}

shared_focus = {
	id = PCB_expand_the_arms_factories
	icon = GFX_goal_generic_construct_mil_factory
	prerequisite = { focus = PCB_amphibious_training_school }
	relative_position_id = PCB_amphibious_training_school
	x = -1
	y = 1
	cost = 10

	ai_will_do = {
		factor = 2
	}

	available = {
		1193 = {
			is_fully_controlled_by = ROOT
		}
		1194 = {
			is_fully_controlled_by = ROOT
		}
	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_expand_the_arms_factories"
		every_state = {
			limit = {
				OR = {
					state = 1193
					state = 1194
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		if = {
			limit = {
				has_war = no
			}
			custom_effect_tooltip = tooltip_mexico_stability_hit_for_peacetime_expansion
			add_stability = -0.05
		}
	}
}

shared_focus = {
	id = PCB_the_support_corps
	icon = GFX_goal_generic_consumer_goods
	prerequisite = { focus = PCB_amphibious_training_school }
	relative_position_id = PCB_amphibious_training_school
	x = 1
	y = 1
	cost = 10

	ai_will_do = {
		factor = 2
	}

	available = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_the_support_corps"
		add_tech_bonus = {
			name = PCB_the_support_corps
			bonus = 1
			ahead_reduction = 1
			uses = 2
			category = logistics_tech
			category = engineers_tech
			category = signal_company_tech
		}
	}
}

shared_focus = {
	id = PCB_armour_development
	icon = GFX_goal_generic_army_tanks
	prerequisite = { focus = PCB_army_motorisation }
	relative_position_id = PCB_army_motorisation
	x = 0
	y = 2
	cost = 10

	ai_will_do = {
		factor = 2
	}

	available = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_armour_development"
		add_tech_bonus = {
			name = PCB_armour_development
			bonus = 1.0
			uses = 2
			category = armor
		}
	}
}

shared_focus = {
	id = PCB_artillery_development
	icon = GFX_goal_generic_army_artillery2
	prerequisite = { focus = PCB_local_arms_development }
	relative_position_id = PCB_local_arms_development
	x = 0
	y = 2
	cost = 10
	dynamic = yes
	ai_will_do = {
		factor = 2
	}

	available = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_artillery_development"
		add_tech_bonus = {
			name = arty_bonus
			bonus = 1.0
			uses = 1
			category = artillery
		}
	}
}

shared_focus = {
	id = PCB_island_war_games
	icon = GFX_goal_generic_position_armies
	prerequisite = { focus = PCB_amphibious_training_school }
	relative_position_id = PCB_amphibious_training_school
	x = 0
	y = 2
	cost = 10
	dynamic = yes
	ai_will_do = {
		factor = 2
	}

	available = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = yes

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_island_war_games"
		army_experience = 15
		add_tech_bonus = {
			name = PCB_island_war_games
			bonus = 1.0
			uses = 1
			category = land_doctrine
		}
	}
}

shared_focus = {
	id = PCB_jungle_warfare_training
	icon = GFX_goal_generic_special_forces
	prerequisite = { focus = PCB_armour_development focus = PCB_artillery_development focus = PCB_island_war_games }
	relative_position_id = PCB_island_war_games
	x = 0
	y = 1
	cost = 10

	ai_will_do = {
		factor = 3
	}

	available = {

	}

	cancel_if_invalid = yes
	continue_if_invalid = no
	available_if_capitulated = no

	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus PCB_jungle_warfare_training"
		custom_effect_tooltip = RAJ_jungle_training_effect
		hidden_effect = { set_technology = { jungle_warfare = 1 } }
		add_tech_bonus = {
			name = PCB_jungle_warfare_training
			bonus = 1
			uses = 2
			ahead_reduction = 2
			category = special_forces_tech
			category = recon_tech
		}
	}
}
