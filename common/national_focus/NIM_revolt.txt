focus_tree = {
	id = Nimbusian_Slave_Revolt
	
	country = {
		factor = 0
		modifier = {
			add = 15
			original_tag = NIM
			has_government = communism
		}
	}

	default = no

	shared_focus = NIM_Slave_Revolt_Wins
	
}

######################################################################################
#Slave revolt focus tree beginning

	shared_focus = {
		id = NIM_Slave_Revolt_Wins
		icon = GFX_goal_generic_demand_territory
		x = 5
		y = 0
		cost = 10

		ai_will_do = {
			factor = 100
		}

		available = {
			NOT = {
				has_civil_war = yes
			}
		}
		
		bypass = {

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			add_political_power = 10
			hidden_effect = {
				add_ideas = NIM_revolt_political_1
				add_ideas = NIM_revolt_economy_1
				add_ideas = NIM_revolt_military_1
				set_variable = {
					var = revolt_legitimacy
					value = 0
				}
				country_event = nimbusia_revolt.1
			}
		}
	}
	
	#############################################################################################
	#Political branch
	
	shared_focus = {
		id = NIM_Political_Vaccum
		icon = GFX_goal_shadow_government
		relative_position_id = NIM_Slave_Revolt_Wins
		x = -4
		y = 1
		cost = 10
		
		

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Slave_Revolt_Wins

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			country_event = nimbusia_revolt.2
		}
	}
	
	shared_focus = {
		id = NIM_Exile_Nimbusians
		icon = GFX_focus_generic_strike_at_democracy2
		x = -1
		y = 1
		cost = 10
		
		relative_position_id = NIM_Political_Vaccum

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		mutually_exclusive = {
			focus = NIM_Kill_Nimbusians
		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Political_Vaccum

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {add_idea = NIM_revolt_political_2 remove_idea = NIM_revolt_political_1}
			hidden_effect = {
				add_to_variable = {
					var = revolt_legitimacy
					value = 1
				}
			}
		}
	}
	
	shared_focus = {
		id = NIM_Kill_Nimbusians
		icon = GFX_goal_guillotine
		x = 1
		y = 1
		cost = 10
		
		relative_position_id = NIM_Political_Vaccum

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		mutually_exclusive = {
			focus = NIM_Exile_Nimbusians
		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Political_Vaccum
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {add_idea = NIM_revolt_political_2 remove_idea = NIM_revolt_political_1}
		}
	}
	
	shared_focus = {
		id = NIM_Traditional_Counties
		icon = GFX_focus_generic_self_management
		x = -1
		y = 2
		cost = 10
		
		relative_position_id = NIM_Political_Vaccum

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		mutually_exclusive = {
			focus = NIM_New_Counties
		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Exile_Nimbusians
			focus = NIM_Kill_Nimbusians
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {add_idea = NIM_revolt_political_3 remove_idea = NIM_revolt_political_2}
			hidden_effect = {
				add_to_variable = {
					var = revolt_legitimacy
					value = 1
				}
			}
		}
	}
	
	shared_focus = {
		id = NIM_New_Counties
		icon = GFX_goal_government_icon
		x = 1
		y = 2
		cost = 10
		
		relative_position_id = NIM_Political_Vaccum

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		mutually_exclusive = {
			focus = NIM_Traditional_Counties
		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Exile_Nimbusians
			focus = NIM_Kill_Nimbusians
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {add_idea = NIM_revolt_political_3 remove_idea = NIM_revolt_political_2}
		}
	}
	
	shared_focus = {
		id = NIM_Hold_Elections
		icon = GFX_goal_generic_elections
		x = 0
		y = 3
		cost = 10
		
		relative_position_id = NIM_Political_Vaccum

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_New_Counties
			focus = NIM_Traditional_Counties
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			remove_ideas = NIM_revolt_political_3
		}
	}
	
	#############################################################################################
	#Economic branch
	
	shared_focus = {
		id = NIM_Economic_Collapse
		icon = GFX_goal_state_economy
		relative_position_id = NIM_Slave_Revolt_Wins
		x = -0
		y = 1
		cost = 10
		
		

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Slave_Revolt_Wins

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			country_event = nimbusia_revolt.3
		}
	}
	
	shared_focus = {
		id = NIM_Redistribute_Wealth
		icon = GFX_goal_gold_reserve
		x = -1
		y = 1
		cost = 10
		
		relative_position_id = NIM_Economic_Collapse

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		mutually_exclusive = {
			focus = NIM_Nationalisation
		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Economic_Collapse

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {add_idea = NIM_revolt_economy_2 remove_idea = NIM_revolt_economy_1}
		}
	}
	
	shared_focus = {
		id = NIM_Nationalisation
		icon = GFX_goal_agrarian_reform
		x = 1
		y = 1
		cost = 10
		
		relative_position_id = NIM_Economic_Collapse

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		mutually_exclusive = {
			focus = NIM_Redistribute_Wealth
		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Economic_Collapse
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {add_idea = NIM_revolt_economy_2 remove_idea = NIM_revolt_economy_1}
			hidden_effect = {
				add_to_variable = {
					var = revolt_legitimacy
					value = 1
				}
			}
		}
	}
	
	shared_focus = {
		id = NIM_Market_Investment
		icon = GFX_focus_generic_the_giant_wakes
		x = -1
		y = 2
		cost = 10
		
		relative_position_id = NIM_Economic_Collapse

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		mutually_exclusive = {
			focus = NIM_Protectionism
		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Redistribute_Wealth
			focus = NIM_Nationalisation
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {add_idea = NIM_revolt_economy_3 remove_idea = NIM_revolt_economy_2}
			hidden_effect = {
				add_to_variable = {
					var = revolt_legitimacy
					value = 1
				}
			}
		}
	}
	
	shared_focus = {
		id = NIM_Protectionism
		icon = GFX_goal_generic_production
		x = 1
		y = 2
		cost = 10
		
		relative_position_id = NIM_Economic_Collapse

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		mutually_exclusive = {
			focus = NIM_Market_Investment
		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Redistribute_Wealth
			focus = NIM_Nationalisation
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {add_idea = NIM_revolt_economy_3 remove_idea = NIM_revolt_economy_2}
		}
	}
	
	shared_focus = {
		id = NIM_Open_For_Business
		icon = GFX_goal_generic_consumer_goods
		x = 0
		y = 3
		cost = 10
		
		relative_position_id = NIM_Economic_Collapse

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Protectionism
			focus = NIM_Market_Investment
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			remove_ideas = NIM_revolt_economy_3
		}
	}
	
	#############################################################################################
	#Military branch
	
	shared_focus = {
		id = NIM_Army_of_Slaves
		icon = GFX_goal_national_arsenal
		relative_position_id = NIM_Slave_Revolt_Wins
		x = 4
		y = 1
		cost = 10
		
		

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Slave_Revolt_Wins

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			country_event = nimbusia_revolt.4
		}
	}
	
	shared_focus = {
		id = NIM_Fight_Criminals
		icon = GFX_goal_military_academy
		x = -1
		y = 1
		cost = 10
		
		relative_position_id = NIM_Army_of_Slaves

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		mutually_exclusive = {
			focus = NIM_Reorganise_Police
		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Army_of_Slaves

		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {add_idea = NIM_revolt_military_2 remove_idea = NIM_revolt_military_1}
		}
	}
	
	shared_focus = {
		id = NIM_Reorganise_Police
		icon = GFX_goal_secret_agents
		x = 1
		y = 1
		cost = 10
		
		relative_position_id = NIM_Army_of_Slaves

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		mutually_exclusive = {
			focus = NIM_Fight_Criminals
		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Army_of_Slaves
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {add_idea = NIM_revolt_military_2 remove_idea = NIM_revolt_military_1}
			hidden_effect = {
				add_to_variable = {
					var = revolt_legitimacy
					value = 1
				}
			}
		}
	}
	
	shared_focus = {
		id = NIM_Demobilise
		icon = GFX_focus_generic_little_entente
		x = -1
		y = 2
		cost = 10
		
		relative_position_id = NIM_Army_of_Slaves

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		mutually_exclusive = {
			focus = NIM_Integrate_Militia
		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Fight_Criminals
			focus = NIM_Reorganise_Police
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {add_idea = NIM_revolt_military_3 remove_idea = NIM_revolt_military_2}
			hidden_effect = {
				add_to_variable = {
					var = revolt_legitimacy
					value = 1
				}
			}
		}
	}
	
	shared_focus = {
		id = NIM_Integrate_Militia
		icon = GFX_focus_YUG_pan_slavic_congress
		x = 1
		y = 2
		cost = 10
		
		relative_position_id = NIM_Army_of_Slaves

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		mutually_exclusive = {
			focus = NIM_Demobilise
		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Fight_Criminals
			focus = NIM_Reorganise_Police
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			swap_ideas = {add_idea = NIM_revolt_military_3 remove_idea = NIM_revolt_military_2}
		}
	}
	
	shared_focus = {
		id = NIM_Strong_United
		icon = GFX_goal_national_populism
		x = 0
		y = 3
		cost = 10
		
		relative_position_id = NIM_Army_of_Slaves

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Integrate_Militia
			focus = NIM_Demobilise
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			remove_ideas = NIM_revolt_military_3
		}
	}
	
	shared_focus = {
		id = NIM_New_Nimbusia
		icon = GFX_focus_generic_join_comintern
		x = 0
		y = 1
		cost = 10
		
		relative_position_id = NIM_Open_For_Business

		ai_will_do = {
			factor = 100
		}

		available = {

		}
		
		bypass = {

		}
		
		prerequisite = {
			focus = NIM_Open_For_Business
		}
		prerequisite = {
			focus = NIM_Hold_Elections
		}
		prerequisite = {
			focus = NIM_Strong_United
		}

		cancel_if_invalid = yes
		continue_if_invalid = no
		available_if_capitulated = no

		completion_reward = {
			country_event = nimbusia_revolt.5
			load_focus_tree = generic_griffon_focus
		}
	}