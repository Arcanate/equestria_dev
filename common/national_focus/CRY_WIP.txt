##############################
### industrialisation tree ###
##############################

shared_focus = {
	id = CRY_rapid_ind
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_start
	}
	ai_will_do = {
		factor = 90
	}
	mutually_exclusive = {
		focus = CRY_slow_ind
	}
	relative_position_id = CRY_start
	x = 5
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_rapid_ind"
		swap_ideas = {
			remove_idea = pre_industrial_society
			add_idea = pre_industrial_society1
		}
		add_political_power = -25
		add_stability = -0.05
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_slow_ind
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_start
	}
	ai_will_do = {
		factor = 90
	}
	mutually_exclusive = {
		focus = CRY_rapid_ind
	}
	relative_position_id = CRY_start
	x = 3
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_slow_ind"
		custom_effect_tooltip = CRY_slow_ind_tt
		hidden_effect = {
			country_event = crynew.2 days = 150
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_industrialisation_1
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_slow_ind
	}
	ai_will_do = {
		factor = 90
	}
	relative_position_id = CRY_slow_ind
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_industrialisation_1"
		random_owned_controlled_state = {
			limit = {
				NOT = {
					state = 345
					state = 344
				}
			}
			add_extra_state_shared_building_slots = 1
		}
		random_owned_controlled_state = {
			limit = {
				NOT = {
					state = 53
					state = 345
					state = 344
				}
			}
			add_extra_state_shared_building_slots = 1
		}
		random_owned_controlled_state = {
			limit = {
				NOT = {
					state = 53
					state = 345
					state = 344
				}
			}
			add_extra_state_shared_building_slots = 1
		}
		random_owned_controlled_state = {
			limit = {
				NOT = {
					state = 53
					state = 345
					state = 344
				}
			}
			add_extra_state_shared_building_slots = 1
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_industrialisation_2
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_slow_ind
		focus = CRY_rapid_ind
	}
	ai_will_do = {
		factor = 90
	}
	relative_position_id = CRY_slow_ind
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_industrialisation_2"
		add_resource = {
			type = steel
			amount = 10
			state = 345
		}
		add_resource = {
			type = aluminium
			amount = 3
			state = 345
		}
		add_resource = {
			type = steel
			amount = 34
			state = 150
		}
		add_resource = {
			type = tungsten
			amount = 12
			state = 150
		}
		add_political_power = -25
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_industrialisation_3
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_industrialisation_1
	}
	prerequisite = {
		focus = CRY_industrialisation_2
	}
	ai_will_do = {
		factor = 90
	}
	relative_position_id = CRY_industrialisation_2
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_industrialisation_3"
		custom_effect_tooltip = CRY_industrialisation_3_tt
		hidden_effect = {
			#country_event =  days = 
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_industrialisation_4
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_rapid_ind
	}
	ai_will_do = {
		factor = 90
	}
	available = {
		344 = { is_owned_and_controlled_by = ROOT }
		345 = { is_owned_and_controlled_by = ROOT }
	}
	relative_position_id = CRY_rapid_ind
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_industrialisation_4"
		345 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		344 = {
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		add_political_power = -25
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_industrialisation_6
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_industrialisation_4
	}
	prerequisite = {
		focus = CRY_industrialisation_2
	}
	ai_will_do = {
		factor = 90
	}
	relative_position_id = CRY_industrialisation_4
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_industrialisation_6"
		swap_ideas = {
			remove_idea = pre_industrial_society1
			add_idea = pre_industrial_society2
		}
		add_political_power = -25
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_eqs_ind_model
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_industrialisation_3
	}
	ai_will_do = {
		factor = 90
	}
	mutually_exclusive = {
		focus = CRY_mid_ind_model
	}
	mutually_exclusive = {
		focus = CRY_ind_model
	}
	relative_position_id = CRY_industrialisation_3
	x = -1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_eqs_ind_model"
		random_owned_controlled_state = {
			limit = {
				AND = {
					infrastructure < 3
					infrastructure > 1
				}
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				AND = {
					infrastructure < 3
					infrastructure > 1
				}
			}
			add_building_construction = {
				type = infrastructure
				level = 2
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_mid_ind_model
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_industrialisation_3
		focus = CRY_industrialisation_6
	}
	ai_will_do = {
		factor = 90
	}
	mutually_exclusive = {
		focus = CRY_eqs_ind_model
	}
	mutually_exclusive = {
		focus = CRY_ind_model
	}
	available = {
		344 = { is_owned_and_controlled_by = ROOT }
		345 = { is_owned_and_controlled_by = ROOT }
	}
	relative_position_id = CRY_industrialisation_3
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_mid_ind_model"
		344 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		345 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_ind_model
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_industrialisation_6
	}
	ai_will_do = {
		factor = 90
	}
	mutually_exclusive = {
		focus = CRY_eqs_ind_model
	}
	mutually_exclusive = {
		focus = CRY_mid_ind_model
	}
	available = {
		344 = { is_owned_and_controlled_by = ROOT }
		345 = { is_owned_and_controlled_by = ROOT }
		53 = { is_owned_and_controlled_by = ROOT }
	}
	relative_position_id = CRY_industrialisation_6
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_ind_model"
		344 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		345 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
		53 = {
			add_building_construction = {
				type = infrastructure
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_industrialisation_7
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_eqs_ind_model
	}
	ai_will_do = {
		factor = 90
	}
	relative_position_id = CRY_eqs_ind_model
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_industrialisation_7"
		random_owned_controlled_state = {
			limit = {
				AND = {
					NOT = {
						state = 53
						state = 345
						state = 344
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				AND = {
					NOT = {
						state = 53
						state = 345
						state = 344
					}
					free_building_slots = {
						building = arms_factory
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = arms_factory
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_industrialisation_8
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_eqs_ind_model
		focus = CRY_mid_ind_model
	}
	ai_will_do = {
		factor = 90
	}
	relative_position_id = CRY_eqs_ind_model
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_industrialisation_8"
		random_owned_controlled_state = {
			limit = {
				AND = {
					NOT = {
						state = 53
						state = 345
						state = 344
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		random_owned_controlled_state = {
			limit = {
				AND = {
					NOT = {
						state = 53
						state = 345
						state = 344
					}
					free_building_slots = {
						building = industrial_complex
						size > 0
						include_locked = yes
					}
					OR = {
						is_in_home_area = yes
						NOT = {
							owner = {
								any_owned_state = {
									free_building_slots = {
										building = industrial_complex
										size > 0
										include_locked = yes
									}
									is_in_home_area = yes
								}
							}
						}
					}
				}
			}
			add_extra_state_shared_building_slots = 1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_industrialisation_9
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_eqs_ind_model
		focus = CRY_mid_ind_model
		focus = CRY_ind_model
	}
	ai_will_do = {
		factor = 90
	}
	relative_position_id = CRY_mid_ind_model
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_industrialisation_9"
		if = {
			limit = {
				NOT = {
					has_completed_focus = CRY_slow_ind
					has_completed_focus = CRY_rapid_ind
				}
			}
			custom_effect_tooltip = CRY_industrialisation_9_tt
		}
		if = {
			limit = {
				has_completed_focus = CRY_rapid_ind
			}
			swap_ideas = {
				remove_idea = pre_industrial_society2
				add_idea = outdated_industry
			}
		}
		if = {
			limit = {
				has_completed_focus = CRY_slow_ind
			}
			custom_effect_tooltip = CRY_industrialisation_9_tt
			hidden_effect = {
				country_event = crynew.3 days = 100
			}
		}
		add_political_power = -50
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_industrialisation_10
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_mid_ind_model
		focus = CRY_ind_model
	}
	ai_will_do = {
		factor = 90
	}
	available = {
		344 = { is_owned_and_controlled_by = ROOT }
		345 = { is_owned_and_controlled_by = ROOT }
	}
	relative_position_id = CRY_ind_model
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_industrialisation_10"
		344 = {
			add_extra_state_shared_building_slots = -1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}
		345 = {
			add_extra_state_shared_building_slots = -1
			add_building_construction = {
				type = arms_factory
				level = 1
				instant_build = yes
			}
		}

	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_industrialisation_11
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_ind_model
	}
	ai_will_do = {
		factor = 90
	}
	available = {
		344 = { is_owned_and_controlled_by = ROOT }
		345 = { is_owned_and_controlled_by = ROOT }
	}
	relative_position_id = CRY_ind_model
	x = 2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_industrialisation_11"
		344 = {
			add_extra_state_shared_building_slots = -1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
		345 = {
			add_extra_state_shared_building_slots = -1
			add_building_construction = {
				type = industrial_complex
				level = 1
				instant_build = yes
			}
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

#########################
#### Anti Sombra tree ###
#########################

shared_focus = {
	id = CRY_ask_smile
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_start
	}
	ai_will_do = {
		factor = 90
	}
	mutually_exclusive = {
		focus = CRY_send_spies
	}
	mutually_exclusive = {
		focus = CRY_start_the_hunt
	}
	relative_position_id = CRY_start
	x = -6
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_ask_smile"
		country_event = { id = crynew.6 days = 2 }
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_send_spies
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_start
	}
	ai_will_do = {
		factor = 90
	}
	mutually_exclusive = {
		focus = CRY_ask_smile
	}
	mutually_exclusive = {
		focus = CRY_start_the_hunt
	}
	relative_position_id = CRY_start
	x = -4
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_send_spies"
		country_event = { id = crynew.9 days = 2 }
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_start_the_hunt
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_start
	}
	ai_will_do = {
		factor = 90
	}
	mutually_exclusive = {
		focus = CRY_ask_smile
	}
	mutually_exclusive = {
		focus = CRY_send_spies
	}
	relative_position_id = CRY_start
	x = -2
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_start_the_hunt"
		custom_effect_tooltip = CRY_start_the_hunt_tt
		hidden_effect = {
			country_event = { id crynew.12 days = 100 }
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_antisombra_1
	icon = GFX_goal_cry_innovation
	cost = 12.9
	prerequisite = {
		focus = CRY_ask_smile
	}
	ai_will_do = {
		factor = 90
	}
	relative_position_id = CRY_ask_smile
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_antisombra_1"
		country_event = { id = crynew.7 days = 5 }
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_antisombra_2
	icon = GFX_goal_tea_cry
	cost = 4.3
	prerequisite = {
		focus = CRY_send_spies
	}
	ai_will_do = {
		factor = 90
	}
	relative_position_id = CRY_send_spies
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_antisombra_2"
		country_event = { id = crynew.10 days = 2 }
		custom_effect_tooltip = CRY_club_will_be_arrested
		set_country_flag = CRY_club_arrested
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_antisombra_3
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_start_the_hunt
	}
	ai_will_do = {
		factor = 90
	}
	relative_position_id = CRY_start_the_hunt
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_antisombra_3"
		country_event = { id = crynew.11 days = 2 }
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_antisombra_4
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_antisombra_1
		focus = CRY_antisombra_2
		focus = CRY_antisombra_3
	}
	ai_will_do = {
		factor = 90
	}
	bypass = {
		has_country_flag = CRY_sobra_no_more
	}
	relative_position_id = CRY_antisombra_1
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_antisombra_4"
		country_event = { id = crynew.4 days = 5 }
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_antisombra_5
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_antisombra_1
		focus = CRY_antisombra_2
		focus = CRY_antisombra_3
	}
	ai_will_do = {
		factor = 90
	}
	bypass = {
		has_country_flag = CRY_sobra_no_more
	}
	relative_position_id = CRY_antisombra_2
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_antisombra_5"
		country_event = { id = crynew.5 days = 5 }
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_antisombra_6
	icon = GFX_goal_cry_innovation
	cost = 4.3
	prerequisite = {
		focus = CRY_antisombra_4
	}
	prerequisite = {
		focus = CRY_antisombra_5
	}
	ai_will_do = {
		factor = 90
	}
	available = {
		142 = { is_owned_and_controlled_by = ROOT }
		141 = { is_owned_and_controlled_by = ROOT }
		145 = { is_owned_and_controlled_by = ROOT }
	}
	relative_position_id = CRY_antisombra_4
	x = 1
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_antisombra_6"
		add_resource = {
			type = crystal
			amount = 11
			state = 142
		}
		add_resource = {
			type = crystal
			amount = 20
			state = 141
		}
		add_resource = {
			type = crystal
			amount = 5
			state = 145
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}

shared_focus = {
	id = CRY_antisombra_7
	icon = GFX_goal_crystal_heart_cry
	cost = 4.3
	prerequisite = {
		focus = CRY_antisombra_6
	}
	ai_will_do = {
		factor = 90
	}
	relative_position_id = CRY_antisombra_6
	x = 0
	y = 1
	completion_reward = {
		log = "[GetDateText]: [Root.GetName]: Focus CRY_antisombra_7"
		country_event = {
			id = crystalemp.1 days  = 2 ################ crystal fair - to rework
		}
		swap_ideas = { remove_idea = crystal_heart_1 add_idea = crystal_heart }
		if = {
			limit = { has_idea = sombra_threat_removed_3 }
			remove_ideas = sombra_threat_removed_3
		}
		if = {
			limit = { has_idea = sombra_threat_removed_2 }
			swap_ideas = { remove_idea = sombra_threat_removed_2 add_idea = sombra_threat_removed_3 }
		}
		if = {
			limit = { has_idea = sombra_threat_removed_1 }
			swap_ideas = { remove_idea = sombra_threat_removed_1 add_idea = sombra_threat_removed_2 }
		}
		if = {
			limit = { has_idea = sombra_threat_start }
			swap_ideas = { remove_idea = sombra_threat_start add_idea = sombra_threat_removed_1 }
		}
	}
	search_filters = { FOCUS_FILTER_INDUSTRY }
}