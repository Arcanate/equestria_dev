on_actions = {
	on_startup = {
		effect = {
			if = {
				limit = {
					has_game_rule = {
						rule = river_fed_united_status
						option = RIVER_FED_UNITED
					}
				}

				RCT = {
					complete_national_focus = RIV_dreams_of_a_federation
					unlock_national_focus = RIV_science_society
					complete_national_focus = RIV_found_the_rcsc
					complete_national_focus = RIV_develop_DEP
					complete_national_focus = RIV_develop_DEP
					complete_national_focus = RIV_build_roads_in_DEP
					complete_national_focus = RIV_development_grants_DEP
					complete_national_focus = RIV_develop_FRE
					complete_national_focus = RIV_build_roads_in_FRE
					complete_national_focus = RIV_development_grants_FRE
					complete_national_focus = RIV_found_the_rdc
					complete_national_focus = RIV_found_the_rec
					complete_national_focus = RIV_rdc_rail_projects
					complete_national_focus = RIV_rdc_industry_projects
					complete_national_focus = RIV_rdc_local_investment_funds
					complete_national_focus = RIV_eastern_transport_fund
					complete_national_focus = RIV_social_fund
					complete_national_focus = RIV_beings_rights
					complete_national_focus = RIV_river_parliament
					complete_national_focus = RIV_free_movement
					complete_national_focus = RIV_centeral_bank
					complete_national_focus = RIV_the_rivbit
					complete_national_focus = RIV_the_river_union
					complete_national_focus = RIV_river_army
					complete_national_focus = RIV_river_government
					unlock_national_focus = RIV_the_federation

				}


				RCT = {
					set_cosmetic_tag = RIV
					set_variable = { annexed_riv_members = 1 }
					set_country_flag = river_federation_founder
					set_global_flag = river_federation_founded
					save_global_event_target_as = RivFed
					if = {
						limit = { NOT = { has_idea = modern_society } }
						add_ideas = modern_society
					}
					if = {
						limit = { NOT = { has_idea = proper_science_base } }
						set_country_flag = proper_science_base_unlocked
						add_ideas = proper_science_base
					}
				}
		
				every_country = {
					limit = {
						is_in_faction_with = RCT
						NOT = { tag = RCT }
					}
					every_country = {
						limit = {
							is_subject_of = PREV
						}
						hidden_effect = {
							get_current_autonomy_level = yes
							get_current_government_type = yes
							end_puppet_this = yes
						}
						RCT = {
							puppet = PREV
						}
						hidden_effect = {
							restore_previous_government_type = yes
							set_previous_autonomy_level = yes
						}
					}
					
					every_state = {
						limit = {
							is_core_of = THIS
						}
						add_core_of = RCT
					}
					
					every_unit_leader = {
						set_nationality = RCT
					}

					transfer_navy = { target = RCT }
					
					RCT = {
						transfer_technology = yes
						RIV_add_country_idea_on_annex = yes
						set_country_flag = RIV_annexed_@PREV
						annex_country = { target = PREV transfer_troops = yes }
						add_to_variable = { annexed_riv_members = 1 }
						RIV_get_cosmetic_tag = yes

						if = {
							limit = { has_dlc = "Together for Victory" }
							add_to_tech_sharing_group = RIV_science_society_group
						}
						else = {
							add_tech_bonus = {
								name = industrial_bonus
								bonus = 0.45
								uses = 3
								category = industry
								category = electronics
							}
						}
					}
				}
			}
		}
	}
}
