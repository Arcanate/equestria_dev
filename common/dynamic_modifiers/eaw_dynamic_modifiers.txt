#	Example:
# 
#	example_dynamic_modifier = {
#		icon = "GFX_idea_unknown" # optional, will show up in guis if icon is specified
#		enable = { always = yes } #optional, the modifier won't apply if not enabled
#		remove_trigger = { always = no } #optional, will remove the modifier if true
#
#		# list of modifiers
#		fuel_cost = 321
#		max_fuel = var_max_fuel # will be taken from a variable
#	}
#
#
#	In a script file:
#
#	effect = {
#		add_dynamic_modifier = {
#			modifier = example_dynamic_modifier
#			scope = GER # optional, if you specify this your dynamic modifier scoped to this scope (root is the effect scope)
#			days = 14 # optional, will be removed after this many days passes
#		}
#	}
#
#	can be added to countries, states or unit leaders
#	will only updated daily, unless forced by force_update_dynamic_modifier effect

	research_pre_ironclad_modifier = {
		enable = { always = yes } #optional, the modifier won't apply if not enabled
		research_speed_factor = var_research_adjustment_pre_ironclad
	}
	
	SCS_royalists = {
		icon = GFX_idea_FRA_scw_intervention_republicans_focus
		enable = { 
			tag = SCS 
			NOT = {
				has_country_flag = SCS_loyalist_win
			}
		}
		remove_trigger = {
			has_country_flag = SCS_loyalist_win
		}
		stability_factor = ResStabLoss
		surrender_limit = ResSurrenderLoss
	}
	
	MAN_dynamic_modifier = { ## 3/11/19 -- when 1.8 comes out add an explainer desc for this ##
		icon = GFX_idea_MAN_framed_heart
		enable = { 
			original_tag = MAN 
			has_country_flag = MAN_unlocked_dynamic_modifier_flag
		}
		stability_factor = MAN_dynamic_modifier_central_variable_final
		war_support_factor = MAN_dynamic_modifier_central_variable_final
		industrial_capacity_factory = MAN_dynamic_modifier_central_variable_final
	}

	CHN_love_deficit_dynamic_modifier = {
		icon = GFX_idea_MAN_framed_heart
		enable = { 
			original_tag = CHN 
			check_variable = { CHN_love_variable < 0 }
		}
		remove_trigger = {
			check_variable = { CHN_love_variable > 0 }
		}
		
		stability_factor = CHN_penalty_from_love_deficit_var
		war_support_factor = CHN_penalty_from_love_deficit_var
		army_org_factor = CHN_penalty_from_love_deficit_var 
		army_defence_factor = CHN_penalty_from_love_deficit_var 
		army_attack_factor = CHN_penalty_from_love_deficit_var 
		army_morale_factor = CHN_penalty_from_love_deficit_var 
		army_speed_factor = CHN_penalty_from_love_deficit_var
	}

	empowered_state_resistance = {
		remove_trigger = { 
			has_resistance = no
		}
	
		icon = GFX_modifiers_empowered_state_resistance
		
		resistance_target = 0.1
		resistance_growth = 0.25
	}

	DED_crystal_cost = {
		enable = { always = yes } #optional, the modifier won't apply if not enabled
		country_resource_cost_crystals = DED_temp_used_crystals_limit 
	}

	BAK_orthodoxy_stability = {
		#if no icon, will be invisible
		enable = { 
			tag = BAK 
			has_idea = BAK_revolutionary_orthodoxy_idea
		}
		remove_trigger = {
			NOT = { has_idea = BAK_revolutionary_orthodoxy_idea }
		}
		stability_factor = BAK_orthodoxy_stab_var
	}
	
	BAK_orthodoxy_morale = {
		#if no icon, will be invisible
		enable = { 
			tag = BAK 
			has_idea = BAK_revolutionary_orthodoxy_idea
		}
		remove_trigger = {
			NOT = { has_idea = BAK_revolutionary_orthodoxy_idea }
		}
		army_morale_factor = BAK_orthodoxy_morale_var
	}
	
	ZES_dynamic_skapatoria_refugee_modifier = { ### spirit for Kasa pop growth
		icon = GFX_idea_pony_passport
		enable = {
			original_tag = ZES
			is_subject = no
		}
		stability_factor = ZES_dynamic_skapatoria_refugee_modifier_stability_value_final
		monthly_population = ZES_dynamic_skapatoria_refugee_modifier_value_final
	}

	ZES_altu_agrarian_society = {
		icon = GFX_modifiers_changeling_settlement_icon
		enable = { always = yes }
		monthly_population = 0.10
	}

	ZES_lua_canals = {
		icon = GFX_modifiers_changeling_settlement_icon
		enable = { always = yes }
		monthly_population = 0.05
		production_speed_buildings_factor = 0.05
		local_building_slots_factor	= 0.15
	}

	ZES_helot_citizens = {
		icon = GFX_modifiers_changeling_settlement_icon
		enable = { always = yes }
		local_non_core_manpower = 0.25
		compliance_growth = 0.10
    }
    
	CHN_local_factories_10percent_modifier = {
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		local_factories = 0.1
	}
	
	CHN_reconstruction_authority_modifier = {
		icon = GFX_modifiers_changeling_icon
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		local_factory_sabotage = -0.1
		local_resources_factor = 0.1
		state_production_speed_buildings_factor = 0.02
		local_factories = 0.02
	}
	
	CHN_great_queens_tower = {
		enable = { always = yes }
		
		local_building_slots = 3
		local_intel_to_enemies = -0.25
		intel_network_gain_factor = 0.25
		local_supplies = 0.25
		max_dig_in_factor = 0.25
		static_anti_air_damage_factor = 0.25
		static_anti_air_hit_chance_factor = 0.25
		army_core_defence_factor = 0.25
		state_production_speed_buildings_factor = 0.25
	}
	
	CHN_vanhoover_colonisation_modifier = {
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		recruitable_population_factor = -0.75
		required_garrison_factor = 0.75
		no_compliance_gain = 1
	}
	
	CHN_vanhoover_colonisation_modifier_updated = {
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		recruitable_population_factor = -0.75
		required_garrison_factor = 2.75
		no_compliance_gain = 1
	}
	
	CHN_acornage_colonisation_modifier = {
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		recruitable_population_factor = -0.5
		required_garrison_factor = 0.5
		no_compliance_gain = 1
	}
	
	CHN_acornage_colonisation_modifier_updated = {
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		local_factories = 0.5
		local_building_slots_factor = 0.5
		resistance_decay = 0.5
		local_non_core_manpower = 0.75
		recruitable_population_factor = 0.5
		MONTHLY_POPULATION = 0.75
	}
	
	CHN_settler_colony_modifier = {
		icon = GFX_modifiers_changeling_settlement_icon
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		resistance_decay = 0.5
		resistance_target = -0.5
		recruitable_population_factor = 0.5
		MONTHLY_POPULATION = 0.5
		compliance_gain 				= 0.05	
		resistance_damage_to_garrison 	= -0.5
		local_non_core_manpower = 0.1	
	}
	
	CHN_veterans_slaves_dynamic_modifier = {
		icon = GFX_idea_slavery
		enable = { 
			original_tag = CHN 
			has_country_flag = CHN_acquired_pony_slave_dynamic_modifier
		}
		remove_trigger = {
			NOT = {
				any_of = {
					array = EQS.core_states
					var:v = {
					   is_fully_controlled_by = CHN
					}
				}
			}
		}
		
		army_morale_factor = CHN_acquired_pony_slave_dynamic_modifier_var
		industrial_capacity_factory = CHN_acquired_pony_slave_dynamic_modifier_var
		industrial_capacity_dockyard = CHN_acquired_pony_slave_dynamic_modifier_var
	}
	
	everfree_forest_resistance_to_occupation_modifier = {
		enable = { always = yes }
		
		resistance_decay = -0.7
		resistance_target = 0.7
		resistance_damage_to_garrison = 0.7
		resistance_garrison_penetration_chance = 0.7
	}
	
	everfree_resistance_modifier = {
		enable = { always = yes }
		
		air_accidents = 1.5
		air_mission_efficiency = -1.5
		local_org_regain = -1.5
		sickness_chance = 1.5
		attrition = 111
		army_attack_factor = -1.5
		army_defence_factor = -1.5
		army_speed_factor = -1.5
	}
	
	CHN_96th_canterlonian_modifier = {
		icon = GFX_modifiers_changeling_garrison_icon
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		resistance_decay = 0.25
		resistance_target = -0.25
	}
	
	CHN_canterlot_commissariat_modifier = {
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		## Jachs ##
		compliance_gain = 0.05	
		local_building_slots_factor = 0.5
	}
	
	CHN_canterlot_commissariat_modifier_alcippe = {
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		## Alcippe ##
		resistance_damage_to_garrison 	= -0.25
		resistance_garrison_penetration_chance = -0.25
	}
	
	CHN_canterlot_commissariat_modifier_finicus = {
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		## Finicus ##
		local_factories = 0.5
		local_resources_factor = 0.5
	}
	
	CHN_canterlot_commissariat_modifier_marsilio = {
		enable = { always = yes }
		remove_trigger = {
			3 = {
				NOT = { is_controlled_by = CHN }
			}
		}
		
		## Marsilio ##
		research_speed_factor = 0.03
	}
	
	CHN_canterlot_commissariat_modifier_second_wind = {
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		## Second Wind ##
		local_non_core_manpower = 0.20	
	}
	
	CHN_canterlot_commissariat_modifier_gloriosa = {
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		## Gloriosa ##
		intel_network_gain_factor = 0.25
	}
	
	CHN_canterlot_commissariat_modifier_PPP = {
		icon = GFX_modifiers_changeling_horse_icon
		enable = { always = yes }
		remove_trigger = {
			NOT = { is_controlled_by = CHN }
		}
		
		local_manpower = 0.2
		local_supplies = 0.2
		state_production_speed_buildings_factor = 0.2
	}
	
	LSC_national_transformation = { 
		icon = GFX_idea_partial_economic_mobilisation_red
		enable = { always = yes }
		political_power_factor = LSC_transformation_political_power_factor
		production_factory_max_efficiency_factor = LSC_transformation_production_factory_max_efficiency_factor
		industrial_capacity_factory = LSC_transformation_industrial_capacity_factory
		consumer_goods_factor = LSC_transformation_consumer_goods_factor
		conscription_factor = LSC_transformation_conscription_factor
		research_speed_factor = LSC_transformation_research_speed_factor
		war_support_factor = LSC_transformation_war_support_factor
		army_morale_factor = LSC_transformation_army_morale_factor
		training_time_army_factor = LSC_transformation_training_time_factor
		mobilization_laws_cost_factor = LSC_transformation_mobilization_laws_cost_factor
		political_advisor_cost_factor = LSC_transformation_political_advisor_cost_factor
		
		MONTHLY_POPULATION = LSC_transformation_tyranny
		stability_factor = LSC_transformation_tyranny_2
	}
	LSC_griffon_resistance = { 
		icon = GFX_idea_FRA_scw_intervention_republicans_focus
		enable = { always = yes }
		stability_weekly = LSC_griffon_resistance_modifier
	}

	KIR_silence_dynamic_modifier = {
		icon = GFX_idea_KIR_silence
		enable = { original_tag = KIR }
		
		stability_weekly = KIR_the_silence_weekly_stability_var
		political_power_gain = KIR_the_silence_daily_political_power_var
		stability_factor = KIR_the_silence_stability_var
		drift_defence_factor = KIR_the_silence_drift_defence_var
		research_speed_factor = KIR_the_silence_research_var 
		conscription_factor = KIR_the_silence_conscription_var
		political_advisor_cost_factor = KIR_the_silence_political_advisor_var
		enemy_justify_war_goal_time = KIR_the_silence_enemy_justify_var
		military_leader_cost_factor = KIR_the_silence_general_cost_var
		training_time_factor = KIR_the_silence_training_var
		planning_speed = KIR_the_silence_planning_var
		experience_gain_army_factor = KIR_the_silence_experience_gain_var 
		minimum_training_level = KIR_the_silence_minimum_training_level_var
		attrition = KIR_the_silence_attrition_var
		global_building_slots_factor = KIR_the_silence_building_slots_var 
		consumer_goods_factor = KIR_the_silence_consumer_goods_var
		production_speed_buildings_factor = KIR_the_silence_construction_speed_var 
		MONTHLY_POPULATION = KIR_the_silence_monthly_pop_var
		industrial_capacity_factory = KIR_the_silence_factory_output_var
		army_org_factor = KIR_the_silence_army_org_var
		political_power_factor = KIR_the_silence_political_power_var
		
		custom_modifier_tooltip = KIR_silence_stability_civil_war_tt
	}

	KIR_plenum_dynamic_modifier = {
		icon = GFX_idea_KIR_pagoda_1
		enable = { original_tag = KIR }
		
		political_power_factor = KIR_plenum_PP_var
		democratic_drift = KIR_plenum_democratic_var
		fascism_drift = KIR_plenum_fascism_var
		communism_drift = KIR_plenum_communism_var
		neutrality_drift = KIR_plenum_neutrality_var
		stability_factor = KIR_plenum_stab_var
		drift_defence_factor = KIR_plenum_DD_var
	}
	
	KIR_auburn_isle_pirate_modifier = {
		icon = GFX_modifiers_skull_icon
		enable = { always = yes }
		remove_trigger = {
			OR = {
				NOT = { is_controlled_by = KIR }
				KIR = {
					has_country_flag = KIR_gotten_rid_of_auburn_isle_pirates_flag
				}
			}
		}
		
		local_manpower = -1
		local_supplies = -1
		local_building_slots_factor = -1
		local_resources_factor = -1
		custom_modifier_tooltip = KIR_auburn_isle_pirate_raids_tt
	}

	KIS_treasury_debt_modifier = {
		icon = GFX_idea_KIR_debt_chains
		enable = {
			original_tag = KIS 
			OR = {
				check_variable = { KIS.KIS_treasury_debt_consumer_goods_var > 0 }
				check_variable = { KIS.KIS_treasury_debt_PP_var < 0 }
			}
		}
		remove_trigger = {
			check_variable = { KIS.TreasuryDebt < 999 }
		}
		
		political_power_factor = KIS.KIS_treasury_debt_PP_var
		consumer_goods_factor = KIS.KIS_treasury_debt_consumer_goods_var
	}

	KIS_factory_donations_modifier = {
		icon = GFX_idea_KIS_factory_investment
		enable = {
			original_tag = KIS 
			OR = {
				check_variable = { KIS.KIS_treasury_civ_factory_investment_var > 0 }
				check_variable = { KIS.KIS_treasury_mil_factory_investment_var > 0 }
				check_variable = { KIS.KIS_treasury_nav_dockyard_investment_var > 0 }
			}
		}
		remove_trigger = {
			check_variable = { KIS.KIS_treasury_civ_factory_investment_var < 1 }
			check_variable = { KIS.KIS_treasury_mil_factory_investment_var < 1 }
			check_variable = { KIS.KIS_treasury_nav_dockyard_investment_var < 1 }
		}
		
		dockyard_donations = KIS.KIS_treasury_nav_dockyard_investment_var
		industrial_factory_donations = KIS.KIS_treasury_civ_factory_investment_var
		military_factory_donations = KIS.KIS_treasury_mil_factory_investment_var
	}

	KIS_construction_modifier = {
		icon = GFX_idea_KIS_construction
		enable = { original_tag = KIS }
		
		research_speed_factor = KIS.KIS_construction_rsf_var ##SHARED
		monthly_population = KIS.KIS_construction_mp_var ##SHARED
		party_popularity_stability_factor = KIS.KIS_construction_ppsf_var ##SHARED
		political_power_factor = KIS.KIS_construction_ppf_var ##SHARED
		war_support_factor = KIS.KIS_construction_wrsf_var ##Reconciliationist (Currently, could be Shared)
		drift_defence_factor = KIS.KIS_construction_ddf_var ##SHARED
		opinion_gain_monthly_same_ideology_factor = KIS.KIS_construction_ogmsif_var ##Reconciliationist
		industrial_capacity_dockyard = KIS.KIS_construction_icd_var ##Reconciliationist (Currently, could be Shared)
		industrial_capacity_factory = KIS.KIS_construction_icf_var ##Reconciliationist (Currently, could be Shared)
		production_speed_buildings_factor = KIS.KIS_construction_psbf_var ##SHARED
		production_oil_factor = KIS.KIS_construction_pof_var ##NA
		unit_upkeep_attrition_factor = KIS.KIS_construction_uuaf_var ##NA
		training_time_factor = KIS.KIS_construction_ttf_var ##NA
		production_lack_of_resource_penalty_factor = KIS.KIS_construction_plorpf_var ##SHARED
		local_resources_factor  = KIS.KIS_construction_localresources_var ##Reconciliationist (Currently, could be Shared)
	}

	KIS_reconciliation_modifier = {
		icon = GFX_idea_KIR_KIS_cooperation
		enable = { original_tag = KIS }
		
		defensive_war_stability_factor = KIS.KIS_reconciliation_modifier_dwsf_var
		offensive_war_stability_factor = KIS.KIS_reconciliation_modifier_owsf_var
		political_power_factor = KIS.KIS_reconciliation_modifier_ppf_var
		drift_defence_factor = KIS.KIS_reconciliation_modifier_ddf_var
		opinion_gain_monthly_factor = KIS.KIS_reconciliation_ogmsif_var
		stability_weekly_factor = KIS.KIS_reconciliation_swf_var
		political_advisor_cost_factor = KIS.KIS_reconciliation_pacf_var
		democratic_acceptance = KIS.KIS_reconciliation_demoa_var
		fascism_acceptance = KIS.KIS_reconciliation_fasca_var
		neutrality_acceptance = KIS.KIS_reconciliation_neuta_var
		
		monthly_population = KIS.KIS_reconciliation_monthpop_var
		surrender_limit = KIS.KIS_reconciliation_surrenderlimit_var
		resistance_growth_on_our_occupied_states = KIS.KIS_reconciliation_rgooos_var
		resistance_decay_on_our_occupied_states = KIS.KIS_reconciliation_rdooos_var
		army_core_defence_factor = KIS.KIS_reconciliation_coredf_var
		
		extra_trade_to_overlord_factor = KIS.KIS_reconciliation_ettof_var
		master_ideology_drift = KIS.KIS_reconciliation_mid_var
		autonomy_manpower_share = KIS.KIS_reconciliation_ams_var
		cic_to_overlord_factor = KIS.KIS_reconciliation_ctof_var
		mic_to_overlord_factor = KIS.KIS_reconciliation_mtof_var
	}
	
	klugetown_criminals = { # on State
		enable = { always = yes }
		icon = GFX_modifiers_empowered_state_resistance
		compliance_growth = -0.1
		resistance_growth = 0.1
		resistance_target = 0.35
		resistance_decay = -0.25
	}
    FRN_tarrin_autonomous_state = {
		icon = GFX_modifiers_FRN_tarrin_autonomy
		enable = { always = yes }
		remove_trigger = {
			OR = {
				is_core_of = FRN
				NOT = { 
					is_controlled_by = FRN 
				}
			}
		}
		
		compliance_gain = 0.025
		local_building_slots_factor = 0.25
		local_resources_factor = 0.25
		resistance_decay = 0.25
		local_non_core_manpower = 0.1
    }
	FRN_tarrin_autonomous_state_2 = {
		icon = GFX_modifiers_FRN_tarrin_autonomy
		enable = { always = yes }
		remove_trigger = {
			is_core_of = ROOT
		}
		local_factories = -0.25
		local_supplies = -0.25
		local_resources = -0.25
		local_non_core_manpower = -0.25
		compliance_growth = 0.025
    }
   FRN_tarrin_resistance_modifier = {
		icon = GFX_modifiers_FRN_tarrin_resistance
		enable = { always = yes }
		remove_trigger = {
			has_resistance = no
		}
		
		resistance_target = FRN.FRN_tarrin_resistance_variable
		resistance_decay = -0.25
		resistance_garrison_penetration_chance = 0.1
		local_resources = -0.33
		compliance_growth = -0.5
		disable_strategic_redeployment = 1
	}
	FRN_order_militancy = { 
		icon = GFX_idea_triumphant_will
		enable = { always = yes }
		
		stability_factor = 0.1
		
		industrial_capacity_factory = FRN_industrial_capacity_variable
		consumer_goods_factor = FRN_consumer_goods_variable
		production_speed_buildings_factor = FRN_production_speed_buildings_variable
		local_resources_factor = FRN_local_resources_variable
		
		conscription_factor = FRN_conscription_variable
		war_support_factor = FRN_war_support_variable
		experience_gain_army_factor = FRN_experience_gain_variable
		training_time_army_factor = FRN_training_time_variable
	}
	
	JER_deputies_stability_pp = {
		enable = {
			has_completed_focus = JER_the_triumph
			is_subject = no
			NOT = {
			    has_country_flag = JER_no_assembly
			}
		}
		stability_factor = JER_deputies_stability_pp_var
		political_power_factor = JER_deputies_stability_pp_var
	}

	JER_stability_weekly_mod = {
		#icon = GFX_idea_MAN_framed_heart
		enable = {
			has_completed_focus = JER_the_triumph
			is_subject = no
			has_stability < 0.6
			NOT = {
			    has_country_flag = JER_no_assembly
			}
		}
		stability_weekly = JER_stability_weekly_mod_var
	}
	
	JER_rebuilt_aquila = {
		icon = GFX_modifiers_changeling_settlement_icon
		enable = { always = yes }
		
		local_building_slots = 3
		local_intel_to_enemies = -0.25
		intel_network_gain_factor = 0.25
		local_supplies = 0.25
		max_dig_in_factor = 0.25
		static_anti_air_damage_factor = 0.25
		static_anti_air_hit_chance_factor = 0.25
		army_core_defence_factor = 0.25
		state_production_speed_buildings_factor = 0.25
	}

	WNG_altar = {
		enable = { always = yes }
		
		icon = GFX_modifiers_hail_forest_obelisk_icon

		resistance_growth = 0.1
		recruitable_population_factor = 0.15
		state_production_speed_buildings_factor = 0.1
	}