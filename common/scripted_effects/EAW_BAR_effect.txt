BAR_pentarchy_is_dead = {
	if = {
		limit = {
			NOT = {
				has_country_flag = barrad_asinti_alive
				has_country_flag = barrad_silver_star_alive
				has_country_flag = barrad_leopold_alive
				has_country_flag = barrad_viira_alive
			}
		}
		country_event = { days = 1 id = barrad_end.1 }
	}
}
BAR_unded_army_up = {
	if = {
		limit = {
			has_idea = BAR_undead_army_1
		}
		swap_ideas = {
			remove_idea = BAR_undead_army_1
			add_idea = BAR_undead_army_2
		}
	}
	else_if = {
		limit = {
			has_idea = BAR_undead_army_2
		}
		swap_ideas = {
			remove_idea = BAR_undead_army_2
			add_idea = BAR_undead_army_3
		}
	}
	else_if = {
		limit = {
			has_idea = BAR_undead_army_3
		}
		swap_ideas = {
			remove_idea = BAR_undead_army_3
			add_idea = BAR_undead_army_4
		}
	}
	else_if = {
		limit = {
			has_idea = BAR_undead_army_4
		}
		swap_ideas = {
			remove_idea = BAR_undead_army_4
			add_idea = BAR_undead_army_5
		}
	}
	else = {
		add_idea = BAR_undead_army_1
	}
}
BAR_happy_ending = {
	if = {
		limit = {
			has_country_flag = barrad_asinti_alive
			has_country_flag = barrad_silver_star_alive
			has_country_flag = barrad_leopold_alive
			has_country_flag = barrad_viira_alive
			NOT = {
				has_country_flag = { flag = barrad_endgame value = 0 }
			}
			check_variable = {
				var = BAR_relations_asinti_silver
				value = 70
				compare = greater_than_or_equals
			}
			check_variable = {
				var = BAR_relations_asinti_leopold
				value = 70
				compare = greater_than_or_equals
			}
			check_variable = {
				var = BAR_relations_asinti_viira
				value = 70
				compare = greater_than_or_equals
			}
			check_variable = {
				var = BAR_relations_silver_leopold
				value = 70
				compare = greater_than_or_equals
			}
			check_variable = {
				var = BAR_relations_silver_viira
				value = 70
				compare = greater_than_or_equals
			}
			check_variable = {
				var = BAR_relations_leopold_viira
				value = 70
				compare = greater_than_or_equals
			}
		}
		country_event = { days = 1 id = barrad_end.2 }
	}
}
BAR_relations_idea_swap = {
	if = {
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_asinti_silver
				value = 70
				compare = greater_than_or_equals
			}
		}	
		if = {
			limit = {
				NOT = { has_idea = BAR_relations_asinti_silver_positive }
			}
			add_ideas = BAR_relations_asinti_silver_positive
		}
	}
	if = {
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_asinti_silver
				value = 30
				compare = less_than_or_equals
			}
		}
		if = {
			limit = {
				NOT = { has_idea = BAR_relations_asinti_silver_negative }
			}
			add_ideas = BAR_relations_asinti_silver_negative
		}
	}
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_asinti_leopold
				value = 70
				compare = greater_than_or_equals
			}
		}
		if = {
			limit = {
				NOT = { has_idea = BAR_relations_asinti_leopold_positive }
			}
			add_ideas = BAR_relations_asinti_leopold_positive
		}
	}
	if = {
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_asinti_leopold
				value = 30
				compare = less_than_or_equals
			}
		}
		if = {
			limit = {
				NOT = { has_idea = BAR_relations_asinti_leopold_negative }
			}
			add_ideas = BAR_relations_asinti_leopold_negative
		}
	}
	if = {
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_asinti_viira
				value = 70
				compare = greater_than_or_equals
			}
		}
		if = {
			limit = {
				NOT = { has_idea = BAR_relations_asinti_viira_positive }
			}
			add_ideas = BAR_relations_asinti_viira_positive
		}
	}
	if = {
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_asinti_viira
				value = 30
				compare = less_than_or_equals
			}
		}
		if = {
			limit = {
				NOT = { has_idea = BAR_relations_asinti_viira_negative }
			}
			add_ideas = BAR_relations_asinti_viira_negative
		}
	}
	if = {
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_silver_leopold
				value = 70
				compare = greater_than_or_equals
			}
		}
		if = {
			limit = {
				NOT = { has_idea = BAR_relations_silver_leopold_positive }
			}
			add_ideas = BAR_relations_silver_leopold_positive
		}
	}
	if = {
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_silver_leopold
				value = 30
				compare = less_than_or_equals
			}
		}
		if = {
			limit = {
				NOT = { has_idea = BAR_relations_silver_leopold_negative }
			}
			add_ideas = BAR_relations_silver_leopold_negative
		}
	}
	if = {
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_silver_viira
				value = 70
				compare = greater_than_or_equals
			}
		}
		if = {
			limit = {
				NOT = { has_idea = BAR_relations_silver_viira_positive }
			}
			add_ideas = BAR_relations_silver_viira_positive
		}
	}
	if = {
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_silver_viira
				value = 30
				compare = less_than_or_equals
			}
		}
		if = {
			limit = {
				NOT = { has_idea = BAR_relations_silver_viira_negative }
			}
			add_ideas = BAR_relations_silver_viira_negative
		}
	}
	if = {
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_silver_viira
				value = 70
				compare = greater_than_or_equals
			}
		}
		if = {
			limit = {
				NOT = { has_idea = BAR_relations_silver_viira_positive }
			}
			add_ideas = BAR_relations_silver_viira_positive
		}
	}
	if = {
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_leopold_viira
				value = 30
				compare = less_than_or_equals
			}
		}
		if = {
			limit = {
				NOT = { has_idea = BAR_relations_silver_viira_negative }
			}
			add_ideas = BAR_relations_silver_viira_negative
		}
	}
	if = { #remove both
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_asinti_silver
				value = 30
				compare = greater_than
			}
			check_variable = {
				var = BAR_relations_asinti_silver
				value = 70
				compare = less_than
			}
		}
		if = {
			limit = {
				has_idea = BAR_relations_asinti_silver_positive
			}
			remove_ideas = BAR_relations_asinti_silver_positive
		}
		if = {
			limit = {
				has_idea = BAR_relations_asinti_silver_negative
			}
			remove_ideas = BAR_relations_asinti_silver_negative
		}
	}
	if = { #remove both
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_asinti_leopold
				value = 30
				compare = greater_than
			}
			check_variable = {
				var = BAR_relations_asinti_leopold
				value = 70
				compare = less_than
			}
		}
		if = {
			limit = {
				has_idea = BAR_relations_asinti_leopold_positive
			}
			remove_ideas = BAR_relations_asinti_leopold_positive
		}
		if = {
			limit = {
				has_idea = BAR_relations_asinti_leopold_negative
			}
			remove_ideas = BAR_relations_asinti_leopold_negative
		}
	}
	if = { #remove both
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_asinti_viira
				value = 30
				compare = greater_than
			}
			check_variable = {
				var = BAR_relations_asinti_viira
				value = 70
				compare = less_than
			}
		}
		if = {
			limit = {
				has_idea = BAR_relations_asinti_viira_positive
			}
			remove_ideas = BAR_relations_asinti_viira_positive
		}
		if = {
			limit = {
				has_idea = BAR_relations_asinti_viira_negative
			}
			remove_ideas = BAR_relations_asinti_viira_negative
		}
	}
	if = { #remove both
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_silver_leopold
				value = 30
				compare = greater_than
			}
			check_variable = {
				var = BAR_relations_silver_leopold
				value = 70
				compare = less_than
			}
		}
		if = {
			limit = {
				has_idea = BAR_relations_silver_leopold_positive
			}
			remove_ideas = BAR_relations_silver_leopold_positive
		}
		if = {
			limit = {
				has_idea = BAR_relations_silver_leopold_negative
			}
			remove_ideas = BAR_relations_silver_leopold_negative
		}
	}
	if = { #remove both
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_silver_viira
				value = 30
				compare = greater_than
			}
			check_variable = {
				var = BAR_relations_silver_viira
				value = 70
				compare = less_than
			}
		}
		if = {
			limit = {
				has_idea = BAR_relations_silver_viira_positive
			}
			remove_ideas = BAR_relations_silver_viira_positive
		}
		if = {
			limit = {
				has_idea = BAR_relations_silver_viira_negative
			}
			remove_ideas = BAR_relations_silver_viira_negative
		}
	}
	if = { #remove both
		limit = {
			tag = BAR
			check_variable = {
				var = BAR_relations_leopold_viira
				value = 30
				compare = greater_than
			}
			check_variable = {
				var = BAR_relations_leopold_viira
				value = 70
				compare = less_than
			}
		}
		if = {
			limit = {
				has_idea = BAR_relations_leopold_viira_positive
			}
			remove_ideas = BAR_relations_leopold_viira_positive
		}
		if = {
			limit = {
				has_idea = BAR_relations_leopold_viira_negative
			}
			remove_ideas = BAR_relations_leopold_viira_negative
		}
	}
	BAR_happy_ending = yes
}
BAR_resources_add_asinti_250 = {
	custom_effect_tooltip = BAR_resources_gain_asinti_250
	add_to_variable = {
		var = BAR_resources_asinti
		value = 250
	}
}
BAR_resources_add_asinti_500 = {
	custom_effect_tooltip = BAR_resources_gain_asinti_500
	add_to_variable = {
		var = BAR_resources_asinti
		value = 500
	}
}
BAR_resources_add_asinti_750 = {
	custom_effect_tooltip = BAR_resources_gain_asinti_750
	add_to_variable = {
		var = BAR_resources_asinti
		value = 750
	}
}
BAR_resources_add_asinti_1000 = {
	custom_effect_tooltip = BAR_resources_gain_asinti_1000
	add_to_variable = {
		var = BAR_resources_asinti
		value = 1000
	}
}
BAR_resources_add_silver_250 = {
	custom_effect_tooltip = BAR_resources_gain_silver_250
	add_to_variable = {
		var = BAR_resources_silver
		value = 250
	}
}
BAR_resources_add_silver_500 = {
	custom_effect_tooltip = BAR_resources_gain_silver_500
	add_to_variable = {
		var = BAR_resources_silver
		value = 500
	}
}
BAR_resources_add_silver_750 = {
	custom_effect_tooltip = BAR_resources_gain_silver_750
	add_to_variable = {
		var = BAR_resources_silver
		value = 750
	}
}
BAR_resources_add_silver_1000 = {
	custom_effect_tooltip = BAR_resources_gain_silver_1000
	add_to_variable = {
		var = BAR_resources_silver
		value = 1000
	}
}
BAR_resources_add_leopold_250 = {
	custom_effect_tooltip = BAR_resources_gain_leopold_250
	add_to_variable = {
		var = BAR_resources_leopold
		value = 250
	}
}
BAR_resources_add_leopold_500 = {
	custom_effect_tooltip = BAR_resources_gain_leopold_500
	add_to_variable = {
		var = BAR_resources_leopold
		value = 500
	}
}
BAR_resources_add_leopold_750 = {
	custom_effect_tooltip = BAR_resources_gain_leopold_750
	add_to_variable = {
		var = BAR_resources_leopold
		value = 750
	}
}
BAR_resources_add_leopold_1000 = {
	custom_effect_tooltip = BAR_resources_gain_leopold_1000
	add_to_variable = {
		var = BAR_resources_leopold
		value = 1000
	}
}
BAR_resources_add_viira_250 = {
	custom_effect_tooltip = BAR_resources_gain_viira_250
	add_to_variable = {
		var = BAR_resources_viira
		value = 250
	}
}
BAR_resources_add_viira_500 = {
	custom_effect_tooltip = BAR_resources_gain_viira_500
	add_to_variable = {
		var = BAR_resources_viira
		value = 500
	}
}
BAR_resources_add_viira_750 = {
	custom_effect_tooltip = BAR_resources_gain_viira_750
	add_to_variable = {
		var = BAR_resources_viira
		value = 750
	}
}
BAR_resources_add_viira_1000 = {
	custom_effect_tooltip = BAR_resources_gain_viira_1000
	add_to_variable = {
		var = BAR_resources_viira
		value = 1000
	}
}

### subtract resources ###

BAR_resources_subtract_asinti_1500 = {
	if = {
		limit = {
			has_country_flag = BAR_asinti_discount
		}
		custom_effect_tooltip = BAR_resources_substract_asinti_1350
		subtract_from_variable = {
			var = BAR_resources_asinti
			value = 1350
		}
	}
	else = {
		custom_effect_tooltip = BAR_resources_substract_asinti_1500
		subtract_from_variable = {
			var = BAR_resources_asinti
			value = 1500
		}
	}	
}
BAR_resources_subtract_asinti_500 = {
	if = {
		limit = {
			has_country_flag = BAR_asinti_discount
		}
		custom_effect_tooltip = BAR_resources_substract_asinti_500
		subtract_from_variable = {
			var = BAR_resources_asinti
			value = 450
		}
	}
	else = {
		custom_effect_tooltip = BAR_resources_substract_asinti_500
		subtract_from_variable = {
			var = BAR_resources_asinti
			value = 500
		}
	}	
}
BAR_resources_subtract_asinti_750 = {
	if = {
		limit = {
			has_country_flag = BAR_asinti_discount
		}
		custom_effect_tooltip = BAR_resources_substract_asinti_675
		subtract_from_variable = {
			var = BAR_resources_asinti
			value = 675
		}
	}
	else = {
		custom_effect_tooltip = BAR_resources_substract_asinti_750
		subtract_from_variable = {
			var = BAR_resources_asinti
			value = 750
		}
	}
}
BAR_resources_subtract_asinti_1000 = {
	if = {
		limit = {
			has_country_flag = BAR_asinti_discount
		}
		custom_effect_tooltip = BAR_resources_substract_asinti_900
		subtract_from_variable = {
			var = BAR_resources_asinti
			value = 900
		}
	}
	else = {
		custom_effect_tooltip = BAR_resources_substract_asinti_1000
		subtract_from_variable = {
			var = BAR_resources_asinti
			value = 1000
		}
	}
}
BAR_resources_subtract_silver_1500 = {
	custom_effect_tooltip = BAR_resources_substract_silver_1500
	subtract_from_variable = {
		var = BAR_resources_silver
		value = 1500
	}
}
BAR_resources_subtract_silver_500 = {
	custom_effect_tooltip = BAR_resources_substract_silver_500
	subtract_from_variable = {
		var = BAR_resources_silver
		value = 500
	}
}
BAR_resources_subtract_silver_750 = {
	custom_effect_tooltip = BAR_resources_substract_silver_750
	subtract_from_variable = {
		var = BAR_resources_silver
		value = 750
	}
}
BAR_resources_subtract_silver_1000 = {
	custom_effect_tooltip = BAR_resources_substract_silver_1000
	subtract_from_variable = {
		var = BAR_resources_silver
		value = 1000
	}
}
BAR_resources_subtract_leopold_1500 = {
	custom_effect_tooltip = BAR_resources_substract_leopold_1500
	subtract_from_variable = {
		var = BAR_resources_leopold
		value = 1500
	}
}
BAR_resources_subtract_leopold_500 = {
	custom_effect_tooltip = BAR_resources_substract_leopold_500
	subtract_from_variable = {
		var = BAR_resources_leopold
		value = 500
	}
}
BAR_resources_subtract_leopold_750 = {
	custom_effect_tooltip = BAR_resources_substract_leopold_750
	subtract_from_variable = {
		var = BAR_resources_leopold
		value = 750
	}
}
BAR_resources_subtract_leopold_1000 = {
	custom_effect_tooltip = BAR_resources_substract_leopold_1000
	subtract_from_variable = {
		var = BAR_resources_leopold
		value = 1000
	}
}
BAR_resources_subtract_viira_1500 = {
	custom_effect_tooltip = BAR_resources_substract_viira_1500
	subtract_from_variable = {
		var = BAR_resources_viira
		value = 1500
	}
}
BAR_resources_subtract_viira_500 = {
	custom_effect_tooltip = BAR_resources_substract_viira_500
	subtract_from_variable = {
		var = BAR_resources_viira
		value = 500
	}
}
BAR_resources_subtract_viira_750 = {
	custom_effect_tooltip = BAR_resources_substract_viira_750
	subtract_from_variable = {
		var = BAR_resources_viira
		value = 750
	}
}
BAR_resources_subtract_viira_1000 = {
	custom_effect_tooltip = BAR_resources_substract_viira_1000
	subtract_from_variable = {
		var = BAR_resources_viira
		value = 1000
	}
}

### relations ###

BAR_relations_increase_asinti_silver_5 = {
	custom_effect_tooltip = BAR_relations_increase_asinti_silver
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_asinti_silver
				value = 95
				compare = less_than_or_equals
			}
		}
		add_to_variable = {
			var = BAR_relations_asinti_silver
			value = 5
		}
	}
	else = {
		set_variable = { BAR_relations_asinti_silver = 100 }
	}
	BAR_relations_idea_swap = yes
}
BAR_relations_increase_asinti_leopold_5 = {
	custom_effect_tooltip = BAR_relations_increase_asinti_leopold
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_asinti_leopold
				value = 95
				compare = less_than_or_equals
			}
		}
		add_to_variable = {
			var = BAR_relations_asinti_leopold
			value = 5
		}
	}
	else = {
		set_variable = { BAR_relations_asinti_leopold = 100 }
	}
	BAR_relations_idea_swap = yes
}
BAR_relations_increase_asinti_viira_5 = {
	custom_effect_tooltip = BAR_relations_increase_asinti_viira
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_asinti_viira
				value = 95
				compare = less_than_or_equals
			}
		}
		add_to_variable = {
			var = BAR_relations_asinti_viira
			value = 5
		}
	}	
	else = {
		set_variable = { BAR_relations_asinti_viira = 100 }
	}
	BAR_relations_idea_swap = yes
}
BAR_relations_increase_silver_leopold_5 = {
	custom_effect_tooltip = BAR_relations_increase_silver_leopold
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_silver_leopold
				value = 95
				compare = less_than_or_equals
			}
		}
		add_to_variable = {
			var = BAR_relations_silver_leopold
			value = 5
		}
	}
	else = {
		set_variable = { BAR_relations_silver_leopold = 100 }
	}
	BAR_relations_idea_swap = yes
}
BAR_relations_increase_silver_viira_5 = {
	custom_effect_tooltip = BAR_relations_increase_silver_viira
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_silver_viira
				value = 95
				compare = less_than_or_equals
			}
		}
		add_to_variable = {
			var = BAR_relations_silver_viira
			value = 5
		}
	}
	else = {
		set_variable = { BAR_relations_silver_viira = 100 }
	}
	BAR_relations_idea_swap = yes
}
BAR_relations_increase_leopold_viira_5 = {
	custom_effect_tooltip = BAR_relations_increase_leopold_viira
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_leopold_viira
				value = 95
				compare = less_than_or_equals
			}
		}
		add_to_variable = {
			var = BAR_relations_leopold_viira
			value = 5
		}
	}
	else = {
		set_variable = { BAR_relations_leopold_viira = 100 }
	}
	BAR_relations_idea_swap = yes
}

BAR_relations_decrease_asinti_silver_5 = {
	custom_effect_tooltip = BAR_relations_decrease_asinti_silver
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_asinti_silver
				value = 5
				compare = greater_than_or_equals
			}
		}
		subtract_from_variable = {
			var = BAR_relations_asinti_silver
			value = 5
		}
	}
	else = {
		set_variable = { BAR_relations_asinti_silver = 0 }
	}
	BAR_relations_idea_swap = yes
}
BAR_relations_decrease_asinti_leopold_5 = {
	custom_effect_tooltip = BAR_relations_decrease_asinti_leopold
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_asinti_leopold
				value = 5
				compare = greater_than_or_equals
			}
		}
		subtract_from_variable = {
			var = BAR_relations_asinti_leopold
			value = 5
		}
	}	
	else = {
		set_variable = { BAR_relations_asinti_leopold = 0 }
	}
	BAR_relations_idea_swap = yes
}
BAR_relations_decrease_asinti_viira_5 = {
	custom_effect_tooltip = BAR_relations_decrease_asinti_viira
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_asinti_viira
				value = 5
				compare = greater_than_or_equals
			}
		}
		subtract_from_variable = {
			var = BAR_relations_asinti_viira
			value = 5
		}
	}
	else = {
		set_variable = { BAR_relations_asinti_viira = 0 }
	}
	BAR_relations_idea_swap = yes
}
BAR_relations_decrease_silver_leopold_5 = {
	custom_effect_tooltip = BAR_relations_decrease_silver_leopold
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_silver_leopold
				value = 5
				compare = greater_than_or_equals
			}
		}
		subtract_from_variable = {
			var = BAR_relations_silver_leopold
			value = 5
		}
	}
	else = {
		set_variable = { BAR_relations_silver_leopold = 0 }
	}
	BAR_relations_idea_swap = yes
}
BAR_relations_decrease_silver_viira_5 = {
	custom_effect_tooltip = BAR_relations_decrease_silver_viira
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_silver_viira
				value = 5
				compare = greater_than_or_equals
			}
		}
		subtract_from_variable = {
			var = BAR_relations_silver_viira
			value = 5
		}
	}	
	else = {
		set_variable = { BAR_relations_silver_viira = 0 }
	}
	BAR_relations_idea_swap = yes
}
BAR_relations_decrease_leopold_viira_5 = {
	custom_effect_tooltip = BAR_relations_decrease_leopold_viira
	if = {
		limit = {
			check_variable = {
				var = BAR_relations_leopold_viira
				value = 5
				compare = greater_than_or_equals
			}
		}
		subtract_from_variable = {
			var = BAR_relations_leopold_viira
			value = 5
		}
	}
	else = {
		set_variable = { BAR_relations_leopold_viira = 0 }
	}
	BAR_relations_idea_swap = yes
}