CTH_add_1_constitutionalist_strength = {
	custom_effect_tooltip = CTH_add_1_constitutionalist_strength_tt
	add_to_variable = {
		var = CTH_constitutionalist_strength
		value = 1
	}
	CTH_clamp_constitutionalist_strength = yes
}

CTH_take_1_constitutionalist_strength = {
	custom_effect_tooltip = CTH_take_1_constitutionalist_strength_tt
	hidden_effect = {
		add_to_variable = {
			var = CTH_constitutionalist_strength
			value = -1
		}
		CTH_clamp_constitutionalist_strength = yes
	}
}

CTH_clamp_constitutionalist_strength = {
	clamp_variable = {
		var = CTH_constitutionalist_strength
		min = 0
		max = 5
	}
}

CTH_remove_coltvan_unrest_ideas = {
	custom_effect_tooltip = CTH_remove_coltvan_unrest_ideas
	if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_unrest
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_unrest
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_defiance
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_defiance
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_rebellion
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_rebellion
		}
	}
}

CTH_set_to_minimal_unrest = {
	custom_effect_tooltip = CTH_set_to_minimal_unrest
	if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_defiance
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_defiance
		}
		add_dynamic_modifier = {
			modifier = coltvan_unrest
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_rebellion
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_rebellion
		}
		add_dynamic_modifier = {
			modifier = coltvan_unrest
		}
	}
}

CTH_unrest_up = {
	custom_effect_tooltip = CTH_unrest_up
	if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_defiance
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_defiance
		}
		add_dynamic_modifier = {
			modifier = coltvan_rebellion
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_unrest
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_unrest
		}
		add_dynamic_modifier = {
			modifier = coltvan_defiance
		}
	}
}

CTH_unrest_down = {
	custom_effect_tooltip = CTH_unrest_down
	if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_rebellion
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_rebellion
		}
		add_dynamic_modifier = {
			modifier = coltvan_defiance
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_defiance
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_defiance
		}
		add_dynamic_modifier = {
			modifier = coltvan_unrest
		}
	}
}

CTH_clamp_variables = {
	clamp_variable = {
		var = CTH_scientifid_power
		min = 0
		max = 5
	}
	clamp_variable = {
		var = CTH_scientifid_loyalty
		min = 0
		max = 100
	}
	clamp_variable = {
		var = CTH_military_faction_power
		min = 0
		max = 5
	}
	clamp_variable = {
		var = CTH_military_faction_loyalty
		min = 0
		max = 100
	}
	clamp_variable = {
		var = CTH_landowners_power
		min = 0
		max = 5
	}
	clamp_variable = {
		var = CTH_landowners_loyalty
		min = 0
		max = 100
	}
	clamp_variable = {
		var = CTH_constitutionalist_power
		min = 0
		max = 5
	}
	clamp_variable = {
		var = CTH_constitutionalist_loyalty
		min = 0
		max = 100
	}
	clamp_variable = {
		var = CTH_harmonites_power
		min = 0
		max = 5
	}
	clamp_variable = {
		var = CTH_harmonites_loyalty
		min = 0
		max = 100
	}
}
CTH_add_10_scientifid_loyalty = {
	custom_effect_tooltip = CTH_add_10_scientifid_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_scientifid_loyalty < 50
			}
		}
		add_to_variable = {
			var = CTH_scientifid_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_scientifid_loyalty > 49
				}
			}
			multiply_variable = {
				var = CTH_science_production_factory_efficiency_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_science_eureka_factor_var
				value = -1
			}
		}
	}
	else = {
		add_to_variable = {
			var = CTH_scientifid_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_remove_10_scientifid_loyalty = {
	custom_effect_tooltip = CTH_remove_10_scientifid_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_scientifid_loyalty > 49
			}
		}
		subtract_from_variable = {
			var = CTH_scientifid_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_scientifid_loyalty < 50
				}
			}
			multiply_variable = {
				var = CTH_science_production_factory_efficiency_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_science_eureka_factor_var
				value = -1
			}
		}
	}
	else = {
		subtract_from_variable = {
			var = CTH_scientifid_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_add_1_scientifid_power = {
	custom_effect_tooltip = CTH_add_1_scientifid_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_scientifid_loyalty > 49
			}
			check_variable = {
				CTH_scientifid_power < 5
			}
		}
		add_to_variable = {
			var = CTH_science_production_factory_efficiency_factor_var
			value = 0.02
		}
		add_to_variable = {
			var = CTH_science_eureka_factor_var
			value = 0.02
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_scientifid_loyalty < 50
			}
			check_variable = {
				CTH_scientifid_power < 5
			}
		}
		subtract_from_variable = {
			var = CTH_science_production_factory_efficiency_factor_var
			value = 0.02
		}
		subtract_from_variable = {
			var = CTH_science_production_factory_efficiency_factor_var
			value = 0.02
		}
	}
	add_to_variable = {
		var = CTH_scientifid_power
		value = 1
	}
	force_update_dynamic_modifier = yes
}
CTH_remove_1_scientifid_power = {
	custom_effect_tooltip = CTH_remove_1_scientifid_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_scientifid_loyalty > 49
			}
			check_variable = {
				CTH_scientifid_power > 0
			}
		}
		subtract_from_variable = {
			var = CTH_science_production_factory_efficiency_factor_var
			value = 0.02
		}
		subtract_from_variable = {
			var = CTH_science_eureka_factor_var
			value = 0.02
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_scientifid_loyalty < 50
			}
			check_variable = {
				CTH_scientifid_power > 0
			}
		}
		add_to_variable = {
			var = CTH_science_production_factory_efficiency_factor_var
			value = 0.02
		}
		add_to_variable = {
			var = CTH_science_production_factory_efficiency_factor_var
			value = 0.02
		}
	}
	subtract_from_variable = {
		var = CTH_scientifid_power
		value = 1
	}
	force_update_dynamic_modifier = yes
}
CTH_add_10_military_faction_loyalty = {
	custom_effect_tooltip = CTH_add_10_military_faction_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_military_faction_loyalty < 50
			}
		}
		add_to_variable = {
			var = CTH_military_faction_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_military_faction_loyalty > 49
				}
			}
			multiply_variable = {
				var = CTH_military_army_organisation_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_military_surrender_limit_factor_var
				value = -1
			}
		}
	}
	else = {
		add_to_variable = {
			var = CTH_military_faction_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_remove_10_military_faction_loyalty = {
	custom_effect_tooltip = CTH_remove_10_military_faction_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_military_faction_loyalty > 49
			}
		}
		subtract_from_variable = {
			var = CTH_military_faction_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_military_faction_loyalty < 50
				}
			}
			multiply_variable = {
				var = CTH_military_army_organisation_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_military_surrender_limit_factor_var
				value = -1
			}
		}
	}
	else = {
		subtract_from_variable = {
			var = CTH_military_faction_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_add_1_military_faction_power = {
	custom_effect_tooltip = CTH_add_1_military_faction_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_military_faction_loyalty > 49
			}
			check_variable = {
				CTH_military_faction_power < 5
			}
		}
		add_to_variable = {
			var = CTH_military_army_organisation_factor_var
			value = 0.02
		}
		add_to_variable = {
			var = CTH_military_surrender_limit_factor_var
			value = 0.02
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_military_faction_loyalty < 50
			}
			check_variable = {
				CTH_military_faction_power < 5
			}
		}
		subtract_from_variable = {
			var = CTH_military_army_organisation_factor_var
			value = 0.02
		}
		subtract_from_variable = {
			var = CTH_military_surrender_limit_factor_var
			value = 0.02
		}
	}
	force_update_dynamic_modifier = yes
	add_to_variable = {
		var = CTH_military_faction_power
		value = 1
	}
}
CTH_remove_1_military_faction_power = {
	custom_effect_tooltip = CTH_remove_1_military_faction_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_military_faction_loyalty > 49
			}
			check_variable = {
				CTH_military_faction_power > 0
			}
		}
		subtract_from_variable = {
			var = CTH_military_army_organisation_factor_var
			value = 0.02
		}
		subtract_from_variable = {
			var = CTH_military_surrender_limit_factor_var
			value = 0.02
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_military_faction_loyalty < 50
			}
			check_variable = {
				CTH_military_faction_power > 0
			}
		}
		add_to_variable = {
			var = CTH_military_army_organisation_factor_var
			value = 0.02
		}
		add_to_variable = {
			var = CTH_military_surrender_limit_factor_var
			value = 0.02
		}
	}
	force_update_dynamic_modifier = yes
	subtract_from_variable = {
		var = CTH_military_faction_power
		value = 1
	}
}
CTH_add_10_landowners_loyalty = {
	custom_effect_tooltip = CTH_add_10_landowners_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_landowners_loyalty < 50
			}
		}
		add_to_variable = {
			var = CTH_landowners_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_landowners_loyalty > 49
				}
			}
			multiply_variable = {
				var = CTH_landowner_political_power_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_landowner_consumer_goods_factor_var
				value = -1
			}
		}
	}
	else = {
		add_to_variable = {
			var = CTH_landowners_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_remove_10_landowners_loyalty = {
	custom_effect_tooltip = CTH_remove_10_landowners_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_landowners_loyalty > 49
			}
		}
		subtract_from_variable = {
			var = CTH_landowners_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_landowners_loyalty < 50
				}
			}
			multiply_variable = {
				var = CTH_landowner_political_power_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_landowner_consumer_goods_factor_var
				value = -1
			}
		}
	}
	else = {
		subtract_from_variable = {
			var = CTH_landowners_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_add_1_landowners_power = {
	custom_effect_tooltip = CTH_add_1_landowners_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_landowners_loyalty > 49
			}
			check_variable = {
				CTH_landowners_power < 5
			}
		}
		add_to_variable = {
			var = CTH_landowner_political_power_factor_var
			value = 0.1
		}
		subtract_from_variable = {
			var = CTH_landowner_consumer_goods_factor_var
			value = 0.02
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_landowners_loyalty < 50
			}
			check_variable = {
				CTH_landowners_power < 5
			}
		}
		subtract_from_variable = {
			var = CTH_landowner_political_power_factor_var
			value = 0.1
		}
		add_to_variable = {
			var = CTH_landowner_consumer_goods_factor_var
			value = 0.02
		}
	}
	force_update_dynamic_modifier = yes
	add_to_variable = {
		var = CTH_landowners_power
		value = 1
	}
}
CTH_remove_1_landowners_power = {
	custom_effect_tooltip = CTH_remove_1_landowners_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_landowners_loyalty > 49
			}
			check_variable = {
				CTH_landowners_power > 0
			}
		}
		subtract_from_variable = {
			var = CTH_landowner_political_power_factor_var
			value = 0.1
		}
		add_to_variable = {
			var = CTH_landowner_consumer_goods_factor_var
			value = 0.02
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_landowners_loyalty < 50
			}
			check_variable = {
				CTH_landowners_power > 0
			}
		}
		add_to_variable = {
			var = CTH_landowner_political_power_factor_var
			value = 0.1
		}
		subtract_from_variable = {
			var = CTH_landowner_consumer_goods_factor_var
			value = 0.02
		}
	}
	force_update_dynamic_modifier = yes
	subtract_from_variable = {
		var = CTH_landowners_power
		value = 1
	}
}
CTH_add_10_constitutionalist_loyalty = {
	custom_effect_tooltip = CTH_add_10_constitutionalist_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_loyalty < 50
			}
		}
		add_to_variable = {
			var = CTH_constitutionalist_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_constitutionalist_loyalty > 49
				}
			}
			multiply_variable = {
				var = CTH_constitutionalist_economy_cost_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_constitutionalist_mobilization_laws_cost_factor_var
				value = -1
			}
		}
	}
	else = {
		add_to_variable = {
			var = CTH_constitutionalist_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_remove_10_constitutionalist_loyalty = {
	custom_effect_tooltip = CTH_remove_10_constitutionalist_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_loyalty > 49
			}
		}
		subtract_from_variable = {
			var = CTH_constitutionalist_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_constitutionalist_loyalty < 50
				}
			}
			multiply_variable = {
				var = CTH_constitutionalist_economy_cost_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_constitutionalist_mobilization_laws_cost_factor_var
				value = -1
			}
		}
	}
	else = {
		subtract_from_variable = {
			var = CTH_constitutionalist_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_add_1_constitutionalist_power = {
	custom_effect_tooltip = CTH_add_1_constitutionalist_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_loyalty > 49
			}
			check_variable = {
				CTH_constitutionalist_power < 5
			}
		}
		subtract_from_variable = {
			var = CTH_constitutionalist_economy_cost_factor_var
			value = 0.1
		}
		subtract_from_variable = {
			var = CTH_constitutionalist_mobilization_laws_cost_factor_var
			value = 0.1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_loyalty < 50
			}
			check_variable = {
				CTH_constitutionalist_power < 5
			}
		}
		add_to_variable = {
			var = CTH_constitutionalist_economy_cost_factor_var
			value = 0.1
		}
		add_to_variable = {
			var = CTH_constitutionalist_mobilization_laws_cost_factor_var
			value = 0.1
		}
	}
	force_update_dynamic_modifier = yes
	add_to_variable = {
		var = CTH_constitutionalist_power
		value = 1
	}
}
CTH_remove_1_constitutionalist_power = {
	custom_effect_tooltip = CTH_remove_1_constitutionalist_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_loyalty > 49
			}
			check_variable = {
				CTH_constitutionalist_power > 0
			}
		}
		add_to_variable = {
			var = CTH_constitutionalist_economy_cost_factor_var
			value = 0.1
		}
		add_to_variable = {
			var = CTH_constitutionalist_mobilization_laws_cost_factor_var
			value = 0.1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_loyalty < 50
			}
			check_variable = {
				CTH_constitutionalist_power > 0
			}
		}
		subtract_from_variable = {
			var = CTH_constitutionalist_economy_cost_factor_var
			value = 0.1
		}
		subtract_from_variable = {
			var = CTH_constitutionalist_mobilization_laws_cost_factor_var
			value = 0.1
		}
	}
	force_update_dynamic_modifier = yes
	subtract_from_variable = {
		var = CTH_constitutionalist_power
		value = 1
	}
}
CTH_add_10_harmonites_loyalty = {
	custom_effect_tooltip = CTH_add_10_harmonites_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_harmonites_loyalty < 50
			}
		}
		add_to_variable = {
			var = CTH_harmonites_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_harmonites_loyalty > 49
				}
			}
			multiply_variable = {
				var = CTH_harmonite_stability_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_harmonite_trade_opinion_factor_var
				value = -1
			}
		}
	}
	else = {
		add_to_variable = {
			var = CTH_harmonites_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_remove_10_harmonites_loyalty = {
	custom_effect_tooltip = CTH_remove_10_harmonites_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_harmonites_loyalty > 49
			}
		}
		subtract_from_variable = {
			var = CTH_harmonites_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_harmonites_loyalty < 50
				}
			}
			multiply_variable = {
				var = CTH_harmonite_stability_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_harmonite_trade_opinion_factor_var
				value = -1
			}
		}
	}
	else = {
		subtract_from_variable = {
			var = CTH_harmonites_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_add_1_harmonites_power = {
	custom_effect_tooltip = CTH_add_1_harmonites_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_harmonites_loyalty > 49
			}
			check_variable = {
				CTH_harmonites_power < 5
			}
		}
		add_to_variable = {
			var = CTH_harmonite_stability_factor_var
			value = 0.05
		}
		add_to_variable = {
			var = CTH_harmonite_trade_opinion_factor_var
			value = 0.1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_harmonites_loyalty < 50
			}
			check_variable = {
				CTH_harmonites_power < 5
			}
		}
		subtract_from_variable = {
			var = CTH_harmonite_stability_factor_var
			value = 0.05
		}
		subtract_from_variable = {
			var = CTH_harmonite_trade_opinion_factor_var
			value = 0.1
		}
	}
	force_update_dynamic_modifier = yes
	add_to_variable = {
		var = CTH_harmonites_power
		value = 1
	}
}
CTH_remove_1_harmonites_power = {
	custom_effect_tooltip = CTH_remove_1_harmonites_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_harmonites_loyalty > 49
			}
			check_variable = {
				CTH_harmonites_power > 0
			}
		}
		subtract_from_variable = {
			var = CTH_harmonite_stability_factor_var
			value = 0.05
		}
		subtract_from_variable = {
			var = CTH_harmonite_trade_opinion_factor_var
			value = 0.1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_harmonites_loyalty < 50
			}
			check_variable = {
				CTH_harmonites_power > 0
			}
		}
		add_to_variable = {
			var = CTH_harmonite_stability_factor_var
			value = 0.05
		}
		add_to_variable = {
			var = CTH_harmonite_trade_opinion_factor_var
			value = 0.1
		}
	}
	force_update_dynamic_modifier = yes
	subtract_from_variable = {
		var = CTH_harmonites_power
		value = 1
	}
}
CTH_setup_CTC = {
	CTC = {
		clr_country_flag = CTH_colthage_zarcaid
		drop_cosmetic_tag = yes
		set_cosmetic_tag = CTH_constitutionalist
		#Keep this just in case
		create_country_leader = {
			name = "Zanno Mzelqatid"
			expire = "1965.1.1"
			picture = "zanno_mzelqatid.tga"
			ideology = conservative_liberalism
			desc = "POLITICS_ZANNO_MZELQATID_DESC"
		}
		set_popularities = {
			democratic = 39
			neutrality = 50
			communism = 11
		}
		transfer_state = 709
		709 = { set_state_flag = CTH_sided_with_constitutionalists }
		load_focus_tree = {
			tree = colthage_constitutionalist_civil_war_focus_tree
			keep_completed = yes	   
		}
	}

	CTA = {
		retire_ideology_leader = neutrality
		create_country_leader = {
			name = "Zarvad Orzagid"
			picture = "zarvad_orzagid.tga"
			expire = "1965.1.1"
			ideology = centrism
			desc = ""
		}
	}

	#Add Devisions to CTC
	CTC = {
		division_template = {
			name = "Abiyot Yennterib"
			is_locked = yes
			template_counter = 6
			division_names_group = CTH_GAR_02
			regiments = {
				infantry = { x = 0 y = 0 }
				infantry = { x = 0 y = 1 }
				infantry = { x = 0 y = 2 }
			}
			priority = 0
		}
	}

	#Give CTC all supporting leaders
	every_unit_leader = {
		limit = {
			OR = {
				has_trait = constitutionalist_supporter
				has_trait = harmonid_supporter
			}
		}
		set_nationality = CTC
	}

	709 = {
		teleport_armies = {
			to_state = 700
		}
		create_unit = {
			division = "division_template = \"Abiyot Yennterib\" start_experience_factor = 0.1"
			owner = CTC
			count = 5
			allow_spawning_on_enemy_provs = yes
		}
	}

	# Add extra state
	if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_strength > 1
			}
		}
		CTC = {
			transfer_state = 877
		}
		877 = {
			teleport_armies = {
				to_state = 852
			}
			if = {
				limit = {
					CTH = { has_country_flag = CTH_bandits_crackdown_in_tefemanei }
				}
				create_unit = {
					division = "division_template = \"Abiyot Yennterib\" start_experience_factor = 0.1"
					owner = CTC
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
			}
			else = {
				create_unit = {
					division = "division_template = \"Abiyot Yennterib\" start_experience_factor = 0.1"
					owner = CTC
					count = 3
					allow_spawning_on_enemy_provs = yes
				}
			}
		}
	}
	# Add all the West
	if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_strength > 2
			}
		}
		CTC = {
			transfer_state = 699
			transfer_state = 876
		}
		699 = {
			teleport_armies = {
				to_state = 852
			}
			if = {
				limit = {
					CTH = { has_country_flag = CTH_bandits_crackdown_in_alaudid_range }
				}
				create_unit = {
					division = "division_template = \"Abiyot Yennterib\" start_experience_factor = 0.1"
					owner = CTC
					count = 2
					allow_spawning_on_enemy_provs = yes
				}
			}
			else = {
				create_unit = {
					division = "division_template = \"Abiyot Yennterib\" start_experience_factor = 0.1"
					owner = CTC
					count = 4
					allow_spawning_on_enemy_provs = yes
				}
			}
		}
		876 = {
			teleport_armies = {
				to_state = 702
			}
			if = {
				limit = {
					CTH = { has_country_flag = CTH_bandits_crackdown_in_zalihli }
				}
				create_unit = {
					division = "division_template = \"Abiyot Yennterib\" start_experience_factor = 0.1"
					owner = CTC
					count = 1
					allow_spawning_on_enemy_provs = yes
				}
			}
			else = {
				create_unit = {
					division = "division_template = \"Abiyot Yennterib\" start_experience_factor = 0.1"
					owner = CTC
					count = 2
					allow_spawning_on_enemy_provs = yes
				}
			}
		}
	}
	# Give Army Support
	if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_strength > 3
			}
		}
		transfer_units_fraction = {
			target = CTC
			size = 0.2
			stockpile_ratio = 0.2
			army_ratio = 0.2
			navy_ratio = 0.2
			air_ratio = 0.2
			keep_unit_leaders_trigger = {
				OR = {
					has_trait = zarcid_supporter
					has_trait = scientific_supporter
					has_trait = pirate_supporter
					has_id = 1927
					has_id = 1928
					has_id = 1931
					has_id = 1925
					has_id = 1932
					has_id = 1929
				}
			}
		}
	}

	# Setup CTC cores, capital, ideas, tech
	CTC = {
		every_state = {
			limit = {
				has_state_flag = CTH_core_of_colthage_flag
			}
			add_core_of = CTC
		}
		every_owned_state = {
			set_state_flag = CTH_sided_with_constitutionalists
		}
		transfer_technology = yes
		if = {
			limit = {
				709 = { is_owned_by = CTC }
			}
			CTC = { set_capital = 709 }
		}
		else = {
			random_owned_state = {
				CTC = { set_capital = PREV }
			}
		}

		create_corps_commander = {
			name = "Zacual Orozid"
			portrait_path = "gfx/leaders/CTH/zacual_orozid.tga"
			traits = { zebra_race_trait harsh_leader }
			skill = 2
			attack_skill = 2
			defense_skill = 2
			planning_skill = 2
			logistics_skill = 1
			id = 8801
		}
		if = {
			limit = { NOT = { has_unit_leader = 1923 } }
			event_target:CTH_Zannido_Bandolier_Zidon = { set_nationality = CTC }
		}
		remove_ideas = {
			CTH_batrun_zaryes
			CTH_baltazar_zakbar
			CTH_zaron_zorrel
		}

		add_ideas = {
			CTC_freedom_or_death
		}
		set_country_flag = CTH_no_co_sufrit_flag
		if = {
			limit = {
				NOT = {
					has_idea = CTH_no_co_sufrit
				}
			}
			add_ideas = CTH_no_co_sufrit
		}
	}

	# Start the Civil War
	CTC = {
		declare_war_on = {
			target = CTA
			type = civil_war
		}
		add_civil_war_target = CTA
	}

	# Add rebels to major cities
	if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_strength > 4
			}
		}
		875 = {
			create_unit = {
				division = "division_template = \"Abiyot Yennterib\" start_experience_factor = 0.1"
				owner = CTC
				count = 2
				allow_spawning_on_enemy_provs = yes
			}
		}
		701 = {
			create_unit = {
				division = "division_template = \"Abiyot Yennterib\" start_experience_factor = 0.1"
				owner = CTC
				count = 2
				allow_spawning_on_enemy_provs = yes
			}
		}
		852 = {
			create_unit = {
				division = "division_template = \"Abiyot Yennterib\" start_experience_factor = 0.1"
				owner = CTC
				count = 2
				allow_spawning_on_enemy_provs = yes
			}
		}
	}
	every_owned_state = {
		set_state_flag = CTH_sided_with_zarcids
	}
}
CTH_second_civil_war = {
	start_civil_war = {
		ruling_party = fascism
		ideology = neutrality
		size = 0.4
		capital = 709
		states = { 
			709 876 877 699
		}
		keep_unit_leaders = {
			1942 1933 1928 1931 1926
		}
		keep_political_leader = no
	}
	hidden_effect = {
		random_other_country = {
			limit = {
				original_tag = CTH
				has_government = neutrality
			}
			set_country_flag = CTH_colthage_constitutionalist
			set_cosmetic_tag = CTH_constitutionalist
			load_focus_tree = { 
				tree = colthage_constitutionalist_civil_war_focus_tree_2_electric_boogaloo
				keep_completed = yes		   
			}
		}
		create_country_leader = {
			name = "Zarvad Orzagid"
			picture = "zarvad_orzagid.tga"
			expire = "1965.1.1"
			ideology = centrism
			desc = ""
		}
	}
	every_unit_leader = {
		limit = {
			has_trait = constitutionalist_supporter
		}
		set_nationality = CTC
	}
	hidden_effect = {
		country_event = { 
			days = 7
			id = colthage_other.70
		}
	}
}
CTH_second_civil_war_2 = {
	706 = {
		teleport_armies = {
			to_state = 875
		}
	}
	705 = {
		teleport_armies = {
			to_state = 875
		}
	}
	852 = {
		teleport_armies = {
			to_state = 875
		}
	}
	701 = {
		teleport_armies = {
			to_state = 875
		}
	}
	create_dynamic_country = {
		original_tag = CTH
		set_country_flag = CTH_colthage_bandit
		set_politics = {
			ruling_party = democratic
			election_frequency = 60
			elections_allowed = yes
		}
		set_popularities = {
			democratic = 100
			fascism = 0
			communism = 0
			neutrality = 0
		}
		set_cosmetic_tag = CTH_bandit
		reserve_dynamic_country = yes
		transfer_technology = yes
		transfer_state = 706
		transfer_state = 705
		transfer_state = 852
		transfer_state = 701
		load_focus_tree = { 
			tree = colthage_bandit_civil_war_focus_tree
			keep_completed = yes		   
		}
		create_country_leader = {
			name = "Zannido 'Bandolier' Zidon"
			picture = "zannido_zidon.tga"
			expire = "1965.1.1"
			ideology = liberalism
			desc = ""
		}
		set_country_flag = CTH_no_co_sufrit_flag
		if = {
			limit = {
				NOT = {
					has_idea = CTH_no_co_sufrit
				}
			}
			add_ideas = CTH_no_co_sufrit
		}
		declare_war_on = {
			target = CTH
			type = civil_war
		}
		add_civil_war_target = CTH
	}
	every_state = {
		limit = {
			has_state_flag = CTH_core_of_colthage_flag
		}
		add_core_of = CTB
	}
	event_target:CTH_Zannido_Bandolier_Zidon = { set_nationality = CTB }
	SOL = {
		every_unit_leader = {
			limit = {
				has_id = 8801
			}
			set_nationality = CTB
		}
	}
	if = {
		limit = {
			CVA = {
				exists = yes
			}
		}
		CVA = {
			country_event = colthage_other.71
		}
	}
	else = {
		CTB = {
			transfer_state = 1093
			transfer_state = 1094
			transfer_state = 1095
			set_capital = 1093
			every_owned_state = {
				limit = {
					is_core_of = CVA
					NOT = {
						is_core_of = CTB
					}
				}
				CTH_remove_coltvan_unrest_ideas = yes
				add_core_of = CTB
			}
		}
	}
	transfer_units_fraction = {
		target = CTB
		size = 0.4
		stockpile_ratio = 0.4
		army_ratio = 0.4
		navy_ratio = 0.4
		air_ratio = 0.4
		keep_unit_leaders_trigger = {
			OR = {
				has_trait = zarcid_supporter
				has_trait = scientific_supporter
				has_trait = pirate_supporter
				has_id = 1928
				has_id = 1931
				has_id = 1926
			}
		}
	}
}