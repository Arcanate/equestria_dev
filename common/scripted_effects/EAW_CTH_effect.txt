CTH_add_1_constitutionalist_strength = {
	custom_effect_tooltip = CTH_add_1_constitutionalist_strength_tt
	add_to_variable = {
		var = CTH_constitutionalist_strength
		value = 1
	}
	CTH_clamp_constitutionalist_strength = yes
}

CTH_take_1_constitutionalist_strength = {
	custom_effect_tooltip = CTH_take_1_constitutionalist_strength_tt
	hidden_effect = {
		add_to_variable = {
			var = CTH_constitutionalist_strength
			value = -1
		}
		CTH_clamp_constitutionalist_strength = yes
	}
}

CTH_clamp_constitutionalist_strength = {
	clamp_variable = {
		var = CTH_constitutionalist_strength
		min = 0
		max = 5
	}
}

CTH_remove_coltvan_unrest_ideas = {
	custom_effect_tooltip = CTH_remove_coltvan_unrest_ideas
	if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_unrest
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_unrest
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_defiance
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_defiance
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_rebellion
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_rebellion
		}
	}
}

CTH_set_to_minimal_unrest = {
	custom_effect_tooltip = CTH_set_to_minimal_unrest
	if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_defiance
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_defiance
		}
		add_dynamic_modifier = {
			modifier = coltvan_unrest
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_rebellion
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_rebellion
		}
		add_dynamic_modifier = {
			modifier = coltvan_unrest
		}
	}
}

CTH_unrest_up = {
	custom_effect_tooltip = CTH_unrest_up
	if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_defiance
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_defiance
		}
		add_dynamic_modifier = {
			modifier = coltvan_rebellion
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_unrest
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_unrest
		}
		add_dynamic_modifier = {
			modifier = coltvan_defiance
		}
	}
}

CTH_unrest_down = {
	custom_effect_tooltip = CTH_unrest_down
	if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_rebellion
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_rebellion
		}
		add_dynamic_modifier = {
			modifier = coltvan_defiance
		}
	}
	else_if = {
		limit = {
			has_dynamic_modifier = {
				modifier = coltvan_defiance
			}
		}
		remove_dynamic_modifier = {
			modifier = coltvan_defiance
		}
		add_dynamic_modifier = {
			modifier = coltvan_unrest
		}
	}
}

CTH_clamp_variables = {
	clamp_variable = {
		var = CTH_scientifid_power
		min = 0
		max = 5
	}
	clamp_variable = {
		var = CTH_scientifid_loyalty
		min = 0
		max = 100
	}
	clamp_variable = {
		var = CTH_military_faction_power
		min = 0
		max = 5
	}
	clamp_variable = {
		var = CTH_military_faction_loyalty
		min = 0
		max = 100
	}
	clamp_variable = {
		var = CTH_landowners_power
		min = 0
		max = 5
	}
	clamp_variable = {
		var = CTH_landowners_loyalty
		min = 0
		max = 100
	}
	clamp_variable = {
		var = CTH_constitutionalist_power
		min = 0
		max = 5
	}
	clamp_variable = {
		var = CTH_constitutionalist_loyalty
		min = 0
		max = 100
	}
	clamp_variable = {
		var = CTH_harmonites_power
		min = 0
		max = 5
	}
	clamp_variable = {
		var = CTH_harmonites_loyalty
		min = 0
		max = 100
	}
}
CTH_add_10_scientifid_loyalty = {
	custom_effect_tooltip = CTH_add_10_scientifid_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_scientifid_loyalty < 50
			}
		}
		add_to_variable = {
			var = CTH_scientifid_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_scientifid_loyalty > 49
				}
			}
			multiply_variable = {
				var = CTH_science_production_factory_efficiency_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_science_eureka_factor_var
				value = -1
			}
		}
	}
	else = {
		add_to_variable = {
			var = CTH_scientifid_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_remove_10_scientifid_loyalty = {
	custom_effect_tooltip = CTH_remove_10_scientifid_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_scientifid_loyalty > 49
			}
		}
		subtract_from_variable = {
			var = CTH_scientifid_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_scientifid_loyalty < 50
				}
			}
			multiply_variable = {
				var = CTH_science_production_factory_efficiency_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_science_eureka_factor_var
				value = -1
			}
		}
	}
	else = {
		subtract_from_variable = {
			var = CTH_scientifid_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_add_1_scientifid_power = {
	custom_effect_tooltip = CTH_add_1_scientifid_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_scientifid_loyalty > 49
			}
			check_variable = {
				CTH_scientifid_power < 5
			}
		}
		add_to_variable = {
			var = CTH_science_production_factory_efficiency_factor_var
			value = 0.02
		}
		add_to_variable = {
			var = CTH_science_eureka_factor_var
			value = 0.02
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_scientifid_loyalty < 50
			}
			check_variable = {
				CTH_scientifid_power < 5
			}
		}
		subtract_from_variable = {
			var = CTH_science_production_factory_efficiency_factor_var
			value = 0.02
		}
		subtract_from_variable = {
			var = CTH_science_production_factory_efficiency_factor_var
			value = 0.02
		}
	}
	add_to_variable = {
		var = CTH_scientifid_power
		value = 1
	}
	force_update_dynamic_modifier = yes
}
CTH_remove_1_scientifid_power = {
	custom_effect_tooltip = CTH_remove_1_scientifid_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_scientifid_loyalty > 49
			}
			check_variable = {
				CTH_scientifid_power > 0
			}
		}
		subtract_from_variable = {
			var = CTH_science_production_factory_efficiency_factor_var
			value = 0.02
		}
		subtract_from_variable = {
			var = CTH_science_eureka_factor_var
			value = 0.02
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_scientifid_loyalty < 50
			}
			check_variable = {
				CTH_scientifid_power > 0
			}
		}
		add_to_variable = {
			var = CTH_science_production_factory_efficiency_factor_var
			value = 0.02
		}
		add_to_variable = {
			var = CTH_science_production_factory_efficiency_factor_var
			value = 0.02
		}
	}
	subtract_from_variable = {
		var = CTH_scientifid_power
		value = 1
	}
	force_update_dynamic_modifier = yes
}
CTH_add_10_military_faction_loyalty = {
	custom_effect_tooltip = CTH_add_10_military_faction_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_military_faction_loyalty < 50
			}
		}
		add_to_variable = {
			var = CTH_military_faction_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_military_faction_loyalty > 49
				}
			}
			multiply_variable = {
				var = CTH_military_army_organisation_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_military_surrender_limit_factor_var
				value = -1
			}
		}
	}
	else = {
		add_to_variable = {
			var = CTH_military_faction_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_remove_10_military_faction_loyalty = {
	custom_effect_tooltip = CTH_remove_10_military_faction_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_military_faction_loyalty > 49
			}
		}
		subtract_from_variable = {
			var = CTH_military_faction_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_military_faction_loyalty < 50
				}
			}
			multiply_variable = {
				var = CTH_military_army_organisation_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_military_surrender_limit_factor_var
				value = -1
			}
		}
	}
	else = {
		subtract_from_variable = {
			var = CTH_military_faction_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_add_1_military_faction_power = {
	custom_effect_tooltip = CTH_add_1_military_faction_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_military_faction_loyalty > 49
			}
			check_variable = {
				CTH_military_faction_power < 5
			}
		}
		add_to_variable = {
			var = CTH_military_army_organisation_factor_var
			value = 0.02
		}
		add_to_variable = {
			var = CTH_military_surrender_limit_factor_var
			value = 0.02
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_military_faction_loyalty < 50
			}
			check_variable = {
				CTH_military_faction_power < 5
			}
		}
		subtract_from_variable = {
			var = CTH_military_army_organisation_factor_var
			value = 0.02
		}
		subtract_from_variable = {
			var = CTH_military_surrender_limit_factor_var
			value = 0.02
		}
	}
	force_update_dynamic_modifier = yes
	add_to_variable = {
		var = CTH_military_faction_power
		value = 1
	}
}
CTH_remove_1_military_faction_power = {
	custom_effect_tooltip = CTH_remove_1_military_faction_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_military_faction_loyalty > 49
			}
			check_variable = {
				CTH_military_faction_power > 0
			}
		}
		subtract_from_variable = {
			var = CTH_military_army_organisation_factor_var
			value = 0.02
		}
		subtract_from_variable = {
			var = CTH_military_surrender_limit_factor_var
			value = 0.02
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_military_faction_loyalty < 50
			}
			check_variable = {
				CTH_military_faction_power > 0
			}
		}
		add_to_variable = {
			var = CTH_military_army_organisation_factor_var
			value = 0.02
		}
		add_to_variable = {
			var = CTH_military_surrender_limit_factor_var
			value = 0.02
		}
	}
	force_update_dynamic_modifier = yes
	subtract_from_variable = {
		var = CTH_military_faction_power
		value = 1
	}
}
CTH_add_10_landowners_loyalty = {
	custom_effect_tooltip = CTH_add_10_landowners_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_landowners_loyalty < 50
			}
		}
		add_to_variable = {
			var = CTH_landowners_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_landowners_loyalty > 49
				}
			}
			multiply_variable = {
				var = CTH_landowner_political_power_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_landowner_consumer_goods_factor_var
				value = -1
			}
		}
	}
	else = {
		add_to_variable = {
			var = CTH_landowners_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_remove_10_landowners_loyalty = {
	custom_effect_tooltip = CTH_remove_10_landowners_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_landowners_loyalty > 49
			}
		}
		subtract_from_variable = {
			var = CTH_landowners_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_landowners_loyalty < 50
				}
			}
			multiply_variable = {
				var = CTH_landowner_political_power_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_landowner_consumer_goods_factor_var
				value = -1
			}
		}
	}
	else = {
		subtract_from_variable = {
			var = CTH_landowners_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_add_1_landowners_power = {
	custom_effect_tooltip = CTH_add_1_landowners_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_landowners_loyalty > 49
			}
			check_variable = {
				CTH_landowners_power < 5
			}
		}
		add_to_variable = {
			var = CTH_landowner_political_power_factor_var
			value = 0.1
		}
		subtract_from_variable = {
			var = CTH_landowner_consumer_goods_factor_var
			value = 0.02
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_landowners_loyalty < 50
			}
			check_variable = {
				CTH_landowners_power < 5
			}
		}
		subtract_from_variable = {
			var = CTH_landowner_political_power_factor_var
			value = 0.1
		}
		add_to_variable = {
			var = CTH_landowner_consumer_goods_factor_var
			value = 0.02
		}
	}
	force_update_dynamic_modifier = yes
	add_to_variable = {
		var = CTH_landowners_power
		value = 1
	}
}
CTH_remove_1_landowners_power = {
	custom_effect_tooltip = CTH_remove_1_landowners_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_landowners_loyalty > 49
			}
			check_variable = {
				CTH_landowners_power > 0
			}
		}
		subtract_from_variable = {
			var = CTH_landowner_political_power_factor_var
			value = 0.1
		}
		add_to_variable = {
			var = CTH_landowner_consumer_goods_factor_var
			value = 0.02
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_landowners_loyalty < 50
			}
			check_variable = {
				CTH_landowners_power > 0
			}
		}
		add_to_variable = {
			var = CTH_landowner_political_power_factor_var
			value = 0.1
		}
		subtract_from_variable = {
			var = CTH_landowner_consumer_goods_factor_var
			value = 0.02
		}
	}
	force_update_dynamic_modifier = yes
	subtract_from_variable = {
		var = CTH_landowners_power
		value = 1
	}
}
CTH_add_10_constitutionalist_loyalty = {
	custom_effect_tooltip = CTH_add_10_constitutionalist_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_loyalty < 50
			}
		}
		add_to_variable = {
			var = CTH_constitutionalist_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_constitutionalist_loyalty > 49
				}
			}
			multiply_variable = {
				var = CTH_constitutionalist_economy_cost_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_constitutionalist_mobilization_laws_cost_factor_var
				value = -1
			}
		}
	}
	else = {
		add_to_variable = {
			var = CTH_constitutionalist_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_remove_10_constitutionalist_loyalty = {
	custom_effect_tooltip = CTH_remove_10_constitutionalist_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_loyalty > 49
			}
		}
		subtract_from_variable = {
			var = CTH_constitutionalist_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_constitutionalist_loyalty < 50
				}
			}
			multiply_variable = {
				var = CTH_constitutionalist_economy_cost_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_constitutionalist_mobilization_laws_cost_factor_var
				value = -1
			}
		}
	}
	else = {
		subtract_from_variable = {
			var = CTH_constitutionalist_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_add_1_constitutionalist_power = {
	custom_effect_tooltip = CTH_add_1_constitutionalist_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_loyalty > 49
			}
			check_variable = {
				CTH_constitutionalist_power < 5
			}
		}
		subtract_from_variable = {
			var = CTH_constitutionalist_economy_cost_factor_var
			value = 0.1
		}
		subtract_from_variable = {
			var = CTH_constitutionalist_mobilization_laws_cost_factor_var
			value = 0.1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_loyalty < 50
			}
			check_variable = {
				CTH_constitutionalist_power < 5
			}
		}
		add_to_variable = {
			var = CTH_constitutionalist_economy_cost_factor_var
			value = 0.1
		}
		add_to_variable = {
			var = CTH_constitutionalist_mobilization_laws_cost_factor_var
			value = 0.1
		}
	}
	force_update_dynamic_modifier = yes
	add_to_variable = {
		var = CTH_constitutionalist_power
		value = 1
	}
}
CTH_remove_1_constitutionalist_power = {
	custom_effect_tooltip = CTH_remove_1_constitutionalist_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_loyalty > 49
			}
			check_variable = {
				CTH_constitutionalist_power > 0
			}
		}
		add_to_variable = {
			var = CTH_constitutionalist_economy_cost_factor_var
			value = 0.1
		}
		add_to_variable = {
			var = CTH_constitutionalist_mobilization_laws_cost_factor_var
			value = 0.1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_constitutionalist_loyalty < 50
			}
			check_variable = {
				CTH_constitutionalist_power > 0
			}
		}
		subtract_from_variable = {
			var = CTH_constitutionalist_economy_cost_factor_var
			value = 0.1
		}
		subtract_from_variable = {
			var = CTH_constitutionalist_mobilization_laws_cost_factor_var
			value = 0.1
		}
	}
	force_update_dynamic_modifier = yes
	subtract_from_variable = {
		var = CTH_constitutionalist_power
		value = 1
	}
}
CTH_add_10_harmonites_loyalty = {
	custom_effect_tooltip = CTH_add_10_harmonites_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_harmonites_loyalty < 50
			}
		}
		add_to_variable = {
			var = CTH_harmonites_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_harmonites_loyalty > 49
				}
			}
			multiply_variable = {
				var = CTH_harmonite_stability_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_harmonite_trade_opinion_factor_var
				value = -1
			}
		}
	}
	else = {
		add_to_variable = {
			var = CTH_harmonites_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_remove_10_harmonites_loyalty = {
	custom_effect_tooltip = CTH_remove_10_harmonites_loyalty_tt
	if = {
		limit = {
			check_variable = {
				CTH_harmonites_loyalty > 49
			}
		}
		subtract_from_variable = {
			var = CTH_harmonites_loyalty
			value = 10
		}
		if = {
			limit = {
				check_variable = {
					CTH_harmonites_loyalty < 50
				}
			}
			multiply_variable = {
				var = CTH_harmonite_stability_factor_var
				value = -1
			}
			multiply_variable = {
				var = CTH_harmonite_trade_opinion_factor_var
				value = -1
			}
		}
	}
	else = {
		subtract_from_variable = {
			var = CTH_harmonites_loyalty
			value = 10
		}
	}
	force_update_dynamic_modifier = yes
}
CTH_add_1_harmonites_power = {
	custom_effect_tooltip = CTH_add_1_harmonites_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_harmonites_loyalty > 49
			}
			check_variable = {
				CTH_harmonites_power < 5
			}
		}
		add_to_variable = {
			var = CTH_harmonite_stability_factor_var
			value = 0.05
		}
		add_to_variable = {
			var = CTH_harmonite_trade_opinion_factor_var
			value = 0.1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_harmonites_loyalty < 50
			}
			check_variable = {
				CTH_harmonites_power < 5
			}
		}
		subtract_from_variable = {
			var = CTH_harmonite_stability_factor_var
			value = 0.05
		}
		subtract_from_variable = {
			var = CTH_harmonite_trade_opinion_factor_var
			value = 0.1
		}
	}
	force_update_dynamic_modifier = yes
	add_to_variable = {
		var = CTH_harmonites_power
		value = 1
	}
}
CTH_remove_1_harmonites_power = {
	custom_effect_tooltip = CTH_remove_1_harmonites_power_tt
	if = {
		limit = {
			check_variable = {
				CTH_harmonites_loyalty > 49
			}
			check_variable = {
				CTH_harmonites_power > 0
			}
		}
		subtract_from_variable = {
			var = CTH_harmonite_stability_factor_var
			value = 0.05
		}
		subtract_from_variable = {
			var = CTH_harmonite_trade_opinion_factor_var
			value = 0.1
		}
	}
	else_if = {
		limit = {
			check_variable = {
				CTH_harmonites_loyalty < 50
			}
			check_variable = {
				CTH_harmonites_power > 0
			}
		}
		add_to_variable = {
			var = CTH_harmonite_stability_factor_var
			value = 0.05
		}
		add_to_variable = {
			var = CTH_harmonite_trade_opinion_factor_var
			value = 0.1
		}
	}
	force_update_dynamic_modifier = yes
	subtract_from_variable = {
		var = CTH_harmonites_power
		value = 1
	}
}