HIE_Alchemical_Superproject_debug_start = {
	clear_variable = HIE_created_concoction

	clear_array = HIE_placed_ingredients
	add_to_array = { HIE_placed_ingredients = 0 }
	add_to_array = { HIE_placed_ingredients = 0 }
	add_to_array = { HIE_placed_ingredients = 0 }
	
	# Computes position for the 3 buttons on the parchment
	clear_array = HIE_placed_ingredients_x
	clear_array = HIE_placed_ingredients_y
	add_to_array = { HIE_placed_ingredients_x = 205 }
	add_to_array = { HIE_placed_ingredients_x = 64 }
	add_to_array = { HIE_placed_ingredients_x = 348 }
	add_to_array = { HIE_placed_ingredients_y = 30 }
	add_to_array = { HIE_placed_ingredients_y = 289 }
	add_to_array = { HIE_placed_ingredients_y = 289 }
	
	# Computes ingredients, here for testing, remove later
	clear_array = HIE_ASPJ_ingredientlist
	add_to_array = { HIE_ASPJ_ingredientlist = 1 }
	add_to_array = { HIE_ASPJ_ingredientlist = 2 }
	add_to_array = { HIE_ASPJ_ingredientlist = 3 }
	#add_to_array = { HIE_ASPJ_ingredientlist = 4 }
	
	add_to_variable = { HIE_ASPJ_dirty_var = 0.01 }
}

HIE_Alchemical_Superproject_start = {
	clear_array = HIE_placed_ingredients
	add_to_array = { HIE_placed_ingredients = 0 }
	add_to_array = { HIE_placed_ingredients = 0 }
	add_to_array = { HIE_placed_ingredients = 0 }
	
	# Computes position for the 3 buttons on the parchment
	clear_array = HIE_placed_ingredients_x
	clear_array = HIE_placed_ingredients_y
	add_to_array = { HIE_placed_ingredients_x = 205 }
	add_to_array = { HIE_placed_ingredients_x = 64 }
	add_to_array = { HIE_placed_ingredients_x = 348 }
	add_to_array = { HIE_placed_ingredients_y = 30 }
	add_to_array = { HIE_placed_ingredients_y = 289 }
	add_to_array = { HIE_placed_ingredients_y = 289 }
	
	add_to_variable = { HIE_ASPJ_dirty_var = 0.01 }
}

HIE_ASPJ_evaluate_recipe = {
	# Recipe 1
	if = {
		limit = {
			is_in_array = { array = HIE_placed_ingredients value = 1 }
			is_in_array = { array = HIE_placed_ingredients value = 2 }
			is_in_array = { array = HIE_placed_ingredients value = 3 }
		}
		set_variable = { HIE_created_concoction = 1 }
		clear_variable = HIE_ASPJ_selected_formula
		scoped_sound_effect = "HIE_magic_concoction_complete"
		log = "[ROOT.gettag]: Concoction complete"
	}
	else = {
		clear_variable = HIE_created_concoction
		log = "[ROOT.Gettag]: Wrong Recipe"
	}
	add_to_variable = { HIE_ASPJ_dirty_var = 0.01 }
}

HIE_ASPJ_fire_concoction_event = {
	if = {
		limit = {
			check_variable = { HIE_created_concoction = 1 }
		}
		# Potion of True Fire
		country_event = hippone_aspj.1
	}
	#else_if = { }

	for_each_loop = {
		array = HIE_placed_ingredients
		set_variable = { HIE_placed_ingredients^i = 0 }
	}
	clear_variable = HIE_created_concoction
	add_to_variable = { HIE_ASPJ_dirty_var = 0.01 }
}