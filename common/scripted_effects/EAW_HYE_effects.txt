hye_start_promises_missions = {
	if = {
		limit = {
			has_country_flag = hye_spymaster_victory
			has_country_flag = hye_promise_citizens_spy
		}
		activate_mission = hye_promise_citizens
	}
	if = {
		limit = {
			has_country_flag = hye_general_victory
			has_country_flag = hye_promise_citizens_warrior
		}
		activate_mission = hye_promise_citizens
	}
	if = {
		limit = {
			has_country_flag = hye_spymaster_victory
			has_country_flag = hye_promise_refugees_spy
		}
		activate_mission = hye_promise_refugees
	}
	if = {
		limit = {
			has_country_flag = hye_general_victory
			has_country_flag = hye_promise_refugees_warrior
		}
		activate_mission = hye_promise_refugees
	}
	if = {
		limit = {
			has_country_flag = hye_spymaster_victory
			has_country_flag = hye_promise_enlarge_cities_spy
		}
		activate_mission = hye_promise_enlarge_cities
	}
	if = {
		limit = {
			has_country_flag = hye_general_victory
			has_country_flag = hye_promise_enlarge_cities_warrior
		}
		activate_mission = hye_promise_enlarge_cities
	}
	if = {
		limit = {
			has_country_flag = hye_spymaster_victory
			has_country_flag = hye_promise_relocation_spy
		}
		activate_mission = hye_promise_relocation
	}
	if = {
		limit = {
			has_country_flag = hye_general_victory
			has_country_flag = hye_promise_relocation_warrior
		}
		activate_mission = hye_promise_relocation
	}
	if = {
		limit = {
			has_country_flag = hye_spymaster_victory
			has_country_flag = hye_promise_sand_people_spy
		}
		activate_mission = hye_promise_sand_people
	}
	if = {
		limit = {
			has_country_flag = hye_spymaster_victory
			has_country_flag = hye_promise_smugglers_spy
		}
		activate_mission = hye_promise_smugglers
	}
	if = {
		limit = {
			has_country_flag = hye_general_victory
			has_country_flag = hye_promise_smugglers_warrior
		}
		activate_mission = hye_promise_smugglers
	}
	if = {
		limit = {
			has_country_flag = hye_general_victory
			has_country_flag = hye_promise_monarchy_spy
		}
		activate_mission = hye_promise_monarchy
	}
	if = {
		limit = {
			has_country_flag = hye_spymaster_victory
			has_country_flag = hye_promise_monarchy_general
		}
		activate_mission = hye_promise_monarchy
	}
	if = {
		limit = {
			has_country_flag = hye_general_victory
			has_country_flag = hye_promise_reclaimed_lands_warrior
		}
		activate_mission = hye_promise_reclaimed_lands
	}
	if = {
		limit = {
			has_country_flag = hye_spymaster_victory
			has_country_flag = hye_promise_reclaimed_lands_spy
		}
		activate_mission = hye_promise_reclaimed_lands
	}
	if = {
		limit = {
			has_country_flag = hye_general_victory
			has_country_flag = hye_promise_partisans_warrior
		}
		activate_mission = hye_promise_partisans_1
	}
	if = {
		limit = {
			has_country_flag = hye_spymaster_victory
			has_country_flag = hye_promise_partisans_spy
		}
		activate_mission = hye_promise_partisans_1
	}
	if = {
		limit = {
			has_country_flag = hye_general_victory
			has_country_flag = hye_promise_partisans_warrior
		}
		activate_mission = hye_promise_partisans_2
	}
	if = {
		limit = {
			has_country_flag = hye_spymaster_victory
			has_country_flag = hye_promise_partisans_spy
		}
		activate_mission = hye_promise_partisans_2
	}
	if = {
		limit = {
			has_country_flag = hye_general_victory
			has_country_flag = hye_promise_partisans_warrior
		}
		activate_mission = hye_promise_partisans_3
	}
	if = {
		limit = {
			has_country_flag = hye_spymaster_victory
			has_country_flag = hye_promise_partisans_spy
		}
		activate_mission = hye_promise_partisans_3
	}
	if = {
		limit = {
			has_country_flag = hye_general_victory
			has_country_flag = hye_promise_partisans_warrior
		}
		activate_mission = hye_promise_partisans_4
	}
	if = {
		limit = {
			has_country_flag = hye_spymaster_victory
			has_country_flag = hye_promise_partisans_spy
		}
		activate_mission = hye_promise_partisans_4
	}
	if = {
		limit = {
			has_country_flag = hye_promise_army_size
		}
		activate_mission = hye_promise_army_size_mission
	}
	if = {
		limit = {
			has_country_flag = hye_promise_rebuilding
		}
		activate_mission = hye_promise_rebuilding_mission
	}
}

hye_start_promises_missions_debug = {
	set_country_flag = hye_spymaster_victory
	set_country_flag = hye_promise_citizens_spy
	activate_mission = hye_promise_citizens
	set_country_flag = hye_promise_refugees_spy
	activate_mission = hye_promise_refugees
	set_country_flag = hye_promise_enlarge_cities_spy
	activate_mission = hye_promise_enlarge_cities
	set_country_flag = hye_promise_relocation_spy
	activate_mission = hye_promise_relocation
	set_country_flag = hye_promise_sand_people_spy
	activate_mission = hye_promise_sand_people
	set_country_flag = hye_promise_smugglers_spy
	activate_mission = hye_promise_smugglers
	set_country_flag = hye_promise_monarchy_general
	activate_mission = hye_promise_monarchy
	set_country_flag = hye_promise_reclaimed_lands_spy
	activate_mission = hye_promise_reclaimed_lands
	set_country_flag = hye_promise_partisans_warrior
	activate_mission = hye_promise_partisans_1
	activate_mission = hye_promise_partisans_2
	activate_mission = hye_promise_partisans_3
	activate_mission = hye_promise_partisans_4
	activate_mission = hye_promise_reclaimed_lands
	set_country_flag = hye_promise_rebuilding_mission
	activate_mission = hye_promise_rebuilding_mission
	set_country_flag = hye_promise_army_size
	activate_mission = hye_promise_army_size_mission
	add_ideas = HYE_divided_nation
}

HYE_lower_divide = {
	if = {
		limit = {
			has_idea = HYE_destroyed_nation
		}
		swap_ideas = {
			add_idea = HYE_divided_nation
			remove_idea = HYE_destroyed_nation
		}
	}
	else_if = {
		limit = {
			has_idea = HYE_divided_nation
		}
		swap_ideas = {
			add_idea = HYE_divided_nation_1
			remove_idea = HYE_divided_nation
		}
	}
	else_if = {
		limit = {
			has_idea = HYE_divided_nation_1
		}
		swap_ideas = {
			add_idea = HYE_divided_nation_2
			remove_idea = HYE_divided_nation_1
		}
	}
	else_if = {
		limit = {
			has_idea = HYE_divided_nation_2
		}
		remove_ideas = HYE_divided_nation_2
	}
}

HYE_bp_steal_effect = {
	if = {
		limit = {
			NOT = {
				has_tech = infantry_weapons
			}
			PREV = {
				has_tech = infantry_weapons
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 2
			uses = 1
			technology = infantry_weapons
		}
	}
	else_if = {
		limit = {
			NOT = {
				has_tech = infantry_weapons1
			}
			PREV = {
				has_tech = infantry_weapons1
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 2
			uses = 1
			technology = infantry_weapons1
		}
	}
	else_if = {
		limit = {
			NOT = {
				has_tech = infantry_weapons2
			}
			PREV = {
				has_tech = infantry_weapons2
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 2
			uses = 1
			technology = infantry_weapons2
		}
	}
	else_if = {
		limit = {
			NOT = {
				has_tech = improved_infantry_weapons
			}
			PREV = {
				has_tech = improved_infantry_weapons
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 2
			uses = 1
			technology = improved_infantry_weapons
		}
	}
	else_if = {
		limit = {
			NOT = {
				has_tech = improved_infantry_weapons_2
			}
			PREV = {
				has_tech = improved_infantry_weapons_2
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 2
			uses = 1
			technology = improved_infantry_weapons_2
		}
	}
	else_if = {
		limit = {
			NOT = {
				has_tech = advanced_infantry_weapons
			}
			PREV = {
				has_tech = advanced_infantry_weapons
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 2
			uses = 1
			technology = advanced_infantry_weapons
		}
	}
	else_if = {
		limit = {
			NOT = {
				has_tech = advanced_infantry_weapons2
			}
			PREV = {
				has_tech = advanced_infantry_weapons2
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 2
			uses = 1
			technology = advanced_infantry_weapons2
		}
	}
	else_if = {
		limit = {
			NOT = {
				has_tech = advanced_infantry_weapons_a
			}
			PREV = {
				has_tech = advanced_infantry_weapons_a
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 2
			uses = 1
			technology = advanced_infantry_weapons_a
		}
	}
	else_if = {
		limit = {
			NOT = {
				has_tech = advanced_infantry_weapons_b
			}
			PREV = {
				has_tech = advanced_infantry_weapons_b
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 2
			uses = 1
			technology = advanced_infantry_weapons_b
		}
	}
	else_if = {
		limit = {
			NOT = {
				has_tech = advanced_infantry_weapons_c
			}
			PREV = {
				has_tech = advanced_infantry_weapons_c
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 2
			uses = 1
			technology = advanced_infantry_weapons_c
		}
	}
	else_if = {
		limit = {
			NOT = {
				has_tech = advanced_infantry_weapons_d
			}
			PREV = {
				has_tech = advanced_infantry_weapons_d
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 2
			uses = 1
			technology = advanced_infantry_weapons_d
		}
	}
	else_if = {
		limit = {
			NOT = {
				has_tech = advanced_infantry_weapons_e
			}
			PREV = {
				has_tech = advanced_infantry_weapons_e
			}
		}
		add_tech_bonus = {
			name = generic_tech_bonus
			bonus = 2
			uses = 1
			technology = advanced_infantry_weapons_e
		}
	}
	else = {
		add_political_power = 75
	}
}
HYE_poverty = {
	if = {
		limit = { has_idea = poverty }
		swap_ideas = { add_idea = poverty1 remove_idea = poverty }
	}
	else_if = {
		limit = { has_idea = poverty1 }
		swap_ideas = { add_idea = poverty2 remove_idea = poverty1 }
	}
	else_if = {
		limit = { has_idea = poverty2 }
		swap_ideas = { add_idea = poverty3 remove_idea = poverty2 }
	}
	else_if = {
		limit = { has_idea = poverty3 }
		swap_ideas = { add_idea = poverty4 remove_idea = poverty3 }
	}
	else_if = {
		limit = { has_idea = poverty4 }
		swap_ideas = { add_idea = poverty5 remove_idea = poverty4 }
	}
	else_if = {
		limit = { has_idea = poverty5 }
		swap_ideas = { add_idea = HYE_hyenia_of_two_speeds remove_idea = poverty5 }
	}
}
