scripted_gui = {
	KIR_diary_SG = {
		context_type = player_context
		
		visible = {
			ROOT = {
				original_tag = KIR
				has_country_flag = KIR_toggled_diary_SG
			}
		}
		
		window_name = "KIR_diary_SG_window"
		
		dirty = KIR_diary_SG_DIRTY
		
		properties = {
			KIR_diary_SG_protag_1_button = {
				frame = protagonist_1_frame
			}
			KIR_diary_SG_protag_2_button = {
				frame = protagonist_2_frame
			}
			KIR_diary_SG_protag_3_button = {
				frame = protagonist_3_frame
			}
			KIR_diary_SG_protag_4_button = {
				frame = protagonist_4_frame
			}
		}
		
		triggers = {
			KIR_diary_SG_protag_1_button_visible = {
				NOT = {
					has_country_flag = KIR_diary_SG_protag_1_UNAVAILABLE_flag
				}
			}
			KIR_diary_SG_protag_2_button_visible = {
				NOT = {
					has_country_flag = KIR_diary_SG_protag_2_UNAVAILABLE_flag
				}
			}
			KIR_diary_SG_protag_3_button_visible = {
				NOT = {
					has_country_flag = KIR_diary_SG_protag_3_UNAVAILABLE_flag
				}
			}
			KIR_diary_SG_protag_4_button_visible = {
				NOT = {
					has_country_flag = KIR_diary_SG_protag_4_UNAVAILABLE_flag
				}
			}
		}
		
		effects = {
			KIR_diary_SG_protag_1_button_click = {
				KIR_diary_SG_RESET_FRAMES = yes
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_variable = { protagonist_1_frame = 1 }
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_2_button_click = {
				KIR_diary_SG_RESET_FRAMES = yes
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_variable = { protagonist_2_frame = 1 }
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_3_button_click = {
				KIR_diary_SG_RESET_FRAMES = yes
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_variable = { protagonist_3_frame = 1 }
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_4_button_click = {
				KIR_diary_SG_RESET_FRAMES = yes
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_variable = { protagonist_4_frame = 1 }
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_ESC_click = {
				clr_country_flag = KIR_toggled_diary_SG
				KIR_diary_SG_RESET_FRAMES = yes
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
		}
	}
	
	KIR_diary_SG_protag_1 = { 
		context_type = player_context
		parent_window_name = "KIR_diary_SG_window"
		
		visible = {
			ROOT = {
				original_tag = KIR
				has_country_flag = KIR_toggled_diary_SG
				check_variable = { protagonist_1_frame = 1 }
			}
		}
		
		window_name = "KIR_diary_SG_protag_1_window"
		
		dirty = KIR_diary_SG_DIRTY
		
		triggers = {
			KIR_diary_SG_protag_1_entry_1_button_visible = {
				has_country_flag = KIR_unlocked_diary_protag_1_entry_1_flag
			}
			KIR_diary_SG_protag_1_entry_2_button_visible = {
				has_country_flag = KIR_unlocked_diary_protag_1_entry_2_flag
			}
			KIR_diary_SG_protag_1_entry_3_button_visible = {
				has_country_flag = KIR_unlocked_diary_protag_1_entry_3_flag
			}
			KIR_diary_SG_protag_1_entry_4_button_visible = {
				has_country_flag = KIR_unlocked_diary_protag_1_entry_4_flag
			}
			KIR_diary_SG_protag_1_entry_5_button_visible = {
				has_country_flag = KIR_unlocked_diary_protag_1_entry_5_flag
			}
			KIR_diary_SG_protag_1_entry_6_button_visible = {
				has_country_flag = KIR_unlocked_diary_protag_1_entry_6_flag
			}
			KIR_diary_SG_protag_1_entry_7_button_visible = {
				has_country_flag = KIR_unlocked_diary_protag_1_entry_7_flag
			}
			KIR_diary_SG_protag_1_entry_8_button_visible = {
				has_country_flag = KIR_unlocked_diary_protag_1_entry_8_flag
			}
			KIR_diary_SG_protag_1_entry_9_button_visible = {
				has_country_flag = KIR_unlocked_diary_protag_1_entry_9_flag
			}
			KIR_diary_SG_protag_1_entry_10_button_visible = {
				has_country_flag = KIR_unlocked_diary_protag_1_entry_10_flag
			}
			KIR_diary_SG_protag_1_entry_11_button_visible = {
				has_country_flag = KIR_unlocked_diary_protag_1_entry_11_flag
			}
			KIR_diary_SG_protag_1_entry_12_button_visible = {
				has_country_flag = KIR_unlocked_diary_protag_1_entry_12_flag
			}
		}
		
		effects = {
			KIR_diary_SG_protag_1_entry_1_button_click = {
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_country_flag = KIR_diary_SG_protag_1_entry_1_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_1_entry_2_button_click = {
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_country_flag = KIR_diary_SG_protag_1_entry_2_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_1_entry_3_button_click = {
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_country_flag = KIR_diary_SG_protag_1_entry_3_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_1_entry_4_button_click = {
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_country_flag = KIR_diary_SG_protag_1_entry_4_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_1_entry_5_button_click = {
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_country_flag = KIR_diary_SG_protag_1_entry_5_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_1_entry_6_button_click = {
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_country_flag = KIR_diary_SG_protag_1_entry_6_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_1_entry_7_button_click = {
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_country_flag = KIR_diary_SG_protag_1_entry_7_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_1_entry_8_button_click = {
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_country_flag = KIR_diary_SG_protag_1_entry_8_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_1_entry_9_button_click = {
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_country_flag = KIR_diary_SG_protag_1_entry_9_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_1_entry_10_button_click = {
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_country_flag = KIR_diary_SG_protag_1_entry_10_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_1_entry_11_button_click = {
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_country_flag = KIR_diary_SG_protag_1_entry_11_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_1_entry_12_button_click = {
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_country_flag = KIR_diary_SG_protag_1_entry_12_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
		}
	}
}