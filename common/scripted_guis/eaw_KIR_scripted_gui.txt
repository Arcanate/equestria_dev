scripted_gui = {
	KIR_diary_SG = {
		context_type = player_context
		
		visible = {
			ROOT = {
				original_tag = KIR
				has_country_flag = KIR_toggled_diary_SG
			}
		}
		
		window_name = "KIR_diary_SG_window"
		
		dirty = KIR_diary_SG_DIRTY
		
		properties = {
			KIR_diary_SG_protag_1_button = {
				frame = protagonist_1_frame
			}
			KIR_diary_SG_protag_2_button = {
				frame = protagonist_2_frame
			}
			KIR_diary_SG_protag_3_button = {
				frame = protagonist_3_frame
			}
			KIR_diary_SG_protag_4_button = {
				frame = protagonist_4_frame
			}
		}
		
		effects = {
			KIR_diary_SG_protag_1_button_click = {
				KIR_diary_SG_RESET_FRAMES = yes
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_variable = { protagonist_1_frame = 1 }
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_2_button_click = {
				KIR_diary_SG_RESET_FRAMES = yes
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_variable = { protagonist_2_frame = 1 }
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_3_button_click = {
				KIR_diary_SG_RESET_FRAMES = yes
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_variable = { protagonist_3_frame = 1 }
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_protag_4_button_click = {
				KIR_diary_SG_RESET_FRAMES = yes
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				set_variable = { protagonist_4_frame = 1 }
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
			KIR_diary_SG_ESC_click = {
				clr_country_flag = KIR_toggled_diary_SG
				KIR_diary_SG_RESET_FRAMES = yes
				KIR_diary_SG_CLEAR_ALL_FLAGS = yes
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
		}
	}
	
	KIR_diary_SG_protag_1_entry_1 = { ## the first entry (1/12) for protagonist 1 -- more entries will be created for the other protagonists through copy n paste, for a total of 12*4 entries (still TBD) ##
		context_type = player_context
		parent_window_name = "KIR_diary_SG_window"
		
		visible = {
			ROOT = {
				original_tag = KIR
				has_country_flag = KIR_toggled_diary_SG
				check_variable = { protagonist_1_frame = 1 }
			}
		}
		
		window_name = "KIR_diary_SG_protag_1_entry_1_window"
		
		dirty = KIR_diary_SG_DIRTY
		
		effects = {
			KIR_diary_SG_protag_1_entry_1_button_click = {
				set_country_flag = KIR_diary_SG_protag_1_entry_1_flag
				add_to_variable = { KIR_diary_SG_DIRTY = 1 }
			}
		}
	}
}