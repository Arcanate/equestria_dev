GRI_diplomacy = {
	GRI_takeover_TRD_fleet = {
		icon = generic_naval
		allowed = {
			always = yes
		}
		targets = { TRD }
		target_trigger = {
			FROM = {
				tag = TRD
				is_ai = no
			}
		}
		visible = {
			FROM = {
				exists = yes
				is_subject_of = ROOT
				has_navy_size = { size > 8 }
			}
		}
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRI_takeover_TRD_fleet target: [From.GetName]"
			FROM = { transfer_navy = { target = ROOT } }
		}
		ai_will_do = {
			factor = 200
		}
	}
	GRI_kill_blockers = {
		icon = generic_decision
		allowed = {
			always = yes
			#is_ai = yes
		}
		target_root_trigger = {
			is_ai = yes
			has_war = yes
			any_enemy_country = {
				NOT = { is_neighbor_of = ROOT }
				custom_trigger_tooltip = {
					tooltip = IS_IN_GRIFFONIA_TT
					is_on_griffon_continent = yes
				}
			}
		}
		visible = {
			is_ai = yes
			has_war = yes
			any_enemy_country = {
				NOT = { is_neighbor_of = ROOT }
				custom_trigger_tooltip = {
					tooltip = IS_IN_GRIFFONIA_TT
					is_on_griffon_continent = yes
				}
			}
		}
		target_trigger = {
			FROM = {
				is_ai = yes
				is_major = no
				exists = yes
				NOT = { has_idea = detached_country }
				OR = {
					is_neighbor_of = ROOT
					any_neighbor_country = {
						is_subject_of = ROOT
					}
				}
				NOT = { has_war_with = ROOT }
				NOT = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
					has_war_together_with = ROOT
					gives_military_access_to = ROOT
				}
				OR = {
					AND = {
						any_neighbor_country = {
							has_war_with = ROOT
							NOT = { is_neighbor_of = ROOT }
						}
					}
					AND = {
						any_neighbor_country = {
							any_neighbor_country = {
								has_war_with = ROOT
								NOT = { is_neighbor_of = ROOT }
							}
						}
					}
				}
			}
		}
		cost = 125
		days_remove = 30
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 0
				OR = {
					enemies_strength_ratio > 1.5
					strength_ratio = { tag = FROM ratio < 1 }
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove GRI_kill_blockers target: [From.GetName]"
			create_wargoal = { type = annex_everything target = FROM }
		}
	}
	GRI_demand_land = {
		icon = infiltrate_state
		visible = {
			has_completed_focus = GRI_empire_rising
			is_subject = no
			FROM = {
				exists = yes
				NOT = { has_country_flag = GRI_demand_awaits_response }
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
				OR = {
					any_owned_state = {
						is_core_of_griffon_empire_country = yes
					}
					any_of_scopes = {
						array = subjects
						any_owned_state = {
							is_core_of_griffon_empire_country = yes
						}
					}
				}
			}
		}
		target_root_trigger = {
			has_completed_focus = GRI_empire_rising
			is_subject = no
		}
		target_array = allies
		target_trigger = {
			FROM = {
				OR = {
					is_in_faction_with = ROOT
					is_subject_of = ROOT
				}
				is_griffon_empire_country = no
				OR = {
					any_owned_state = {
						is_core_of_griffon_empire_country = yes
					}
					any_of_scopes = {
						array = subjects
						any_owned_state = {
							is_core_of_griffon_empire_country = yes
						}
					}
				}
			}
		}
		cost = 10
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				OR = {
					enemies_strength_ratio > 1.5
					strength_ratio = { tag = FROM ratio < 1 }
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRI_demand_land target: [From.GetName]"
			FROM = {
				set_country_flag = { flag = GRI_demand_awaits_response value = 1 days = 30 }
				country_event = { id = imperial.70 days = 1 }
				custom_effect_tooltip = if_accepts
				effect_tooltip = {
					every_state = {
						limit = {
							is_core_of_griffon_empire_country = yes
							owner = {
								OR = {
									tag = FROM
									is_subject_of = FROM
								}
							}
						}
						ROOT = { transfer_state = PREV }
					}
				}
			}
		}
	}
	GRI_demand_frontier = {
		icon = rifles
		available = {
			is_subject = no
			has_war = no
		}
		cost = 75
		fire_only_once = yes
		visible = {
			has_completed_focus = GRI_strike_frontier
			FROM = {
				exists = yes
				is_griffon_continent_griffon_country = no
				custom_trigger_tooltip = {
				tooltip = owns_frontier_states_tooltip
					hidden_trigger = {
						any_owned_state = {
							OR = {
								is_core_of = HLQ
								is_core_of = LNS
								is_core_of = LSC
								is_core_of = LSM
								is_core_of = GRW
								is_core_of = BRF
								is_core_of = GRU
								is_core_of = GRY
								is_core_of = LUS
							}
						}
					}
				}
				NOT = { 
					has_war_with = ROOT 
					original_tag = GRI
				}
			}
		}
		target_root_trigger = {
			has_completed_focus = GRI_strike_frontier
		}
		target_array = neighbors
		target_trigger = { 
			FROM = {
				is_neighbor_of = ROOT
			}
		}
		days_remove = 30
		war_with_target_on_remove = yes
		cancel_trigger = {
			OR = {
				is_subject = yes
				has_war = yes
				FROM = {
					OR = {
						exists = no
						has_war_with = ROOT
					}
				}
			}
		}
		ai_will_do = {
			factor = 120
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRI_demand_frontier target: [From.GetName]"
			FROM = {
				country_event = imperial.149
			}
		}
	}
	GRI_offer_peace = {
		icon = griffon
		cost = 25
		days_remove = 30
		days_re_enable = 90
		ai_will_do = {
			factor = 180
			modifier = {
				factor = 0.5
				has_government = fascism
			}
		}
		is_good = yes
		
		target_array = enemies
		target_trigger = { 
			FROM = {
				has_war_with = ROOT
			}
		}
		available = {
			FROM = {
				surrender_progress > 0.2
			}
		}
		visible = {
			has_war_with = FROM
			FROM = {
				exists = yes
				is_griffon_continent_griffon_country = no
				custom_trigger_tooltip = {
				tooltip = owns_frontier_states_tooltip
					hidden_trigger = {
						any_owned_state = {
							OR = {
								is_core_of = HLQ
								is_core_of = LNS
								is_core_of = LSC
								is_core_of = LSM
								is_core_of = GRW
								is_core_of = BRF
								is_core_of = GRU
								is_core_of = GRY
								is_core_of = LUS
							}
						}
					}
				}
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRI_offer_peace"
			add_stability = 0.05
			add_war_support = -0.05
			FROM = {
				country_event = imperial.152
			}
		}
	}
	GRI_intergrate_bronzehill = {
		icon = generic_form_nation

		targets = { BRZ D01 D02 D03 D04 D05 D06 D07 D08 D09 D10 D11 D12 D13 D14 D15 }
		target_trigger = {
			FROM = {
				is_ai = yes
				original_tag = BRZ
			}
		}

		cost = 100

		ai_will_do = {
			factor = 50
			modifier = {
				factor = 0
				has_war = yes
			}
			modifier = {
				factor = 3
				has_completed_focus = GRI_core_the_north
			}
		}
		target_root_trigger = {
			has_completed_focus = GRI_empire_rising
			is_subject = no
		}
		visible = {
			OR = {
				has_completed_focus = GRI_unite_nobles
				has_completed_focus = GRI_romau_proclimation
			}
			is_subject = no
			FROM = {
				OR = {
					is_subject_of = ROOT
					is_in_faction_with = ROOT
				}
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision GRI_intergrate_bronzehill target: [From.GetName]"
			FROM = {
				every_unit_leader = {
					set_nationality = ROOT
				}
			}
			annex_country = { target = FROM transfer_troops = yes }
			every_state = {
				limit = {
					is_core_of = FROM
				}
				add_core_of = ROOT
			}
		}
	}
}
GRI_mandates = {
	release_EQC = {

		icon = generic_form_nation

		visible = {
			EQC = { exists = no }
			controls_state = 356
		}

		fire_only_once = yes

		cost = 150
		available = {
			has_full_control_of_state = 360
			has_full_control_of_state = 361
			has_full_control_of_state = 675
			has_full_control_of_state = 676
			has_full_control_of_state = 362
			has_full_control_of_state = 363
			has_full_control_of_state = 364
			has_full_control_of_state = 365
			has_full_control_of_state = 354
			has_full_control_of_state = 355
			has_full_control_of_state = 356
			has_full_control_of_state = 357
			has_full_control_of_state = 358
			has_full_control_of_state = 359
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision release_EQC"
			custom_effect_tooltip = release_EQC_tp
			hidden_effect = {
				EQC = {
					transfer_state = 360
					transfer_state = 361
					transfer_state = 675
					transfer_state = 676
					transfer_state = 362
					transfer_state = 363
					transfer_state = 364
					transfer_state = 365
					transfer_state = 354
					transfer_state = 355
					transfer_state = 356
					transfer_state = 357
					transfer_state = 358
					transfer_state = 359
					ROOT = {
						puppet = PREV
						set_autonomy = { target = PREV autonomous_state = autonomy_reichskommissariat }
					}
				}
				EQC = {
					create_country_leader = {
						name = "Commander Bronzetalon"
						picture = "Ferdinand.tga"
						expire = "1965.1.1"
						ideology = nazism
						traits = {}
					}
					set_politics = {
						ruling_party = fascism
						elections_allowed = no
					}
					add_popularity = {
						ideology = fascism
						popularity = 0.15
					}
					set_cosmetic_tag = EQC_mandate
					load_focus_tree = { tree = generic_griffon_focus keep_completed = no }
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
	release_NCH = {

		icon = generic_form_nation

		visible = {
			NCH = { exists = no }
			controls_state = 670
		}

		fire_only_once = yes

		cost = 150
		available = {
			has_full_control_of_state = 668
			has_full_control_of_state = 669
			has_full_control_of_state = 670
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision release_NCH"
			custom_effect_tooltip = release_NCH_tp
			hidden_effect = {
				NCH = {
					transfer_state = 668
					transfer_state = 669
					transfer_state = 670
					ROOT = {
						puppet = PREV
						set_autonomy = { target = PREV autonomous_state = autonomy_reichskommissariat }
					}
				}
				NCH = {
					create_country_leader = {
						name = "Commander Golden Wing"
						picture = "Ferdinand.tga"
						expire = "1965.1.1"
						ideology = nazism
						traits = {}
					}
					set_politics = {
						ruling_party = fascism
						elections_allowed = no
					}
					add_popularity = {
						ideology = fascism
						popularity = 0.15
					}
					set_cosmetic_tag = NCH_mandate
					load_focus_tree = { tree = generic_griffon_focus keep_completed = no }
				}
			}
		}
		ai_will_do = {
			factor = 100
		}
	}
}

GRI_attache_decisions = {
    GRI_propose_military_exchange_program = {
		icon = ger_reichskommissariats
		available = {
		    NOT = {
			    has_country_flag = GRI_proposal_denied
			}
		}
		visible = {
			has_completed_focus = GRI_further_cooperation
			has_idea = CHN_GRI_Attache_For_GRI
			NOT = {
			    has_country_flag = GRI_proposal_accepted
			}
			NOT = {
			    has_war_with = CHN
			}
		}

		cost = 25

		days_re_enable = 180
		days_remove = 7

		ai_will_do = {
			base = 10
		}

		remove_effect = {
			CHN = {
		        country_event = { 
			        id = imperial.117 
			    }
		    }
		}
	}
	
	GRI_knight_jager_program = {
		icon = generic_army_support
		available = {
			hidden_trigger = { command_power > 29 }
			NOT = {
			    has_country_flag = GRI_program_ongoing
			}
		}
		visible = {
			has_idea = CHN_GRI_Attache_For_GRI
			has_country_flag = GRI_proposal_accepted
			NOT = {
			    has_war_with = CHN
			}
			NOT = {
			    has_idea = GRI_knight_boost
			}
		}
		
		custom_cost_trigger = {
			command_power > 29
			has_political_power > 24
		}
		custom_cost_text = decision_cost_CP_30_pp_25
		
		days_remove = 90
		fire_only_once = yes

		ai_will_do = {
			base = 10
		}

        modifier = {
		    command_power_gain = -0.20
			experience_gain_army = -0.02
			political_power_gain = -0.10
		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -30 
			    add_political_power = -25 
				set_country_flag = GRI_program_ongoing
			}
		}
		remove_effect = {
		    add_ideas = GRI_knight_boost
			CHN = {
		        country_event = { 
			        id = imperial.120
			    }
		    }
			hidden_effect = {
			    clr_country_flag = GRI_program_ongoing
			}
		}
	}
	
	GRI_tactics_integration = {
		icon = generic_operation
		available = {
			hidden_trigger = { command_power > 29 }
			NOT = {
			    has_country_flag = GRI_program_ongoing
			}
		}
		visible = {
			has_idea = CHN_GRI_Attache_For_GRI
			has_country_flag = GRI_proposal_accepted
			NOT = {
			    has_war_with = CHN
			}
			NOT = {
			    has_idea = GRI_infiltration_boost
			}
		}
		
		custom_cost_trigger = {
			command_power > 29
			has_political_power > 24
		}
		custom_cost_text = decision_cost_CP_30_pp_25
		
		days_remove = 90
		fire_only_once = yes

		ai_will_do = {
			base = 10
		}

        modifier = {
		    command_power_gain = -0.20
			experience_gain_army = -0.02
			political_power_gain = -0.10
		}
		complete_effect = {
			hidden_effect = {
				add_command_power = -30 
			    add_political_power = -25 
				set_country_flag = GRI_program_ongoing
			}
		}
		remove_effect = {
		    add_ideas = GRI_infiltration_boost
			CHN = {
		        country_event = { 
			        id = imperial.121
			    }
		    }
			hidden_effect = {
			    clr_country_flag = GRI_program_ongoing
			}
		}
	}
}
