CTH_the_coltva_unrest_cat = {
	# Dummy decision to warn of the rebellion

	CTH_zeirutids_rebellion_dummy = {
		name = CTH_zeirutids_rebellion
		icon = generic_civil_support

		allowed = {
			original_tag = CTH
		}

		available = {
			CVA = {
				exists = no
			}
			OR = {
				controls_state = 1093
				controls_state = 1094
				controls_state = 1095
			}
			NOT = {
				has_country_flag = CTH_supressed_coltva
			}
			NOT = {
				has_country_flag = CTH_coltva_revolted
			}
			OR = {
				1093 = {
					resistance > 70
				}
				1094 = {
					resistance > 70
				}
				1095 = {
					resistance > 70
				}
			}
		}

		days_remove = 30

		visible = {
			CVA = {
				exists = no
			}
			OR = {
				controls_state = 1093
				controls_state = 1094
				controls_state = 1095
			}
			NOT = {
				has_country_flag = CTH_supressed_coltva
			}
			NOT = {
				has_country_flag = CTH_coltva_revolted
			}
			1093 = {
				resistance < 71
			}
			1094 = {
				resistance < 71
			}
			1095 = {
				resistance < 71
			}
		}

		fire_only_once = no

		remove_effect = {
			custom_effect_tooltip = CVA_revolution_tp
			hidden_effect = {
				country_event = {
					id = zebra_zapata.1
				}
			}
		}
	}

	CTH_zeirutids_rebellion = {
		icon = generic_civil_support
		allowed = {
			original_tag = CTH
		}

		activation = {
			CVA = {
				exists = no
			}
			OR = {
				controls_state = 1093
				controls_state = 1094
				controls_state = 1095
			}
			NOT = {
				has_country_flag = CTH_supressed_coltva
			}
			NOT = {
				has_country_flag = CTH_coltva_revolted
			}
			OR = {
				1093 = {
					resistance > 70
				}
				1094 = {
					resistance > 70
				}
				1095 = {
					resistance > 70
				}
			}
		}

		available = {
			OR = {
				has_country_flag = CTH_supressed_coltva
				AND = {
					1093 = {
						resistance < 70
					}
					1094 = {
						resistance < 70
					}
					1095 = {
						resistance < 70
					}
				}
			}
		}

		visible = {
			CVA = {
				exists = no
			}
			OR = {
				controls_state = 1093
				controls_state = 1094
				controls_state = 1095
			}
			NOT = {
				has_country_flag = CTH_supressed_coltva
			}
			NOT = {
				has_country_flag = CTH_coltva_revolted
			}
		}

		is_good = no

		days_mission_timeout = 30

		fire_only_once = yes

		cancel_if_not_visible = yes

		timeout_effect = {
			custom_effect_tooltip = CVA_revolution_tp
			hidden_effect = {
				country_event = {
					id = zebra_zapata.1
				}
			}
		}
	}

	CTH_zeirutids_rebellion_debug = {
		icon = generic_civil_support

		allowed = {
			original_tag = CTH
		}

		available = {
			CVA = {
				exists = no
			}
			OR = {
				controls_state = 1093
				controls_state = 1094
				controls_state = 1095
			}
			NOT = {
				has_country_flag = CTH_supressed_coltva
			}
			NOT = {
				has_country_flag = CTH_coltva_revolted
			}
		}

		visible = {
			is_debug = yes
		}

		fire_only_once = no

		ai_will_do = {
			factor = 0
		}

		complete_effect = {
			custom_effect_tooltip = CVA_revolution_tp
			hidden_effect = {
				country_event = {
					id = zebra_zapata.1
				}
			}
		}
	}

	CTH_crackdown_on_bandits_in_kizil_zeb = {

		icon = generic_civil_support

		available = {
			has_completed_focus = CTH_reinforce_the_eastern_garrisons
			has_full_control_of_state = 1093
			divisions_in_state = {
				state = 1093
				size > 1
			}
		}

		highlight_states = { state = 1093 }

		on_map_mode = map_only

		cost = 100

		ai_will_do = {
			factor = 5
		}

		visible = {
			#has_completed_focus = CTH_reinforce_the_eastern_garrisons
			NOT = {
				1093 = {
					is_core_of = ROOT
				}
			}
		}
		cancel_if_not_visible = yes

		fixed_random_seed = no

		complete_effect = {
			random_list = {
				55 = {
					modifier = {
						factor = 1.5
						divisions_in_state = {
							state = 1093
							size > 5
						}
					}
					1093 = {
						add_resistance = -10
						if = {
							limit = {
								has_dynamic_modifier = {
									modifier = coltvan_rebellion
								}
								resistance < 60
							}
							remove_dynamic_modifier = {
								modifier = coltvan_rebellion
							}
							add_dynamic_modifier = {
								modifier = coltvan_defiance
							}
						}
						else_if = {
							limit = {
								has_dynamic_modifier = {
									modifier = coltvan_defiance
								}
								resistance < 30
							}
							remove_dynamic_modifier = {
								modifier = coltvan_defiance
							}
							add_dynamic_modifier = {
								modifier = coltvan_unrest
							}
						}
					}
					add_manpower = -50
				}
				45 = {
					modifier = {
						factor = 0.25
						1093 = { compliance > 30 }
					}
					1093 = {
						add_resistance = 5
						if = {
							limit = {
								has_dynamic_modifier = {
									modifier = coltvan_defiance
								}
								resistance > 60
							}
							remove_dynamic_modifier = {
								modifier = coltvan_defiance
							}
							add_dynamic_modifier = {
								modifier = coltvan_rebellion
							}
						}
						else_if = {
							limit = {
								has_dynamic_modifier = {
									modifier = coltvan_unrest
								}
								resistance > 30
							}
							remove_dynamic_modifier = {
								modifier = coltvan_unrest
							}
							add_dynamic_modifier = {
								modifier = coltvan_defiance
							}
						}
					}
					add_manpower = -150
				}
			}
		}
	}

	CTH_crackdown_on_bandits_in_horsemuz = {

		icon = generic_civil_support

		available = {
			has_completed_focus = CTH_reinforce_the_eastern_garrisons
			has_full_control_of_state = 1095
			divisions_in_state = {
				state = 1095
				size > 1
			}
		}

		highlight_states = { state = 1095 }

		on_map_mode = map_only

		cost = 100

		ai_will_do = {
			factor = 5
		}

		visible = {
			#has_completed_focus = CTH_reinforce_the_eastern_garrisons
			NOT = {
				1095 = {
					is_core_of = ROOT
				}
			}
		}
		cancel_if_not_visible = yes

		fixed_random_seed = no

		complete_effect = {
			random_list = {
				55 = {
					modifier = {
						factor = 1.5
						divisions_in_state = {
							state = 1095
							size > 5
						}
					}
					1095 = {
						add_resistance = -10
						if = {
							limit = {
								has_dynamic_modifier = {
									modifier = coltvan_rebellion
								}
								resistance < 60
							}
							remove_dynamic_modifier = {
								modifier = coltvan_rebellion
							}
							add_dynamic_modifier = {
								modifier = coltvan_defiance
							}
						}
						else_if = {
							limit = {
								has_dynamic_modifier = {
									modifier = coltvan_defiance
								}
								resistance < 30
							}
							remove_dynamic_modifier = {
								modifier = coltvan_defiance
							}
							add_dynamic_modifier = {
								modifier = coltvan_unrest
							}
						}
					}
					add_manpower = -50
				}
				45 = {
					modifier = {
						factor = 0.25
						1095 = { compliance > 30 }
					}
					1095 = {
						add_resistance = 5
						if = {
							limit = {
								has_dynamic_modifier = {
									modifier = coltvan_defiance
								}
								resistance > 60
							}
							remove_dynamic_modifier = {
								modifier = coltvan_defiance
							}
							add_dynamic_modifier = {
								modifier = coltvan_rebellion
							}
						}
						else_if = {
							limit = {
								has_dynamic_modifier = {
									modifier = coltvan_unrest
								}
								resistance > 30
							}
							remove_dynamic_modifier = {
								modifier = coltvan_unrest
							}
							add_dynamic_modifier = {
								modifier = coltvan_defiance
							}
						}
					}
					add_manpower = -150
				}
			}
		}
	}

	CTH_crackdown_on_bandits_in_goatlestan = {

		icon = generic_civil_support

		available = {
			has_completed_focus = CTH_reinforce_the_eastern_garrisons
			has_full_control_of_state = 1094
			divisions_in_state = {
				state = 1094
				size > 2
			}
		}

		highlight_states = { state = 1094 }

		on_map_mode = map_only

		cost = 100

		ai_will_do = {
			factor = 5
		}

		visible = {
			#has_completed_focus = CTH_reinforce_the_eastern_garrisons
			NOT = {
				1094 = {
					is_core_of = ROOT
				}
			}
		}
		cancel_if_not_visible = yes

		fixed_random_seed = no

		complete_effect = {
			random_list = {
				50 = {
					modifier = {
						factor = 1.5
						divisions_in_state = {
							state = 1094
							size > 6
						}
					}
					1094 = {
						add_resistance = -10
						if = {
							limit = {
								has_dynamic_modifier = {
									modifier = coltvan_rebellion
								}
								resistance < 60
							}
							remove_dynamic_modifier = {
								modifier = coltvan_rebellion
							}
							add_dynamic_modifier = {
								modifier = coltvan_defiance
							}
						}
						else_if = {
							limit = {
								has_dynamic_modifier = {
									modifier = coltvan_defiance
								}
								resistance < 30
							}
							remove_dynamic_modifier = {
								modifier = coltvan_defiance
							}
							add_dynamic_modifier = {
								modifier = coltvan_unrest
							}
						}
					}
					add_manpower = -100
				}
				50 = {
					modifier = {
						factor = 0.25
						1094 = { compliance > 30 }
					}
					1094 = {
						add_resistance = 5
						if = {
							limit = {
								has_dynamic_modifier = {
									modifier = coltvan_defiance
								}
								resistance > 60
							}
							remove_dynamic_modifier = {
								modifier = coltvan_defiance
							}
							add_dynamic_modifier = {
								modifier = coltvan_rebellion
							}
						}
						else_if = {
							limit = {
								has_dynamic_modifier = {
									modifier = coltvan_unrest
								}
								resistance > 30
							}
							remove_dynamic_modifier = {
								modifier = coltvan_unrest
							}
							add_dynamic_modifier = {
								modifier = coltvan_defiance
							}
						}
					}
					add_manpower = -200
				}
			}
		}
	}
}

CTH_the_constitutionalist_rebellion_cat = {

	CTH_constitutionalist_rebellion_debug  = {
		allowed = {
			original_tag = CTH
		}

		available = {
			is_debug = yes
			NOT = {
				has_government = democratic
			}
		}

		visible = {
			is_debug = yes
		}

		complete_effect = {
			country_event = colthage_civil_war.2
		}

		ai_will_do = {
			factor = 0
		}
	}

	CTH_add_to_rebel_strength_debug = {
		allowed = {
			original_tag = CTH
		}

		available = {
			is_debug = yes
			NOT = {
				has_government = democratic
			}
		}

		visible = {
			is_debug = yes
		}

		complete_effect = {
			CTH_add_1_constitutionalist_strength = yes
		}

		ai_will_do = {
			factor = 0
		}
	}

	CTH_take_from_rebel_strength_debug = {
		allowed = {
			original_tag = CTH
		}

		available = {
			is_debug = yes
			NOT = {
				has_government = democratic
			}
		}

		visible = {
			is_debug = yes
		}

		complete_effect = {
			CTH_take_1_constitutionalist_strength = yes
		}

		ai_will_do = {
			factor = 0
		}
	}

	CTH_crackdown_on_bandits_in_tefemanei = {
		icon = generic_civil_support

		allowed = {
			original_tag = CTH
		}

		visible = {
			NOT = {
				has_global_flag = colthaginian_civil_war
				has_global_flag = colthaginian_civil_war_avoided
			}
			NOT = {
				has_country_flag = CTH_bandits_crackdown_in_tefemanei
			}
		}

		available = {
			has_completed_focus = CTH_crackdown_on_the_western_bandits
			NOT = {
				has_country_flag = CTH_bandits_crackdown_in_tefemanei
			}
			OR = {
				is_ai = yes
				divisions_in_state = {
					state = 877
					size > 5
				}
			}
		}

		highlight_state_targets = {
			state = 877
		}

		days_remove = 30

		cancel_trigger = {
			is_ai = no
			divisions_in_state = {
				state = 877
				size < 6
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			custom_effect_tooltip = CTH_bandits_crackdown_tt
			army_experience = 10
	 		set_country_flag = CTH_bandits_crackdown_in_tefemanei
			if = {
				limit = {
	 				has_country_flag = CTH_bandits_crackdown_in_alaudid_range
	 				has_country_flag = CTH_bandits_crackdown_in_zalihli
				}
	 			CTH_take_1_constitutionalist_strength = yes
	 		}
		}

	}

	CTH_crackdown_on_bandits_in_alaudid_range = {
		icon = generic_civil_support

		allowed = {
			original_tag = CTH
		}

		visible = {
			NOT = {
				has_global_flag = colthaginian_civil_war
				has_global_flag = colthaginian_civil_war_avoided
			}
			NOT = {
				has_country_flag = CTH_bandits_crackdown_in_alaudid_range
			}
		}

		available = {
			has_completed_focus = CTH_crackdown_on_the_western_bandits
			NOT = {
				has_country_flag = CTH_bandits_crackdown_in_alaudid_range
			}
			OR = {
				divisions_in_state = {
					state = 699
					size > 5
				}
				is_ai = yes
			}
		}

		highlight_state_targets = {
			state = 699
		}

		days_remove = 35

		cancel_trigger = {
			is_ai = no
			divisions_in_state = {
				state = 699
				size < 6
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			custom_effect_tooltip = CTH_bandits_crackdown_tt
			army_experience = 10
	 		set_country_flag = CTH_bandits_crackdown_in_alaudid_range
			if = {
				limit = {
	 				has_country_flag = CTH_bandits_crackdown_in_tefemanei
	 				has_country_flag = CTH_bandits_crackdown_in_zalihli
				}
	 			CTH_take_1_constitutionalist_strength = yes
	 		}
		}
	}

	CTH_crackdown_on_bandits_in_zalihli = {
		icon = generic_civil_support

		allowed = {
			original_tag = CTH
		}

		visible = {
			NOT = {
				has_global_flag = colthaginian_civil_war
				has_global_flag = colthaginian_civil_war_avoided
			}
			NOT = {
				has_country_flag = CTH_bandits_crackdown_in_zalihli
			}
		}

		available = {
			has_completed_focus = CTH_crackdown_on_the_western_bandits
			NOT = {
				has_country_flag = CTH_bandits_crackdown_in_zalihli
			}
			OR = {
				is_ai = yes
				divisions_in_state = {
					state = 876
					size > 5
				}
			}
		}

		highlight_state_targets = {
			state = 876
		}

		days_remove = 35

		cancel_trigger = {
			is_ai = no
			divisions_in_state = {
				state = 876
				size < 6
			}
		}

		cost = 0

		ai_will_do = {
			factor = 200
		}

		remove_effect = {
			custom_effect_tooltip = CTH_bandits_crackdown_tt
			army_experience = 10
	 		set_country_flag = CTH_bandits_crackdown_in_zalihli
			if = {
				limit = {
	 				has_country_flag = CTH_bandits_crackdown_in_tefemanei
	 				has_country_flag = CTH_bandits_crackdown_in_alaudid_range
				}
	 			CTH_take_1_constitutionalist_strength = yes
	 		}
		}
	}

	CTH_crackdown_on_students = {
		icon = generic_civil_support

		allowed = {
			original_tag = CTH
		}

		visible = {
			NOT = {
				has_global_flag = colthaginian_civil_war
				has_global_flag = colthaginian_civil_war_avoided
			}
		}

		available = {
			has_country_flag = CTH_murder_riots_happened
		}

		fire_only_once = yes

		days_remove = 7

		modifier = {
			stability_weekly = -0.02
		}

		cost = 25

		ai_will_do = {
			base = 25
			modifier = {
				is_historical_focus_on = yes
				factor = 10
			}
		}

		remove_effect = {
			country_event = colthage_civil_war.4
			hidden_effect = {
				country_event = {
					id = colthage_civil_war.5
					days = 10
					random_days = 2
				}
			}
		}
	}

	CTH_root_out_constitutionalists_cells = {
		icon = generic_civil_support

		allowed = {
			original_tag = CTH
		}

		visible = {
			has_country_flag = CTH_zannos_plan_discovered
			NOT = {
				has_global_flag = colthaginian_civil_war
				has_global_flag = colthaginian_civil_war_avoided
			}
		}

		available = {
			has_country_flag = CTH_zannos_plan_discovered
		}

		fire_only_once = yes

		days_remove = 20

		cost = 25

		ai_will_do = {
			base = 25
			modifier = {
				is_historical_focus_on = yes
				factor = 10
			}
		}

		modifier = {
			political_power_factor = -0.15
		}

		complete_effect = {
			country_event = {
				id = colthage_civil_war.6
				days = 15
				random_hours = 10
			}
		}

		remove_effect = {
			country_event = colthage_civil_war.7
		}
		
	}
}

CTH_internal_factions = {
	CTH_add_strength_to_science_debug = {

	}
}