BAT_appoint_warmaster = {
	BAT_appoint_autumn = {
		ai_will_do = {
			factor = 100
		}
		available = {
			NOT = {
				has_country_flag = BAT_changed_leader_flag
			}
		}
		visible = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
			NOT = {
				has_country_leader = {
					ruling_only = yes
					name = "Autumn Breeze"
				}
			}
		}
		icon = lunar_war_plan

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_appoint_autumn"
			custom_effect_tooltip = BAT_changed_leader_tp
			create_country_leader = {
				name = "Autumn Breeze"
				desc = BAT_AUTUMN_BREEZE_DESC
				expire = "1965.1.1"
				picture = "BAT_Autumn_Breeze.tga"
				ideology = militant_theocrat
				traits = {
					BAT_political_savant
				}
			}
			create_country_leader = {
				name = "Autumn Breeze"
				desc = BAT_AUTUMN_BREEZE_DESC
				expire = "1965.1.1"
				picture = "BAT_Autumn_Breeze.tga"
				ideology = militant_theocrat_2
				traits = {
					BAT_political_savant
				}
			}
			hidden_effect = {
				set_country_flag = {
					flag = BAT_changed_leader_flag
					days = 365
					value = 1
				}
			}
		}
	}

	BAT_appoint_emerald = {
		ai_will_do = {
			factor = 100
		}
		available = {
			NOT = {
				has_country_flag = BAT_changed_leader_flag
			}
		}
		visible = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
			NOT = {
				has_country_leader = {
					ruling_only = yes
					name = "Emerald Light"
				}
			}
		}
		icon = lunar_war_plan

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_appoint_emerald"
			custom_effect_tooltip = BAT_changed_leader_tp
			create_country_leader = {
				name = "Emerald Light"
				desc = BAT_EMERALD_LIGHT_DESC
				expire = "1965.1.1"
				picture = "BAT_Emerald_Light.tga"
				ideology = militant_theocrat
				female = yes
				traits = {
					BAT_enthusiastic_researcher
				}
			}
			create_country_leader = {
				name = "Emerald Light"
				desc = BAT_EMERALD_LIGHT_DESC
				expire = "1965.1.1"
				picture = "BAT_Emerald_Light.tga"
				ideology = militant_theocrat_2
				female = yes
				traits = {
					BAT_enthusiastic_researcher
				}
			}
			hidden_effect = {
				set_country_flag = {
					flag = BAT_changed_leader_flag
					days = 365
					value = 1
				}
			}
		}
	}

	BAT_appoint_eclipse = {
		ai_will_do = {
			factor = 100
		}
		available = {
			NOT = {
				has_country_flag = BAT_changed_leader_flag
			}
		}
		visible = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
			NOT = {
				has_country_leader = {
					ruling_only = yes
					name = "Eternal Eclipse"
				}
			}
		}
		icon = lunar_war_plan

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_appoint_eclipse"
			custom_effect_tooltip = BAT_changed_leader_tp
			create_country_leader = {
				name = "Eternal Eclipse"
				desc = BAT_ETERNAL_ECLIPSE_DESC
				expire = "1965.1.1"
				picture = "BAT_Eternal_Eclipse.tga"
				ideology = militant_theocrat
				traits = {
					BAT_affable_slavemaster
				}
			}
			create_country_leader = {
				name = "Eternal Eclipse"
				desc = BAT_ETERNAL_ECLIPSE_DESC
				expire = "1965.1.1"
				picture = "BAT_Eternal_Eclipse.tga"
				ideology = militant_theocrat_2
				traits = {
					BAT_affable_slavemaster
				}
			}
			hidden_effect = {
				set_country_flag = {
					flag = BAT_changed_leader_flag
					days = 365
					value = 1
				}
			}
		}
	}

	BAT_appoint_hail = {
		ai_will_do = {
			factor = 100
		}
		available = {
			NOT = {
				has_country_flag = BAT_changed_leader_flag
			}
		}
		visible = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
			NOT = {
				has_country_leader = {
					ruling_only = yes
					name = "Lunar Hail"
				}
			}
		}
		icon = lunar_war_plan

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_appoint_hail"
			custom_effect_tooltip = BAT_changed_leader_tp
			create_country_leader = {
				name = "Lunar Hail"
				desc = BAT_LUNAR_HAIL_DESC
				expire = "1965.1.1"
				picture = "Governor.tga"
				ideology = militant_theocrat
				female = yes
				traits = {
					BAT_frothing_fanatic
				}
			}
			create_country_leader = {
				name = "Lunar Hail"
				desc = BAT_LUNAR_HAIL_DESC
				expire = "1965.1.1"
				picture = "Governor.tga"
				ideology = militant_theocrat_2
				female = yes
				traits = {
					BAT_frothing_fanatic
				}
			}
			hidden_effect = {
				set_country_flag = {
					flag = BAT_changed_leader_flag
					days = 365
					value = 1
				}
			}
		}
	}

	BAT_appoint_lightning = {
		ai_will_do = {
			factor = 100
		}
		available = {
			NOT = {
				has_country_flag = BAT_changed_leader_flag
			}
		}
		visible = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
			NOT = {
				has_country_leader = {
					ruling_only = yes
					name = "Lightning Charm"
				}
			}
		}
		icon = lunar_war_plan

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_appoint_lightning"
			custom_effect_tooltip = BAT_changed_leader_tp
			create_country_leader = {
				name = "Lightning Charm"
				desc = BAT_LIGHTNING_CHARM_DESC
				expire = "1965.1.1"
				picture = "Governor.tga"
				ideology = militant_theocrat
				female = yes
				traits = {
					BAT_dedicated_soldier
				}
			}
			create_country_leader = {
				name = "Lightning Charm"
				desc = BAT_LIGHTNING_CHARM_DESC
				expire = "1965.1.1"
				picture = "Governor.tga"
				ideology = militant_theocrat_2
				female = yes
				traits = {
					BAT_dedicated_soldier
				}
			}
			hidden_effect = {
				set_country_flag = {
					flag = BAT_changed_leader_flag
					days = 365
					value = 1
				}
			}
		}
	}

	BAT_appoint_palisade = {
		ai_will_do = {
			factor = 100
		}
		available = {
			NOT = {
				has_country_flag = BAT_changed_leader_flag
			}
		}
		visible = {
			OR = {
				has_government = neutrality
				has_government = fascism
			}
			NOT = {
				has_country_leader = {
					ruling_only = yes
					name = "Stone Palisade"
				}
			}
		}
		icon = lunar_war_plan

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_appoint_lightning"
			custom_effect_tooltip = BAT_changed_leader_tp
			create_country_leader = {
				name = "Stone Palisade"
				desc = BAT_STONE_PALISADE_DESC
				expire = "1965.1.1"
				picture = "Governor.tga"
				ideology = militant_theocrat
				traits = {
					BAT_dorn
				}
			}
			create_country_leader = {
				name = "Stone Palisade"
				desc = BAT_STONE_PALISADE_DESC
				expire = "1965.1.1"
				picture = "Governor.tga"
				ideology = militant_theocrat_2
				traits = {
					BAT_dorn
				}
			}
			hidden_effect = {
				set_country_flag = {
					flag = BAT_changed_leader_flag
					days = 365
					value = 1
				}
			}
		}
	}
}

BAT_raiding = {
	BAT_prepare_raid = {
		icon = generic_operation
		available = {
			FROM = {
				any_owned_state = {
					is_controlled_by = FROM
					any_neighbor_state = {
						is_fully_controlled_by = ROOT
						set_temp_variable = { var:attacker_state_temp = id }
						has_ROOT_at_least_1_div_in_current_state_scope = yes
					}
					set_temp_variable = { var:defender_state_temp = id }
				}
			}
			NOT = {
				has_country_flag = raid_succeeded
				has_country_flag = raid_failed
				has_country_flag = raid_in_progress
			}
		}

		visible = {
		    OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			NOT = {
				has_country_flag = preparing_raid
				has_war_with = FROM
				is_subject_of = FROM
			}
			FROM = {
				can_have_border_war_with_ROOT = yes
			}
			OR = {
				NOT = { has_border_war_with = FROM }
				AND = {
					FROM = {
						any_owned_state = {
							is_controlled_by = FROM
							any_neighbor_state = {
								is_fully_controlled_by = ROOT
							}
						}
					}
				}
			}
		}
		target_array = neighbors
		target_trigger = {
			FROM = {
				is_neighbor_of = ROOT
			}
		}
		highlight_states = {
			OR = {
				state = FROM.defender_state_vs_@ROOT
				AND = {
					is_owned_and_controlled_by = FROM
					any_neighbor_state = {
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						is_fully_controlled_by = ROOT
					}
				}
			}
		}
		ai_will_do = {
			base = 100
		}
		cost = 25
		fire_only_once = no
		days_re_enable = 90
		days_remove = 30

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_prepare_raid target: [From.GetName]"
			hidden_effect = {
				random_state = {
					limit = {
						is_owned_and_controlled_by = FROM
						any_neighbor_state = {
							has_ROOT_at_least_1_div_in_current_state_scope = yes
							is_fully_controlled_by = ROOT
						}
					}
					save_event_target_as = defender_state
					set_variable = { FROM.defender_state_vs_@ROOT = id }
					set_temp_variable = { defender_state_temp = id }
				}
				random_state = {
					limit = {
						is_fully_controlled_by = ROOT
						has_ROOT_at_least_1_div_in_current_state_scope = yes
						any_neighbor_state = {
							state = var:FROM.defender_state_vs_@ROOT
						}
					}
					save_event_target_as = attacker_state
					set_variable = { FROM.attacker_state_vs_@ROOT = id }
					set_temp_variable = { attacker_state_temp = id }
				}
				set_country_flag = preparing_raid
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove prepare_raid target: [From.GetName]"
			activate_targeted_decision = { target = FROM decision = BAT_initiate_raid }
		}
	}

	BAT_initiate_raid = {
		icon = generic_operation
		allowed = { always = no } #Activated from effect
		available = {
			var:FROM.attacker_state_vs_@ROOT = {
				is_fully_controlled_by = ROOT
			}
			divisions_in_border_state = {
				state = var:FROM.attacker_state_vs_@ROOT
				border_state = var:FROM.defender_state_vs_@ROOT
				size > 0
			}
		}
		highlight_states = {
			state = var:FROM.attacker_state_vs_@ROOT
		}
		ai_will_do = {
			base = 100
		}
		cancel_trigger = {
			OR = {
				FROM = {
					can_have_border_war_with_ROOT = no
				}
			}
		}
		fire_only_once = yes #Reactivation handled in effect
		selectable_mission = yes
		days_mission_timeout = 30

		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout BAT_initiate_raid"
			hidden_effect = {
				FROM = {
					clear_variable = attacker_state_vs_@ROOT
					clear_variable = defender_state_vs_@ROOT
				}
				clr_country_flag = preparing_raid
				remove_targeted_decision = { target = FROM decision = BAT_initiate_raid }
				activate_targeted_decision = { target = FROM decision = BAT_prepare_raid }
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision initiate_raid"
			effect_tooltip = {
				start_border_war = {
					change_state_after_war = no
					attacker = {
						state = var:FROM.attacker_state_vs_@ROOT
						num_provinces = 4
						on_win = bat.1
						on_lose = bat.3
						on_cancel = bat.2
					}

					defender = {
						state = var:FROM.defender_state_vs_@ROOT
						num_provinces = 4
						on_win = bat.6
						on_lose = bat.4
						on_cancel = bat.5
					}
				}
			}
			hidden_effect = {
				if = {
					limit = {
						FROM = {
							OR = {
								is_ai = no
								AND = {
									has_war = yes
									divisions_in_border_state = {
										border_state = var:FROM.attacker_state_vs_@ROOT
										state = var:FROM.defender_state_vs_@ROOT
										size < 1
									}
								}
							}
						}
					}
					FROM = { country_event = bat.7 }
				}
				else = {
					start_border_war = {
						change_state_after_war = no
						attacker = {
							state = var:FROM.attacker_state_vs_@ROOT
							num_provinces = 4
							on_win = bat.1
							on_lose = bat.3
							on_cancel = bat.2
						}
						defender = {
							state = var:FROM.defender_state_vs_@ROOT
							num_provinces = 4
							on_win = bat.6
							on_lose = bat.4
							on_cancel = bat.5
						}
					}
				}
			}
			hidden_effect = {
				set_country_flag = raid_in_progress
				clr_country_flag = preparing_raid
				remove_targeted_decision = { target = FROM decision = BAT_initiate_raid }
				activate_targeted_decision = { target = FROM decision = BAT_prepare_raid }
			}
		}
	}

	BAT_test_subject_procurement = {
		icon = generic_research
		available = {
			hidden_trigger = {
				check_variable = {
					BAT_labourers > 14999
				}
			}
			NOT = {
				has_country_flag = BAK_embarking_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
		}

		custom_cost_trigger = {
			check_variable = {
				BAT_labourers > 14999
			}
		}
		custom_cost_text = decision_cost_15000_labour

		days_remove = BAT_faster_integration_time_2?30

		ai_will_do = {
			base = 0
			modifier = {
				check_variable = { BAT_labourers > 80000 }
				add = 3
			}
			modifier = {
				check_variable = { BAT_labourers > 70000 }
				add = 2
			}
			modifier = {
				check_variable = { BAT_labourers > 60000 }
				add = 1.5
			}
			modifier = {
				check_variable = { BAT_labourers > 50000 }
				add = 1
			}
			modifier = {
				check_variable = { BAT_labourers < 40000 }
				add = -4
			}
			modifier = {
				check_variable = { BAT_labourers < 30000 }
				add = -8
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_test_subject_procurement"
			if = {
				limit = {
					NOT = {
						OR = {
							has_completed_focus = BAT_control_collars
							has_completed_focus = BAT_decent_living_quarters
						}
					}
				}
				add_ideas = BAT_doing_a_project
			}
			hidden_effect = {
				subtract_from_variable = {
					var = BAT_labourers
					value = 15000
				}
				set_country_flag = BAK_embarking_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_test_subject_procurement"
			if = {
				limit = {
					has_idea = BAT_doing_a_project
				}
				remove_ideas = BAT_doing_a_project
			}
			if = {
				limit = {
					has_completed_focus = BAT_free_reign_to_LMRD
				}
				custom_effect_tooltip = BAT_test_subject_1_tp
				add_to_variable = {
					var = BAT_test_subjects
					value = 7500
				}
			}
			else = {
				custom_effect_tooltip = BAT_test_subject_2_tp
				add_to_variable = {
					var = BAT_test_subjects
					value = 5000
				}
			}
			hidden_effect = {
				clr_country_flag = BAK_embarking_project
			}
		}
	}

	BAT_labour_civilian_factory = {
		icon = generic_construction
		available = {
			hidden_trigger = {
				if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 > 1
						}
					}
					has_political_power > 4
				}
				else_if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 = 1
						}
					}
					has_political_power > 9
				}
				else = {
					has_political_power > 14
				}
				if = {
					limit = {
						has_completed_focus = BAT_control_collars
					}
					check_variable = {
						BAT_labourers > 27499
					}
				}
				else_if = {
					limit = {
						has_completed_focus = BAT_improve_working_conditions
					}
					check_variable = {
						BAT_labourers > 19999
					}
				}
				else = {
					check_variable = {
						BAT_labourers > 24999
					}
				}
			}
			NOT = {
				has_country_flag = BAK_embarking_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
		}

		custom_cost_trigger = {
			if = {
				limit = {
					check_variable = {
						BAT_cost_variable_1 > 1
					}
				}
				has_political_power > 4
			}
			else_if = {
				limit = {
					check_variable = {
						BAT_cost_variable_1 = 1
					}
				}
				has_political_power > 9
			}
			else = {
				has_political_power > 14
			}
			if = {
				limit = {
					has_completed_focus = BAT_control_collars
				}
				check_variable = {
					BAT_labourers > 27499
				}
			}
			else_if = {
				limit = {
					has_completed_focus = BAT_improve_working_conditions
				}
				check_variable = {
					BAT_labourers > 19999
				}
			}
			else = {
				check_variable = {
					BAT_labourers > 24999
				}
			}
		}
		custom_cost_text = decision_cost_25000_labour_pp_15

		days_remove = BAT_faster_integration_time?60

		ai_will_do = {
			base = 0
			modifier = {
				check_variable = { BAT_labourers > 70000 }
				add = 3
			}
			modifier = {
				check_variable = { BAT_labourers > 60000 }
				add = 2
			}
			modifier = {
				check_variable = { BAT_labourers > 50000 }
				add = 1.5
			}
			modifier = {
				check_variable = { BAT_labourers > 40000 }
				add = 1
			}
			modifier = {
				check_variable = { BAT_labourers < 30000 }
				add = -4
			}
			modifier = {
				check_variable = { BAT_labourers < 25000 }
				add = -8
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_labour_civilian_factory"
			if = {
				limit = {
					NOT = {
						OR = {
							has_completed_focus = BAT_control_collars
							has_completed_focus = BAT_decent_living_quarters
						}
					}
				}
				add_ideas = BAT_doing_a_project
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 > 1
						}
					}
					add_political_power = -5
				}
				else_if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 = 1
						}
					}
					add_political_power = -10
				}
				else = {
					add_political_power = -15
				}
				if = {
					limit = {
						has_completed_focus = BAT_control_collars
					}
					subtract_from_variable = {
						var = BAT_labourers
						value = 27500
					}
				}
				else_if = {
					limit = {
						has_completed_focus = BAT_improve_working_conditions
					}
					subtract_from_variable = {
						var = BAT_labourers
						value = 20000
					}
				}
				else = {
					subtract_from_variable = {
						var = BAT_labourers
						value = 25000
					}
				}
				set_country_flag = BAK_embarking_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_labour_civilian_factory"
			one_random_industrial_complex = yes
			if = {
				limit = {
					has_completed_focus = BAT_mandatory_temple_attendence
					NOT = {
						has_completed_focus = BAT_improve_working_conditions
					}
				}
				add_manpower = 6250
			}
			else_if = {
				limit = {
					AND = {
						has_completed_focus = BAT_mandatory_temple_attendence
						has_completed_focus = BAT_improve_working_conditions
					}
				}
				add_manpower = 5000
			}
			if = {
				limit = {
					has_idea = BAT_doing_a_project
				}
				remove_ideas = BAT_doing_a_project
			}
			hidden_effect = {
				clr_country_flag = BAK_embarking_project
			}
		}
	}

	BAT_labour_army_factory = {
		icon = generic_industry
		available = {
			hidden_trigger = {
				if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 > 1
						}
					}
					has_political_power > 4
				}
				else_if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 = 1
						}
					}
					has_political_power > 9
				}
				else = {
					has_political_power > 14
				}
				if = {
					limit = {
						has_completed_focus = BAT_control_collars
					}
					check_variable = {
						BAT_labourers > 27499
					}
				}
				else_if = {
					limit = {
						has_completed_focus = BAT_improve_working_conditions
					}
					check_variable = {
						BAT_labourers > 19999
					}
				}
				else = {
					check_variable = {
						BAT_labourers > 24999
					}
				}
			}
			NOT = {
				has_country_flag = BAK_embarking_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
		}

		custom_cost_trigger = {
			if = {
				limit = {
					check_variable = {
						BAT_cost_variable_1 > 1
					}
				}
				has_political_power > 4
			}
			else_if = {
				limit = {
					check_variable = {
						BAT_cost_variable_1 = 1
					}
				}
				has_political_power > 9
			}
			else = {
				has_political_power > 14
			}
			if = {
				limit = {
					has_completed_focus = BAT_control_collars
				}
				check_variable = {
					BAT_labourers > 27499
				}
			}
			else_if = {
				limit = {
					has_completed_focus = BAT_improve_working_conditions
				}
				check_variable = {
					BAT_labourers > 19999
				}
			}
			else = {
				check_variable = {
					BAT_labourers > 24999
				}
			}
		}
		custom_cost_text = decision_cost_25000_labour_pp_15

		days_remove = BAT_faster_integration_time?60

		ai_will_do = {
			base = 0
			modifier = {
				check_variable = { BAT_labourers > 70000 }
				add = 3
			}
			modifier = {
				check_variable = { BAT_labourers > 60000 }
				add = 2
			}
			modifier = {
				check_variable = { BAT_labourers > 50000 }
				add = 1.5
			}
			modifier = {
				check_variable = { BAT_labourers > 40000 }
				add = 1
			}
			modifier = {
				check_variable = { BAT_labourers < 30000 }
				add = -4
			}
			modifier = {
				check_variable = { BAT_labourers < 25000 }
				add = -8
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_labour_army_factory"
			if = {
				limit = {
					NOT = {
						OR = {
							has_completed_focus = BAT_control_collars
							has_completed_focus = BAT_decent_living_quarters
						}
					}
				}
				add_ideas = BAT_doing_a_project
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 > 1
						}
					}
					add_political_power = -5
				}
				else_if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 = 1
						}
					}
					add_political_power = -10
				}
				else = {
					add_political_power = -15
				}
				if = {
					limit = {
						has_completed_focus = BAT_control_collars
					}
					subtract_from_variable = {
						var = BAT_labourers
						value = 27500
					}
				}
				else_if = {
					limit = {
						has_completed_focus = BAT_improve_working_conditions
					}
					subtract_from_variable = {
						var = BAT_labourers
						value = 20000
					}
				}
				else = {
					subtract_from_variable = {
						var = BAT_labourers
						value = 25000
					}
				}
				set_country_flag = BAK_embarking_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_labour_army_factory"
			one_random_arms_factory = yes
			if = {
				limit = {
					has_completed_focus = BAT_mandatory_temple_attendence
					NOT = {
						has_completed_focus = BAT_improve_working_conditions
					}
				}
				add_manpower = 6250
			}
			else_if = {
				limit = {
					AND = {
						has_completed_focus = BAT_mandatory_temple_attendence
						has_completed_focus = BAT_improve_working_conditions
					}
				}
				add_manpower = 5000
			}
			if = {
				limit = {
					has_idea = BAT_doing_a_project
				}
				remove_ideas = BAT_doing_a_project
			}
			hidden_effect = {
				clr_country_flag = BAK_embarking_project
			}
		}
	}

	BAT_increased_work_quotas = {
		icon = generic_decision
		available = {
			hidden_trigger = {
				if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 > 1
						}
					}
					has_political_power > 4
				}
				else_if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 = 1
						}
					}
					has_political_power > 9
				}
				else = {
					has_political_power > 14
				}
				if = {
					limit = {
						has_completed_focus = BAT_control_collars
					}
					check_variable = {
						BAT_labourers > 27499
					}
				}
				else_if = {
					limit = {
						has_completed_focus = BAT_improve_working_conditions
					}
					check_variable = {
						BAT_labourers > 19999
					}
				}
				else = {
					check_variable = {
						BAT_labourers > 24999
					}
				}
			}
			NOT = {
				has_country_flag = BAK_embarking_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
		}

		custom_cost_trigger = {
			if = {
				limit = {
					check_variable = {
						BAT_cost_variable_1 > 1
					}
				}
				has_political_power > 4
			}
			else_if = {
				limit = {
					check_variable = {
						BAT_cost_variable_1 = 1
					}
				}
				has_political_power > 9
			}
			else = {
				has_political_power > 14
			}
			if = {
				limit = {
					has_completed_focus = BAT_control_collars
				}
				check_variable = {
					BAT_labourers > 27499
				}
			}
			else_if = {
				limit = {
					has_completed_focus = BAT_improve_working_conditions
				}
				check_variable = {
					BAT_labourers > 19999
				}
			}
			else = {
				check_variable = {
					BAT_labourers > 24999
				}
			}
		}
		custom_cost_text = decision_cost_25000_labour_pp_15

		days_remove = BAT_faster_integration_time?60

		ai_will_do = {
			base = 0
			modifier = {
				check_variable = { BAT_labourers > 70000 }
				add = 3
			}
			modifier = {
				check_variable = { BAT_labourers > 60000 }
				add = 2
			}
			modifier = {
				check_variable = { BAT_labourers > 50000 }
				add = 1.5
			}
			modifier = {
				check_variable = { BAT_labourers > 40000 }
				add = 1
			}
			modifier = {
				check_variable = { BAT_labourers < 30000 }
				add = -4
			}
			modifier = {
				check_variable = { BAT_labourers < 25000 }
				add = -8
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAK_increased_work_quotas"
			if = {
				limit = {
					NOT = {
						OR = {
							has_completed_focus = BAT_control_collars
							has_completed_focus = BAT_decent_living_quarters
						}
					}
				}
				add_ideas = BAT_doing_a_project
			}
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 > 1
						}
					}
					add_political_power = -5
				}
				else_if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 = 1
						}
					}
					add_political_power = -10
				}
				else = {
					add_political_power = -15
				}
				if = {
					limit = {
						has_completed_focus = BAT_control_collars
					}
					subtract_from_variable = {
						var = BAT_labourers
						value = 27500
					}
				}
				else_if = {
					limit = {
						has_completed_focus = BAT_improve_working_conditions
					}
					subtract_from_variable = {
						var = BAT_labourers
						value = 20000
					}
				}
				else = {
					subtract_from_variable = {
						var = BAT_labourers
						value = 25000
					}
				}
				set_country_flag = BAK_embarking_project
			}
		}
		modifier = {
			production_speed_buildings_factor = 0.10
			local_resources_factor = 0.10
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_labour_army_factory"
			random_owned_controlled_state = {
				limit = {
					is_core_of = ROOT
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
			}
			if = {
				limit = {
					has_completed_focus = BAT_mandatory_temple_attendence
					NOT = {
						has_completed_focus = BAT_improve_working_conditions
					}
				}
				add_manpower = 6250
			}
			else_if = {
				limit = {
					AND = {
						has_completed_focus = BAT_mandatory_temple_attendence
						has_completed_focus = BAT_improve_working_conditions
					}
				}
				add_manpower = 5000
			}
			if = {
				limit = {
					has_idea = BAT_doing_a_project
				}
				remove_ideas = BAT_doing_a_project
			}
			hidden_effect = {
				clr_country_flag = BAK_embarking_project
			}
		}
	}

	BAT_mass_recruitment = {
		icon = rifles
		available = {
			hidden_trigger = {
				if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 > 1
						}
					}
					has_political_power > 4
				}
				else_if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 = 1
						}
					}
					has_political_power > 9
				}
				else = {
					has_political_power > 14
				}
				if = {
					limit = {
						has_completed_focus = BAT_control_collars
					}
					check_variable = {
						BAT_labourers > 22499
					}
				}
				else_if = {
					limit = {
						has_completed_focus = BAT_improve_working_conditions
					}
					check_variable = {
						BAT_labourers > 14999
					}
				}
				else = {
					check_variable = {
						BAT_labourers > 19999
					}
				}
			}
			NOT = {
				has_country_flag = BAK_embarking_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_completed_focus = BAT_service_for_freedom
		}

		custom_cost_trigger = {
				if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 > 1
						}
					}
					has_political_power > 4
				}
				else_if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 = 1
						}
					}
					has_political_power > 9
				}
				else = {
					has_political_power > 14
				}
			if = {
				limit = {
					has_completed_focus = BAT_control_collars
				}
				check_variable = {
					BAT_labourers > 22499
				}
			}
			else_if = {
				limit = {
					has_completed_focus = BAT_improve_working_conditions
				}
				check_variable = {
					BAT_labourers > 14999
				}
			}
			else = {
				check_variable = {
					BAT_labourers > 19999
				}
			}
		}
		custom_cost_text = decision_cost_20000_labour_pp_15

		days_remove = BAT_faster_integration_time_2?30

		ai_will_do = {
			base = 0
			modifier = {
				check_variable = { BAT_labourers > 70000 }
				add = 3
			}
			modifier = {
				check_variable = { BAT_labourers > 60000 }
				add = 2
			}
			modifier = {
				check_variable = { BAT_labourers > 50000 }
				add = 1.5
			}
			modifier = {
				check_variable = { BAT_labourers > 40000 }
				add = 1
			}
			modifier = {
				check_variable = { BAT_labourers < 30000 }
				add = -4
			}
			modifier = {
				check_variable = { BAT_labourers < 25000 }
				add = -8
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAK_increased_work_quotas"
			hidden_effect = {
				if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 > 1
						}
					}
					add_political_power = -5
				}
				else_if = {
					limit = {
						check_variable = {
							BAT_cost_variable_1 = 1
						}
					}
					add_political_power = -10
				}
				else = {
					add_political_power = -15
				}
				if = {
					limit = {
						has_completed_focus = BAT_control_collars
					}
					subtract_from_variable = {
						var = BAT_labourers
						value = 22500
					}
				}
				else_if = {
					limit = {
						has_completed_focus = BAT_improve_working_conditions
					}
					subtract_from_variable = {
						var = BAT_labourers
						value = 15000
					}
				}
				else = {
					subtract_from_variable = {
						var = BAT_labourers
						value = 20000
					}
				}
				set_country_flag = BAK_embarking_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_labour_army_factory"
			add_manpower = 15000
			add_popularity = {
				ideology = neutrality
				popularity = 0.01
			}
			hidden_effect = {
				clr_country_flag = BAK_embarking_project
			}
		}
	}
	
    BAT_import_labourers = {
		icon = infiltrate_state
		available = {
		    num_of_civilian_factories > 1
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_completed_focus = BAT_use_our_connections
		}
		modifier = {
			civilian_factory_use = 2
			political_power_factor = -0.05
		}

		cost = 30
        days_re_enable = 60
		days_remove = 15

		ai_will_do = {
			base = 0
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_import_labourers"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_import_labourers"
			custom_effect_tooltip = BAT_import_labourers_tp
			add_popularity = {
				ideology = fascism
				popularity = 0.01
			}
			add_to_variable = { 
			   	var = BAT_labourers 
			   	value = 20000 
			}
		}
	}
	
	BAT_importing_luxury_goods = {
		icon = ger_mefo_bills
		available = {
		    num_of_civilian_factories > 1
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_completed_focus = BAT_a_life_of_luxury
		}
		modifier = {
			civilian_factory_use = 2
			political_power_factor = -0.05
		}

		cost = 20
        days_re_enable = 60
		days_remove = 15

		ai_will_do = {
			base = 1
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_importing_luxury_goods"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_importing_luxury_goods"
			add_stability = 0.04
			add_popularity = {
				ideology = neutrality
				popularity = 0.01
			}
		}
	}
}

BAT_LMRD = {
    BAT_stimpaks_1 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 0
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
		}
		modifier = {
			civilian_factory_use = 1
			political_power_factor = -0.05
			research_speed_factor = -0.05
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 7499
			}
		}
		custom_cost_text = decision_cost_7500_test_subject
	
		days_remove = 90
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_stimpaks_1"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 7500
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_stimpaks_1"
		    country_event = {
				id = bat.32
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
				set_country_flag = BAT_stimpaks_1_done
			}
		}
	}
	
	BAT_horrigan_1 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 0
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
		}
		modifier = {
			civilian_factory_use = 1
			political_power_factor = -0.05
			research_speed_factor = -0.05
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 7499
			}
		}
		custom_cost_text = decision_cost_7500_test_subject
	
		days_remove = 90
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_horrigan_1"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 7500
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_horrigan_1"
		    country_event = {
				id = bat.33
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
				set_country_flag = BAT_horrigan_1_done
			}
		}
	}
	
	BAT_mkultra_1 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 0
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
		}
		modifier = {
			civilian_factory_use = 1
			political_power_factor = -0.05
			research_speed_factor = -0.05
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 7499
			}
		}
		custom_cost_text = decision_cost_7500_test_subject
	
		days_remove = 90
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_mkultra_1"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 7500
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_mkultra_1"
		    country_event = {
				id = bat.34
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
				set_country_flag = BAT_mkultra_1_done
			}
		}
	}
	
	BAT_ubercharge_1 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 0
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
		}
		modifier = {
			civilian_factory_use = 1
			political_power_factor = -0.05
			research_speed_factor = -0.05
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 7499
			}
		}
		custom_cost_text = decision_cost_7500_test_subject
	
		days_remove = 90
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_ubercharge_1"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 7500
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_ubercharge_1"
		    country_event = {
				id = bat.35
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
				set_country_flag = BAT_ubercharge_1_done
			}
		}
	}
	
	BAT_deathclaw_1 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 0
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
		}
		modifier = {
			civilian_factory_use = 1
			political_power_factor = -0.05
			research_speed_factor = -0.05
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 7499
			}
		}
		custom_cost_text = decision_cost_7500_test_subject
	
		days_remove = 90
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_deathclaw_1"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 7500
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_deathclaw_1"
		    country_event = {
				id = bat.36
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
				set_country_flag = BAT_deathclaw_1_done
			}
		}
	}
	
	BAT_stimpaks_2 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 1
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_country_flag = BAT_stimpaks_1_done
		}
		modifier = {
			civilian_factory_use = 2
			political_power_factor = -0.05
			research_speed_factor = -0.075
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 9999
			}
		}
		custom_cost_text = decision_cost_10000_test_subject
	
		days_remove = 120
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_stimpaks_2"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 10000
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_stimpaks_2"
		    country_event = {
				id = bat.37
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
				set_country_flag = BAT_stimpaks_2_done
			}
		}
	}
	
	BAT_horrigan_2 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 1
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_country_flag = BAT_horrigan_1_done
		}
		modifier = {
			civilian_factory_use = 2
			political_power_factor = -0.05
			research_speed_factor = -0.075
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 9999
			}
		}
		custom_cost_text = decision_cost_10000_test_subject
	
		days_remove = 120
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_horrigan_2"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 10000
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_horrigan_2"
		    country_event = {
				id = bat.38
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
				set_country_flag = BAT_horrigan_2_done
			}
		}
	}
	
	BAT_mkultra_2 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 1
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_country_flag = BAT_mkultra_1_done
		}
		modifier = {
			civilian_factory_use = 2
			political_power_factor = -0.05
			research_speed_factor = -0.075
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 9999
			}
		}
		custom_cost_text = decision_cost_10000_test_subject
	
		days_remove = 120
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_mkultra_2"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 10000
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_mkultra_2"
		    country_event = {
				id = bat.39
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
				set_country_flag = BAT_mkultra_2_done
			}
		}
	}
	
	BAT_ubercharge_2 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 1
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_country_flag = BAT_ubercharge_1_done
		}
		modifier = {
			civilian_factory_use = 2
			political_power_factor = -0.05
			research_speed_factor = -0.075
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 9999
			}
		}
		custom_cost_text = decision_cost_10000_test_subject
	
		days_remove = 120
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_ubercharge_2"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 10000
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_ubercharge_2"
		    country_event = {
				id = bat.40
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
				set_country_flag = BAT_ubercharge_2_done
			}
		}
	}
	
	BAT_deathclaw_2 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 1
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_country_flag = BAT_deathclaw_1_done
		}
		modifier = {
			civilian_factory_use = 2
			political_power_factor = -0.05
			research_speed_factor = -0.075
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 9999
			}
		}
		custom_cost_text = decision_cost_10000_test_subject
	
		days_remove = 120
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_deathclaw_2"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 10000
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_deathclaw_2"
		    country_event = {
				id = bat.41
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
				set_country_flag = BAT_deathclaw_2_done
			}
		}
	}
	
	BAT_stimpaks_3 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 1
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_country_flag = BAT_stimpaks_2_done
		}
		modifier = {
			civilian_factory_use = 3
			political_power_factor = -0.05
			research_speed_factor = -0.10
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 12499
			}
		}
		custom_cost_text = decision_cost_12500_test_subject
	
		days_remove = 150
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_stimpaks_3"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 12500
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_stimpaks_3"
		    country_event = {
				id = bat.42
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
			}
		}
	}
	
	BAT_horrigan_3 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 2
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_country_flag = BAT_horrigan_2_done
		}
		modifier = {
			civilian_factory_use = 3
			political_power_factor = -0.05
			research_speed_factor = -0.10
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 12499
			}
		}
		custom_cost_text = decision_cost_12500_test_subject
	
		days_remove = 150
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_horrigan_3"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 12500
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_horrigan_3"
		    country_event = {
				id = bat.43
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
			}
		}
	}
	
	BAT_mkultra_3 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 2
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_country_flag = BAT_mkultra_2_done
		}
		modifier = {
			civilian_factory_use = 3
			political_power_factor = -0.05
			research_speed_factor = -0.10
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 12499
			}
		}
		custom_cost_text = decision_cost_12500_test_subject
	
		days_remove = 150
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_mkultra_3"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 12500
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_mkultra_3"
		    country_event = {
				id = bat.44
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
			}
		}
	}
	
	BAT_ubercharge_3 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 2
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_country_flag = BAT_ubercharge_2_done
		}
		modifier = {
			civilian_factory_use = 3
			political_power_factor = -0.05
			research_speed_factor = -0.10
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 12499
			}
		}
		custom_cost_text = decision_cost_12500_test_subject
	
		days_remove = 150
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_ubercharge_3"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 12500
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_ubercharge_3"
		    country_event = {
				id = bat.45
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
			}
		}
	}
	
	BAT_deathclaw_3 = {
	    icon = generic_research
		available = {
		    num_of_civilian_factories > 2
			NOT = {
				has_country_flag = BAT_doing_a_LMRD_project
			}
		}
		visible = {
			OR = {
				has_idea = BAT_slavery
				has_idea = BAT_slavery_2
			}
			has_country_flag = BAT_deathclaw_2_done
		}
		modifier = {
			civilian_factory_use = 3
			political_power_factor = -0.05
			research_speed_factor = -0.10
		}
		
		custom_cost_trigger = {
			check_variable = {
				BAT_test_subjects > 12499
			}
		}
		custom_cost_text = decision_cost_12500_test_subject
	
		days_remove = 150
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_deathclaw_3"
			hidden_effect = {
			    subtract_from_variable = {
					var = BAT_test_subjects
					value = 12500
				}
				set_country_flag = BAT_doing_a_LMRD_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_deathclaw_3"
		    country_event = {
				id = bat.46
			}
			hidden_effect = {
				clr_country_flag = BAT_doing_a_LMRD_project
			}
		}
	}
}

BAT_special_projects = {
    BAT_AT_rifle_research_1 = {
	    icon = ger_military_buildup
		available = {
			NOT = {
				has_country_flag = BAT_doing_special_project
			}
		}
		visible = {
			has_tech = anti_tank_rifle_company_tech
			date > 1008.1.1
		}
		modifier = {
			civilian_factory_use = 3
			political_power_factor = -0.05
			research_speed_factor = -0.10
		}
		
	    cost = 25
		days_remove = 120
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_AT_rifle_research_1"
			hidden_effect = {
				set_country_flag = BAT_doing_special_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_AT_rifle_research_1"
		    set_technology = {
				BAT_Anti_Tank_Rifle_1 = 1
				popup = no
			}
			custom_effect_tooltip = BAT_AT_rifle_update_tp
			custom_effect_tooltip = BAT_next_rifle_1_tp
			hidden_effect = {
				clr_country_flag = BAT_doing_special_project
			}
		}
	}
	
	BAT_AT_rifle_research_2 = {
	    icon = ger_military_buildup
		available = {
			NOT = {
				has_country_flag = BAT_doing_special_project
			}
		}
		visible = {
			has_tech = BAT_Anti_Tank_Rifle_1
			date > 1009.1.1
		}
		modifier = {
			civilian_factory_use = 3
			political_power_factor = -0.05
			research_speed_factor = -0.10
		}
		
	    cost = 25
		days_remove = 120
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_AT_rifle_research_2"
			hidden_effect = {
				set_country_flag = BAT_doing_special_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_AT_rifle_research_2"
		    set_technology = {
				BAT_Anti_Tank_Rifle_2 = 1
				popup = no
			}
			custom_effect_tooltip = BAT_AT_rifle_update_tp
			custom_effect_tooltip = BAT_next_rifle_2_tp
			hidden_effect = {
				clr_country_flag = BAT_doing_special_project
			}
		}
	}
	
	BAT_AT_rifle_research_3 = {
	    icon = ger_military_buildup
		available = {
			NOT = {
				has_country_flag = BAT_doing_special_project
			}
		}
		visible = {
			has_tech = BAT_Anti_Tank_Rifle_2
			date > 1010.1.1
		}
		modifier = {
			civilian_factory_use = 3
			political_power_factor = -0.05
			research_speed_factor = -0.10
		}
		
	    cost = 25
		days_remove = 120
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_AT_rifle_research_3"
			hidden_effect = {
				set_country_flag = BAT_doing_special_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_AT_rifle_research_3"
		    set_technology = {
				BAT_Anti_Tank_Rifle_3 = 1
				popup = no
			}
			custom_effect_tooltip = BAT_AT_rifle_update_tp
			custom_effect_tooltip = BAT_next_rifle_3_tp
			hidden_effect = {
				clr_country_flag = BAT_doing_special_project
			}
		}
	}
	
	BAT_AT_rifle_research_4 = {
	    icon = ger_military_buildup
		available = {
			NOT = {
				has_country_flag = BAT_doing_special_project
			}
		}
		visible = {
			has_tech = BAT_Anti_Tank_Rifle_3
			date > 1011.1.1
		}
		modifier = {
			civilian_factory_use = 3
			political_power_factor = -0.05
			research_speed_factor = -0.10
		}
		
	    cost = 25
		days_remove = 120
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_AT_rifle_research_4"
			hidden_effect = {
				set_country_flag = BAT_doing_special_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_AT_rifle_research_4"
		    set_technology = {
				BAT_Anti_Tank_Rifle_4 = 1
				popup = no
			}
			custom_effect_tooltip = BAT_AT_rifle_update_tp
			custom_effect_tooltip = BAT_next_rifle_4_tp
			hidden_effect = {
				clr_country_flag = BAT_doing_special_project
			}
		}
	}
	
	BAT_AT_rifle_research_5 = {
	    icon = ger_military_buildup
		available = {
			NOT = {
				has_country_flag = BAT_doing_special_project
			}
		}
		visible = {
			has_tech = BAT_Anti_Tank_Rifle_4
			date > 1012.1.1
		}
		modifier = {
			civilian_factory_use = 3
			political_power_factor = -0.05
			research_speed_factor = -0.10
		}
		
	    cost = 25
		days_remove = 120
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_AT_rifle_research_5"
			hidden_effect = {
				set_country_flag = BAT_doing_special_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_AT_rifle_research_5"
		    set_technology = {
				BAT_Anti_Tank_Rifle_5 = 1
				popup = no
			}
			custom_effect_tooltip = BAT_AT_rifle_update_tp
			custom_effect_tooltip = BAT_next_rifle_5_tp
			hidden_effect = {
				clr_country_flag = BAT_doing_special_project
			}
		}
	}
	
	BAT_AT_rifle_research_6 = {
	    icon = ger_military_buildup
		available = {
			NOT = {
				has_country_flag = BAT_doing_special_project
			}
		}
		visible = {
			has_tech = BAT_Anti_Tank_Rifle_5
			date > 1013.1.1
		}
		modifier = {
			civilian_factory_use = 3
			political_power_factor = -0.05
			research_speed_factor = -0.10
		}
		
	    cost = 25
		days_remove = 120
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_AT_rifle_research_6"
			hidden_effect = {
				set_country_flag = BAT_doing_special_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_AT_rifle_research_6"
		    set_technology = {
				BAT_Anti_Tank_Rifle_6 = 1
				popup = no
			}
			custom_effect_tooltip = BAT_AT_rifle_update_tp
			custom_effect_tooltip = BAT_next_rifle_6_tp
			hidden_effect = {
				clr_country_flag = BAT_doing_special_project
			}
		}
	}
	
	BAT_AT_rifle_research_7 = {
	    icon = ger_military_buildup
		available = {
			NOT = {
				has_country_flag = BAT_doing_special_project
			}
		}
		visible = {
			has_tech = BAT_Anti_Tank_Rifle_6
			date > 1013.1.1
		}
		modifier = {
			civilian_factory_use = 3
			political_power_factor = -0.05
			research_speed_factor = -0.10
		}
		
	    cost = 25
		days_remove = 120
		fire_only_once = yes
		
		ai_will_do = {
			factor = 100
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_AT_rifle_research_7"
			hidden_effect = {
				set_country_flag = BAT_doing_special_project
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_AT_rifle_research_7"
		    set_technology = {
				BAT_Anti_Tank_Rifle_7 = 1
				popup = no
			}
			custom_effect_tooltip = BAT_AT_rifle_update_tp
			hidden_effect = {
				clr_country_flag = BAT_doing_special_project
			}
		}
	}
}

BAT_opium_production = {
	# the  * opium *  variable is how much available opium you have
	# * opium_factories * variable is how many factories from opium you have (opium/3 rounded down)
	# modifiers: 
	#     BAT_opium_production_bushels (country and state) - value
	#     BAT_opium_production_factor (country) - %
	BAT_opium_harvest = {
		days_mission_timeout = 120
		icon = unknown
		is_good = yes
		allowed = {
			always = no
		}
		available = {
			NOT = { has_variable = opium_plantations^0 }
			set_temp_variable = {
				predicted_opium_multiplier = 1
			}
			add_to_temp_variable = {
				predicted_opium_multiplier = modifier@BAT_opium_production_factor
			}
			multiply_temp_variable = {
				predicted_opium = predicted_opium_multiplier
			}
		}
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout BAT_opium_harvest"
			custom_effect_tooltip = BAT_opium_harvest_tp
			BAT_get_opium = yes
		}
	}
	
	BAT_build_plantation = {
		#on_map_mode = map_only
		state_target = yes
		target_array = core_states
		target_trigger = {
			FROM = {
				is_core_of = ROOT
				is_owned_and_controlled_by = ROOT
			}
		}
		available = {
			num_of_civilian_factories_available_for_projects > 2
		}
		icon = hol_draw_up_staff_plans
		days_remove = 60
		modifier = {
			civilian_factory_use = 3
		}
		visible = {
			FROM = {
				is_core_of = ROOT
				is_owned_and_controlled_by = ROOT
				NOT = {
					has_dynamic_modifier = {
						modifier = BAT_opium_plantation_mod
					}
				}
			}
		}
		target_root_trigger = {
			has_completed_focus = BAT_the_poppy_fields
			if = {
				limit = {
					is_ai = yes
				}
				NOT = { has_country_flag = BAT_building_plantation }
			}
		}
		cancel_if_not_visible = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_build_plantation target: [From.GetName]"
			set_country_flag = BAT_building_plantation
		}
		cancel_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision cancel BAT_build_plantation target: [From.GetName]"
			clr_country_flag = BAT_building_plantation
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_build_plantation target: [From.GetName]"
			clr_country_flag = BAT_building_plantation
			FROM = {
				add_dynamic_modifier = {
					modifier = BAT_opium_plantation_mod
				}
			}
			if = {
				limit = {
					NOT = { has_active_mission = BAT_opium_harvest }
				}
				activate_mission = BAT_opium_harvest
			}
			add_to_array = { opium_plantations = FROM }
			BAT_get_predicted_opium = yes
		}
		ai_will_do = {
			factor = 6
			modifier = {
				factor = 1.25
	
				capital_scope = {
					distance_to = {
						target = FROM
						value < 10
					}
				}
			}
			modifier = {
				factor = 1.25
	
				capital_scope = {
					distance_to = {
						target = FROM
						value < 25
					}
				}
			}
			modifier = {
				factor = 1.25
	
				capital_scope = {
					distance_to = {
						target = FROM
						value < 50
					}
				}
			}
		}
	}
}

foreign_politics = {
    BAT_conquer_the_savages = {
		icon = generic_intelligence_operation
		allowed = {
		    original_tag = BAT
		}
		available = {
			is_subject = no
		}
		targets = { TBK }
		targets_dynamic = yes
		target_trigger = {
			FROM = { 
			    original_tag = TBK
			}
		}
		target_root_trigger = {
		    has_completed_focus = BAT_strike_at_tobuck
		}
		visible = {
			has_completed_focus = BAT_strike_at_tobuck
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { 
				    has_war_with = ROOT 
				}
			}
		}
		cancel_trigger = {
			OR = {
				is_subject = yes
				FROM = {
					OR = {
						exists = no
						is_subject = yes
						has_war_with = ROOT
					}
				}
			}
		}
		
		cost = 20
		fire_only_once = yes
		
		days_remove = 30
		war_with_target_on_remove = yes
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_conquer_the_savages target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = 1000
                }
            }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_conquer_the_savages target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = -1000
                }
            }
			hidden_effect = {
				create_wargoal = { 
					type = annex_everything 
					target = TBK
				}
			}
			declare_war_on = {
                target = TBK
                type = annex_everything
            }
		}
	}
	
	BAT_conquer_the_savages_2 = {
		icon = generic_intelligence_operation
		allowed = {
		    original_tag = BAT
		}
		available = {
			is_subject = no
		}
		targets = { ZAR }
		targets_dynamic = yes
		target_trigger = {
			FROM = { 
			    original_tag = ZAR
			}
		}
		target_root_trigger = {
		    has_completed_focus = BAT_strike_at_tobuck
		}
		available = {
		    692 = {
			    OR = {
				    is_owned_and_controlled_by = ROOT
					is_owned_and_controlled_by = ZAR
				}
			}
			728 = {
			    OR = {
				    is_owned_and_controlled_by = ROOT
					is_owned_and_controlled_by = ZAR
				}
			}
			745 = {
			    OR = {
				    is_owned_and_controlled_by = ROOT
					is_owned_and_controlled_by = ZAR
				}
			}
			729 = {
			    OR = {
				    is_owned_and_controlled_by = ROOT
					is_owned_and_controlled_by = ZAR
				}
			}
		}
		visible = {
			has_completed_focus = BAT_strike_at_tobuck
			FROM = {
				exists = yes
				is_subject = no
				is_in_faction = no
				NOT = { 
				    has_war_with = ROOT 
				}
			}
		}
		cancel_trigger = {
			OR = {
				is_subject = yes
				FROM = {
					OR = {
						exists = no
						is_subject = yes
						has_war_with = ROOT
					}
				}
			}
		}
		
		cost = 20
		fire_only_once = yes
		
		days_remove = 30
		war_with_target_on_remove = yes
		
		ai_will_do = {
			factor = 100
			modifier = {
				factor = 0
				has_war = yes
			}
		}
		
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision BAT_conquer_the_savages_2 target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = 1000
                }
            }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove BAT_conquer_the_savages_2 target: [From.GetName]"
			FROM = {
                add_ai_strategy = {
                    type = prepare_for_war
                    id = ROOT
                    value = -1000
                }
            }
			hidden_effect = {
				create_wargoal = { 
					type = annex_everything 
					target = ZAR
				}
			}
			declare_war_on = {
                target = ZAR
                type = annex_everything
            }
		}
	}
}

political_actions = {
    BAT_coring_1 = {
        icon = generic_nationalism
        available = {
            FROM = {
                is_controlled_by = ROOT
				compliance > 0.4
            }
        }
        visible = {
            has_completed_focus = BAT_secure_tobuck
            FROM = {
                is_owned_by = ROOT
            }
        }
        target_root_trigger = {
            has_completed_focus = BAT_secure_tobuck
        }
        state_target = yes
        targets = { 692 728 729 745 730 746 747 }
        on_map_mode = map_and_decisions_view
    
        ai_will_do = {
            base = 1000
        }

        cost = 0
        fire_only_once = yes
    
        complete_effect = {
            log = "[GetDateText]: [Root.GetName]: Decision remove BAT_coring_1"
            FROM = {
               add_core_of = ROOT 
            }
        }
    }
}