STW_duchess_support = { # for when theres a regent
	STW_stw_duchess_test = {
		icon = griffin
		allowed = { 
			always = yes # Controlled by category
		}
		visible = { 
			always = yes # Making it visible
		}
		available = { # Making it available to take
			always = no
		}
		ai_will_do = {
			factor = 10
		}
		cost = 50
		
		#days_remove = 150
		#modifier = {}
		
		#fire_only_once = no
		#days_re_enable = 70
		
		complete_effect = {

			log = "[GetDateText]: [Root.GetName]: Decision STW_stw_duchess_test"
}

		#remove_effect = {}
	}
	
	STW_factories_for_the_factory_god_stw = { # STW gives to GRI
		icon = griffin
		allowed = { 
			always = yes # Controlled by category
		}
		visible = { 
			always = no # Making it visible
		}
		available = { # Making it available to take
			always = no
		}
		ai_will_do = {
			factor = 10
		}
		cost = 50
		
		days_remove = 90
		
		modifier = {
			civilian_factory_use = 1
		}

		#fire_only_once = no
		#days_re_enable = 70
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove STW_factories_for_the_factory_god_stw"
			GRI = {
				country_event = { id = strawberry.15 }
			}
		}
	}
	
	STW_factories_for_the_factory_god_gri_medium = { # GRI gives to STW
		icon = griffin
		allowed = { 
			always = yes # Controlled by category
		}
		visible = { 
			always = no # Making it visible
		}
		available = { # Making it available to take
			always = no
		}
		ai_will_do = {
			factor = 10
		}
		cost = 50
		
		days_remove = 90
		
		modifier = {
			civilian_factory_use = 2
		}

		#fire_only_once = no
		#days_re_enable = 70
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove STW_factories_for_the_factory_god_gri_medium"
			if = {
				limit = {
					STW = {
						has_country_flag = STW_cold_and_demanding
					}
				}
				STW = {
					country_event = { id = strawberry.162 }
				}
				else = {
					STW = {
						country_event = { id = strawberry.161 }
					}
				}
			}
		}
	}
	
	STW_factories_for_the_factory_god_gri_large = { # GRI gives to STW
		icon = griffin
		allowed = { 
			always = yes # Controlled by category
		}
		visible = { 
			always = no # Making it visible
		}
		available = { # Making it available to take
			always = no
		}
		ai_will_do = {
			factor = 10
		}
		cost = 50
		
		days_remove = 90
		
		modifier = {
			civilian_factory_use = 3
		}

		#fire_only_once = no
		#days_re_enable = 70
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove STW_factories_for_the_factory_god_gri_large"
			if = {
				limit = {
					STW = {
						has_country_flag = STW_cold_and_demanding
					}
				}
				STW = {
					country_event = { id = strawberry.162 }
				}
				else = {
					STW = {
						country_event = { id = strawberry.161 }
					}
				}
			}
		}
	}
}

STW_archon_relations = { # for when gabriella is in STW
	STW_duchess_archon_test = {
		icon = griffin
		allowed = { 
			always = yes # Controlled by category
		}
		visible = { 
			always = yes # Making it visible
		}
		available = { # Making it available to take
			always = no
		}
		ai_will_do = {
			factor = 10
		}
		cost = 50
		
		#days_remove = 150
		#modifier = {}
		
		#fire_only_once = no
		#days_re_enable = 70
		
		complete_effect = {

			log = "[GetDateText]: [Root.GetName]: Decision STW_duchess_archon_test"
}

		#remove_effect = {}
	}
	
	
}

STW_resource_excavation = {

}
foreign_politics = {
	STW_alliance = {
		icon = griffon
		cost = 50
		fire_only_once = yes
		ai_will_do = {
			factor = 160
		}
		allowed = {
			original_tag = STW
		}
		visible = {
			is_subject = no
			OR = {
				is_faction_leader = yes
				is_in_faction = no
			}
			FROM = {
				exists = yes
				is_subject = no
				OR = {
					is_faction_leader = yes
					is_in_faction = no
				}
			}
			NOT = {
				has_country_flag = herzland_diplomacy_blocked
			}
		}
		available = {
			FROM = {
				has_war = no
			}
			custom_trigger_tooltip = {
				tooltip = diplomacy_limited_tooltip
				OR = {
					hidden_trigger = {
						has_government = communism
						NOT = {
							has_country_flag = stw_emperor_ded
						}
						FROM = {
							has_government = communism
							has_country_flag = have_regular_puppets
							NOT = {
								has_country_flag = herzland_diplomacy_blocked
							}
						}
					}
					hidden_trigger = {
						has_government = neutrality
						NOT = {
							has_country_flag = stw_emperor_ded
						}
						FROM = {
							OR = {
								has_government = neutrality
								has_government = democratic
							}
							NOT = {
								has_country_flag = have_regular_puppets
								has_country_flag = herzland_diplomacy_blocked
							}
						}
					}
					hidden_trigger = {
						has_government = fascism
						NOT = {
							has_country_flag = stw_emperor_ded
						}
						FROM = {
							has_government = fascism
							NOT = {
								has_country_flag = herzland_diplomacy_blocked
							}
						}
					}
					hidden_trigger = {
						has_country_flag = stw_emperor_ded
						FROM = {
							NOT = {
								has_country_flag = have_regular_puppets
								has_country_flag = herzland_diplomacy_blocked
							}
						}
					}
				}
			}
			has_war = no
		}
		targets = { ANG PYT KAT FEA YAL ROU BRZ }
		target_trigger = {
			FROM = { 
				OR = {
					original_tag = ANG
					original_tag = PYT
					original_tag = KAT
					original_tag = FEA
					original_tag = YAL
					original_tag = ROU
					original_tag = BRZ
				}
			}
		}
		target_root_trigger = {
			is_subject = no
			OR = {
				is_faction_leader = yes
				is_in_faction = no
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision STW_alliance target: [From.GetName]"
			if = {
				limit = {
					is_faction_leader = yes
				}
				FROM = {
					country_event = generic.5
				}
			}
			else_if = {
				limit = {
					FROM = {
						is_faction_leader = yes
					}
				}
				FROM = {
					country_event = generic.2
				}
			}
			else = {
				if = {
					limit = {
						has_country_flag = stw_emperor_ded
					}
					create_faction = STW_ANTI_LP_ALLIANCE
				}
				else = {
					create_faction = STW_ANTI_GRI_ALLIANCE
				}
				FROM = {
					country_event = generic.5
				}
			}
		}
	}
}

