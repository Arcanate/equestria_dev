foreign_politics = {
	#CHN_idea_test = {
	#	visible = {
	#		original_tag = CHN
	#	}
	#	complete_effect = {
	#		add_ideas = continous_war_plan_CHN
	#	}
	#}
	CHN_demand_remilitarization = {
		icon = rifles
		visible = {
			is_subject = yes
			overlord = {
				original_tag = EQS
				has_government = democratic
			}
			OR = {
				has_autonomy_state = autonomy_demilitarized_puppet
				has_autonomy_state = autonomy_demilitarized_integrated_puppet
				has_autonomy_state = autonomy_demilitarized_colony
			}
		}

		available = {
			has_war = yes
		}

		cost = 250

		days_re_enable = 180

		ai_will_do = {
			factor = 0
			modifier = {
				overlord = {
					has_war = yes
					OR = {
						surrender_progress > 0.2
						enemies_strength_ratio > 0.7
					}
				}
				add = 100
			}
			modifier = {
				surrender_progress > 0.05
				add = 200
			}
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_demand_remilitarization"
			overlord = {
				country_event = { id = changelings.40 days = 5 }
			}
		}
	}
}
CHN_form_changelingia = {
	CHN_form_changelingia_decision = {
		icon = changeling_icon
		available = {
			has_government = fascism
			controls_canterlot = yes
			EQS = {
				OR = {
					is_subject_of = ROOT
					has_capitulated = yes
					exists = no
				}
			}
			CRY = {
				OR = {
					is_subject_of = ROOT
					has_capitulated = yes
					exists = no
				}
			}
		}
		visible = {
			has_global_flag = the_war
			has_government = fascism
		}
		cost = 50
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_form_changelingia_decision"
			drop_cosmetic_tag = yes
			set_cosmetic_tag = CHN_changelingia
			add_political_power = 150
		}
		ai_will_do = {
			factor = 100
			modifier = {
				has_political_power > 150
				factor = 1
			}
		}
		fire_only_once = yes
	}
}
CHN_queens_tower = {
	CHN_queens_tower_effort = {
		icon = generic_construction
		available = {
			has_government = fascism
		}
		cost = 25

		days_remove = 70
		#is_good = yes
		visible = {
			has_government = fascism
			NOT = {
				has_country_flag = {
					flag = queens_tower_flag
					value > 6
				}
			}
		}
		modifier = {
			civilian_factory_use = 1
		}
		cancel_trigger = {
			NOT = {
				has_government = fascism
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_queens_tower_effort"
			modify_country_flag = { flag = queens_tower_flag value = 2 }
		}
		ai_will_do = {
			factor = 1
			modifier = {
				has_political_power > 160
				factor = 10
			}
		}
	}
	CHN_queens_tower_finish = {
		icon = changeling_icon
		available = {
			has_government = fascism
			custom_trigger_tooltip = {
				tooltip = queens_tower_finish_trigger_tt
				has_country_flag = {
					flag = queens_tower_flag
					value > 6
				}
			}
			hidden_trigger = {
				has_country_flag = {
					flag = queens_tower_flag
					value > 6
				}
			}
		}
		cost = 50

		days_remove = 70

		fire_only_once = yes
		visible = {
			has_government = fascism
		}
		modifier = {
			civilian_factory_use = 2
		}
		cancel_trigger = {
			NOT = {
				has_government = fascism
			}
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_queens_tower_finish"
			add_ideas = CHN_queens_tower_idea
			add_political_power = 200
			251 = {
				add_extra_state_shared_building_slots = 1
			}
		}
		ai_will_do = {
			factor = 1
		}
	}
}
CHN_domestic_affairs = {
	CHN_extra_pay = {
		icon = eng_trade_unions_support
		cost = 50
		days_remove = 70
		#is_good = yes
		ai_will_do = {
			factor = 0
		}

		visible = {
			has_completed_focus = CHN_support_workers
		}
		modifier = {
			industrial_capacity_factory = 0.05
		}
	}
	CHN_extra_pay_construction = {
		icon = generic_construction
		cost = 50
		days_remove = 70
		#is_good = yes
		ai_will_do = {
			factor = 0
		}

		visible = {
			has_completed_focus = CHN_support_workers
		}
		modifier = {
			production_speed_buildings_factor = 0.05
		}
	}
	CHN_maternal_program = {
		icon = ger_mefo_bills
		cost = 50
		days_remove = 300
		#is_good = yes
		ai_will_do = {
			factor = 0
		}
		visible = {
			has_completed_focus = CHN_support_workers
		}
		modifier = {
			monthly_population = 0.15
		}
	}
}

CHN_Attache = {
	CHN_Cancel_Attache = {
		icon = generic_army_support

		available = {
			has_idea = CHN_GRI_Attache_For_CHN
		}

		cost = 5

		fire_only_once = yes

		ai_will_do = {
			factor = 0
			modifier = {
				add = 1
				OR = {
					focus_progress = { focus = thoraxian_betrayal progress > 0 }
					#focus_progress = { focus = CHN_invasion_of_griffonia progress > 0 }
					any_of_scopes = {
						array = global.majors
						is_major = yes
						exists = yes
						OR = {
							has_war_with = ROOT
							has_wargoal_against = ROOT
							is_justifying_wargoal_against = ROOT
						}
					}
				}
			}
		}

		target_root_trigger = {
			has_idea = CHN_GRI_Attache_For_CHN
		}

		target_trigger = {
			FROM = {
				has_idea = CHN_GRI_Attache_For_GRI
			}
		}

		targets = {
			GRI
		}

		visible = {
			has_idea = CHN_GRI_Attache_For_CHN
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_Cancel_Attache"
			effect_tooltip = {
				remove_ideas = CHN_GRI_Attache_For_CHN
			}
			GRI = {
				effect_tooltip = {
					remove_ideas = CHN_GRI_Attache_For_GRI
				}
				country_event = { id = changelingattache.1 days = 10 }
			}
		}
	}
}

CHN_war_time_actions = {
	CHN_stop_war_plan = {

		available = {
			has_idea = continous_war_plan_CHN
		}

		cost = 20

		days_remove = 25

		ai_will_do = {
			factor = 0
			modifier = {
				OR = {
					has_war = no
					EQS = {
						is_subject_of = ROOT
						has_capitulated = yes
						exists = no
					}
					has_stability < 0.6
					has_war_support < 0.6
				}
				add = 100
			}
		}

		visible = {
			has_idea = continous_war_plan_CHN
		}
		modifier = {
			political_power_gain = -0.1
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_stop_war_plan"
			remove_ideas = continous_war_plan_CHN
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_stop_war_plan"

		}
	}

}
CHN_protectorates = {
	CHN_manehattan_protectorate = {
		icon = manehattan
		available = {
			has_government = fascism
			controls_canterlot = yes
			EQS = {
				OR = {
					is_subject_of = ROOT
					has_capitulated = yes
					exists = no
				}
			}
			custom_trigger_tooltip = {
				tooltip = controls_manehattan_region_tt
				OR = {
					227 = { is_owned_and_controlled_by = ROOT }
					232 = { is_owned_and_controlled_by = ROOT }
					159 = { is_owned_and_controlled_by = ROOT }
					158 = { is_owned_and_controlled_by = ROOT }
					12 = { is_owned_and_controlled_by = ROOT }
					any_owned_state = {
						OR = {
							region = 45
							region = 46
							region = 47
							region = 62
						}
						is_fully_controlled_by = ROOT
					}
				}
				NOT = {
					has_country_flag = released_manehattan_puppet
				}
			}
			NOT = {
				MAN = { exists = yes }
				ELF = { exists = yes }
			}
		}
		
		cancel_trigger = {
			OR = {
				ELF = { exists = yes }
				75 = { NOT = { is_owned_and_controlled_by = ROOT } }
			}
		}
		
		#available = { hidden_trigger = { has_political_power > 49 has_manpower > 21999 } }
		
		#custom_cost_trigger = {
		#	has_political_power > 49
		#	has_manpower > 21999
		#}
		
		#custom_cost_text = decision_cost_50_pp_manpower_22000
		
        cost = 25
		days_remove = 60

		ai_will_do = {
			factor = 100
		}

		visible = {
			has_government = fascism
			controls_canterlot = yes
			EQS = {
				OR = {
					is_subject_of = ROOT
					has_capitulated = yes
					exists = no
				}
			}
			NOT = {
				has_country_flag = released_manehattan_puppet
			}
			NOT = {
				MAN = { exists = yes }
			}
		}
		modifier = {
			political_power_gain = -0.15
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_manehattan_protectorate"
			country_event = MAN_ELF.1800
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_manehattan_protectorate"
			#hidden_effect = {
			#	add_political_power = -50
			#	add_manpower = -22000
			#}
		}
	}
	CHN_baltimare_protectorate = {
		icon = statue
		available = {
			has_government = fascism
			controls_canterlot = yes
			EQS = {
				OR = {
					is_subject_of = ROOT
					has_capitulated = yes
					exists = no
				}
			}
			custom_trigger_tooltip = {
				tooltip = controls_baltimare_region_tt
				OR = {
					13 = { is_owned_and_controlled_by = ROOT }
					28 = { is_owned_and_controlled_by = ROOT }
					27 = { is_owned_and_controlled_by = ROOT }
					82 = { is_owned_and_controlled_by = ROOT }
					90 = { is_owned_and_controlled_by = ROOT }
					50 = { is_owned_and_controlled_by = ROOT }
					88 = { is_owned_and_controlled_by = ROOT }
					86 = { is_owned_and_controlled_by = ROOT }
					33 = { is_owned_and_controlled_by = ROOT }
					25 = { is_owned_and_controlled_by = ROOT }
					15 = { is_owned_and_controlled_by = ROOT }
					26 = { is_owned_and_controlled_by = ROOT }
					34 = { is_owned_and_controlled_by = ROOT }
					35 = { is_owned_and_controlled_by = ROOT }
					352 = { is_owned_and_controlled_by = ROOT }
					31 = { is_owned_and_controlled_by = ROOT }
					37 = { is_owned_and_controlled_by = ROOT }
					17 = { is_owned_and_controlled_by = ROOT }
					36 = { is_owned_and_controlled_by = ROOT }
					24 = { is_owned_and_controlled_by = ROOT }
					81 = { is_owned_and_controlled_by = ROOT }
					30 = { is_owned_and_controlled_by = ROOT }
					350 = { is_owned_and_controlled_by = ROOT }
					351 = { is_owned_and_controlled_by = ROOT }
					353 = { is_owned_and_controlled_by = ROOT }
					79 = { is_owned_and_controlled_by = ROOT }
					52 = { is_owned_and_controlled_by = ROOT }
					32 = { is_owned_and_controlled_by = ROOT }
					81 = { is_owned_and_controlled_by = ROOT }
					16 = { is_owned_and_controlled_by = ROOT }
					83 = { is_owned_and_controlled_by = ROOT }
					348 = { is_owned_and_controlled_by = ROOT }
					221 = { is_owned_and_controlled_by = ROOT }
					113 = { is_owned_and_controlled_by = ROOT }
					84 = { is_owned_and_controlled_by = ROOT }
					115 = { is_owned_and_controlled_by = ROOT }
					112 = { is_owned_and_controlled_by = ROOT }
					63 = { is_owned_and_controlled_by = ROOT }
					116 = { is_owned_and_controlled_by = ROOT }
				}
			}
			BAL = { exists = no }
		}

		cost = 25
		days_remove = 60

		ai_will_do = {
			factor = 100
		}

		visible = {
			has_government = fascism
			controls_canterlot = yes
			EQS = {
				OR = {
					is_subject_of = ROOT
					has_capitulated = yes
					exists = no
				}
			}
			NOT = {
				BAL = { exists = yes }
			}
		}
		modifier = {
			political_power_gain = -0.15
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_baltimare_protectorate"
			custom_effect_tooltip = release_baltimare_protectorate
			hidden_effect = {
				BAL = {
				set_country_flag = is_changeling_puppet
				set_cosmetic_tag = BAL_CHN
				set_stability = 0.55
				set_war_support = 0.55
				create_country_leader = {
					name = "Protector Larynx"
					desc = ""
					picture = "Larynx_BAL.tga"
					expire = "1965.1.1"
					ideology = nazism
					traits = {
					}
				}
				create_country_leader = {
	                name = "Unknown"
					picture = "Governor.tga"
	                expire = "1965.1.1"
	                ideology = despotism
	                traits = {
	                }
                }
				create_country_leader = {
	                name = "Daring Do"
					picture = "Daring Do.tga"
	                expire = "1965.1.1"
	                ideology = liberalism
	                traits = {
	                }
                }
				create_country_leader = {
	                name = "Diamond Chaffer"
					picture = "Chafer.tga"
	                expire = "1965.1.1"
	                ideology = leninism
	                traits = {
	                }
                }
				set_party_name = { 
				    ideology = democratic 
				    name = BAL_protectorate_dem
				    long_name = BAL_protectorate_dem_long 
				}
				set_party_name = { 
				    ideology = fascism 
				    name = BAL_protectorate_fas 
				    long_name = BAL_protectorate_fas_long 
				}
				set_party_name = { 
				    ideology = communism 
				    name = BAL_protectorate_com 
				    long_name = BAL_protectorate_com_long 
				}
				set_party_name = { 
				    ideology = neutrality 
				    name = BAL_protectorate_neu 
				    long_name = BAL_protectorate_neu_long 
				}
				remove_ideas = {
				    eqs_civil_war
				    disrupted_communications
				    pony_race
				}
				add_ideas = {
				    changeling_race
					BAL_PRO_no_recruits_0
				}
				add_manpower = 10000
				set_technology = {
					popup = no
				    pony_race = 0
					changeling_race = 1
				}
				set_variable = {
			        var = BAL_changeling_garrison
		 	        value = 15
		        }
				clamp_variable = {
                    var = BAL_changeling_garrison
                    min = 1
                    max = 100
                }
				set_variable = {
			        var = BAL_resistance
		 	        value = 27
		        }
				clamp_variable = {
                    var = BAL_resistance
                    min = 1
                    max = 100
                }
				set_variable = {
			        var = BAL_natives
		 	        value = 10
		        }
				clamp_variable = {
                    var = BAL_natives
                    min = 1
                    max = 100
                }
				set_variable = {
			        var = BAL_stress
		 	        value = 7
		        }
				clamp_variable = {
                    var = BAL_stress
                    min = 1
                    max = 100
					}
                }
			}
			hidden_effect = {
				release_puppet = BAL
				CHN = {
					BAL = { transfer_technology = yes }
				}
				BAL = {
					#load_focus_tree = BAL_PRO_changeling_focus ## disabled for now ##
					load_focus_tree = generic_focus
					transfer_state = 50 
				    transfer_state = 88 
					transfer_state = 86 
					transfer_state = 33 
					transfer_state = 25 
					transfer_state = 15 
					transfer_state = 26 
					transfer_state = 34 
					transfer_state = 35 
					transfer_state = 352 
					transfer_state = 31 
					transfer_state = 37 
					transfer_state = 17 
					transfer_state = 36 
					transfer_state = 24 
					transfer_state = 81 
					transfer_state = 30 
					transfer_state = 350 
					transfer_state = 351 
					transfer_state = 353 
					transfer_state = 79 
					transfer_state = 52 
					transfer_state = 32 
					transfer_state = 16 
					transfer_state = 83 
					transfer_state = 348 
					transfer_state = 27 
					transfer_state = 28 
					transfer_state = 82 
					transfer_state = 13 
					transfer_state = 90
					transfer_state = 221
					transfer_state = 115
					transfer_state = 84
					transfer_state = 112
					transfer_state = 113
					transfer_state = 63
					transfer_state = 116
					country_event = { days = 90 id = bal_pro.0 }
					country_event = { days = 120 id = bal_pro.1 }
					if = {
			            limit = { has_unit_leader = 24601 }
			            remove_unit_leader = 24601
		            }
				    if = {
			            limit = { has_unit_leader = 24666 }
			            remove_unit_leader = 24666
		            }
				    if = {
			            limit = { has_unit_leader = 24667 }
			            remove_unit_leader = 24667
		            }
				    if = {
			            limit = { has_unit_leader = 24668 }
			            remove_unit_leader = 24668
		            }
				}
				50 = {
				    add_core_of = BAL
				}
				88 = {
				    add_core_of = BAL
				}
				86 = {
				    add_core_of = BAL
				}
				33 = {
				    add_core_of = BAL
				}
				25 = {
				    add_core_of = BAL
				}
				15 = {
				    add_core_of = BAL
				}
				26 = {
				    add_core_of = BAL
				}
				34 = {
				    add_core_of = BAL
				}
				35 = {
				    add_core_of = BAL
				}
				352 = {
				    add_core_of = BAL
				}
				31 = {
				    add_core_of = BAL
				}
				37 = {
				    add_core_of = BAL
				}
				17 = {
				    add_core_of = BAL
				}
				36 = {
				    add_core_of = BAL
				}
				24 = {
				    add_core_of = BAL
				}
				81 = {
				    add_core_of = BAL
				}
				30 = {
				    add_core_of = BAL
				}
				351 = {
				    add_core_of = BAL
				}
				353 = {
				    add_core_of = BAL
				}
				79 = {
				    add_core_of = BAL
				}
				52 = {
				    add_core_of = BAL
				}
				32 = {
				    add_core_of = BAL
				}
				16 = {
				    add_core_of = BAL
				}
				83 = {
				    add_core_of = BAL
				}
				348 = {
				    add_core_of = BAL
				}
				27 = {
				    add_core_of = BAL
				}
				28 = {
				    add_core_of = BAL
				}
				82 = {
				    add_core_of = BAL
				}
				13 = {
				    add_core_of = BAL
				}
				90 = {
				    add_core_of = BAL
				}
				115 = {
				    add_core_of = BAL
				}
				84 = {
				    add_core_of = BAL
				}
				113 = {
				    add_core_of = BAL
				}
				112 = {
				    add_core_of = BAL
				}
				63 = {
				    add_core_of = BAL
				}
				116 = {
				    add_core_of = BAL
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_baltimare_protectorate"
		}
	}
	
	CHN_desert_protectorate = {
		available = {
			has_government = fascism
			controls_canterlot = yes
			EQS = {
				OR = {
					is_subject_of = ROOT
					has_capitulated = yes
					exists = no
				}
			}
			custom_trigger_tooltip = {
				tooltip = controls_confederates_tt
				OR = {
					19 = { is_owned_and_controlled_by = ROOT }
					20 = { is_owned_and_controlled_by = ROOT }
					21 = { is_owned_and_controlled_by = ROOT }
					22 = { is_owned_and_controlled_by = ROOT }
					23 = { is_owned_and_controlled_by = ROOT }
					85 = { is_owned_and_controlled_by = ROOT }
					42 = { is_owned_and_controlled_by = ROOT }
					71 = { is_owned_and_controlled_by = ROOT }
					44 = { is_owned_and_controlled_by = ROOT }
					47 = { is_owned_and_controlled_by = ROOT }
					51 = { is_owned_and_controlled_by = ROOT }
					92 = { is_owned_and_controlled_by = ROOT }
					43 = { is_owned_and_controlled_by = ROOT }
					91 = { is_owned_and_controlled_by = ROOT }
					49 = { is_owned_and_controlled_by = ROOT }
					89 = { is_owned_and_controlled_by = ROOT }
					78 = { is_owned_and_controlled_by = ROOT }
					93 = { is_owned_and_controlled_by = ROOT }
					80 = { is_owned_and_controlled_by = ROOT }
					94 = { is_owned_and_controlled_by = ROOT }
					100 = { is_owned_and_controlled_by = ROOT }
					66 = { is_owned_and_controlled_by = ROOT }
					38 = { is_owned_and_controlled_by = ROOT }
					118 = { is_owned_and_controlled_by = ROOT }
					87 = { is_owned_and_controlled_by = ROOT }
					119 = { is_owned_and_controlled_by = ROOT }
					117 = { is_owned_and_controlled_by = ROOT }
					114 = { is_owned_and_controlled_by = ROOT }
					121 = { is_owned_and_controlled_by = ROOT }
					111 = { is_owned_and_controlled_by = ROOT }
					123 = { is_owned_and_controlled_by = ROOT }
					122 = { is_owned_and_controlled_by = ROOT }
					120 = { is_owned_and_controlled_by = ROOT }
				}
			}
			SCS = { exists = no }
		}

		cost = 25
		days_remove = 60

		ai_will_do = {
			factor = 100
		}

		visible = {
			has_government = fascism
			controls_canterlot = yes
			EQS = {
				OR = {
					is_subject_of = ROOT
					has_capitulated = yes
					exists = no
				}
			}
			SCS = { exists = no }
		}
		modifier = {
			political_power_gain = -0.15
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_desert_protectorate"
			hidden_effect = {
				add_cores_SCS = yes
				release_puppet = SCS
			}
			custom_effect_tooltip = release_confederate_protectorate

			SCS = {
				hidden_effect = {
					set_country_flag = is_changeling_puppet
					set_cosmetic_tag = SCS_CHN
					create_country_leader = {
						name = "Governor-Protector"
						desc = ""
						picture = "GovernorBrew.tga"
						expire = "1965.1.1"
						ideology = nazism
						traits = {

						}
					}
				}
				transfer_state = 94
				transfer_state = 100
				transfer_state = 66
				transfer_state = 38
				transfer_state = 118
				transfer_state = 87
				transfer_state = 119
				transfer_state = 117
				transfer_state = 114
				transfer_state = 121
				transfer_state = 111
				transfer_state = 123
				transfer_state = 122
				transfer_state = 120
				94 = {
				    add_core_of = SCS
				}
				100 = {
				    add_core_of = SCS
				}
				66 = {
				    add_core_of = SCS
				}
				38 = {
				    add_core_of = SCS
				}
				118 = {
				    add_core_of = SCS
				}
				87 = {
				    add_core_of = SCS
				}
				119 = {
				    add_core_of = SCS
				}
				117 = {
				    add_core_of = SCS
				}
				114 = {
				    add_core_of = SCS
				}
				121 = {
				    add_core_of = SCS
				}
				111 = {
				    add_core_of = SCS
				}
				123 = {
				    add_core_of = SCS
				}
				122 = {
				    add_core_of = SCS
				}
				120 = {
				    add_core_of = SCS
				}
			}
			hidden_effect = {
				CHN = {
					SCS = { transfer_technology = yes }
				}
				SCS = {
					load_focus_tree = generic_focus
				}
				remove_ideas = SCS_buffalo_issue_idea
				remove_ideas = SCS_royalism_tracker
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_desert_protectorate"
		}
	}
	CHN_one_jak_protectorate = {
		visible = {
			has_government = fascism
			JAK = { is_subject_of = ROOT }
			YAK = { is_subject_of = ROOT }
		}
		fire_only_once = yes
		ai_will_do = {
			factor = 0
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_one_jak_protectorate"
			JAK = {
				annex_country = { target = YAK transfer_troops = yes }
				drop_cosmetic_tag = yes
				set_cosmetic_tag = YAK_CHN
			}
		}
	}
	CHN_one_yak_protectorate = {
		visible = {
			has_government = fascism
			JAK = { is_subject_of = ROOT }
			YAK = { is_subject_of = ROOT }
		}
		ai_will_do = {
			factor = 1
		}
		fire_only_once = yes
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_one_yak_protectorate"
			YAK = { annex_country = { target = JAK transfer_troops = yes } }
		}
	}
	CHN_olenia_protectorate = {
		available = {
			has_government = fascism
			OR = {
				OLE = { is_subject_of = ROOT }
				has_core_occupation_modifier = {
					occupied_country_tag = OLE
					modifier = compliance_40
				}
			}
		}

		cost = 15

		days_remove = 5

		fire_only_once = yes

        ai_will_do = {
            factor = 1
        }

		visible = {
			has_government = fascism
			OR = {
				OLE = { is_subject_of = ROOT }
				any_occupied_country = {
					tag = OLE
				}
			}
		}

		target_trigger = {
			FROM = { tag = OLE }
		}

		targets = { OLE }
		target_non_existing = yes

		modifier = {
			political_power_gain = -0.15
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_olenia_protectorate"
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_olenia_protectorate"
			hidden_effect = {
				every_state = {
					limit = {
						is_claimed_by = CHN
					}
					set_state_flag = chn_claim
				}
				if = {
					limit = { has_dlc = "La Resistance" }
					FROM = { set_variable = { collaboration_formed_by = PREV } }
					release_autonomy = {
						target = FROM
						autonomy_state = autonomy_collaboration_government
						freedom_level = 0.5
						release_non_owned_controlled = yes
					}
				}
				else = {
					release_autonomy = {
						target = FROM
						autonomy_state = autonomy_reichsprotectorate
						freedom_level = 0.5
						release_non_owned_controlled = yes
					}
				}
				OLE = {
					every_owned_state = {
						limit = { has_state_flag = chn_claim }
						CHN = { transfer_state = PREV }
					}
					every_state = {
						limit = {
							has_state_flag = chn_claim
						}
						clr_state_flag = chn_claim
					}
				}
			}
			custom_effect_tooltip = release_olenia_protectorate

			OLE = {
				hidden_effect = {
				    set_country_flag = OLE_CHN_puppet
				    set_cosmetic_tag = OLE_CHN
					load_focus_tree = generic_focus
				    set_party_name = { ideology = fascism long_name = OLE_chn_collaborators_long name = OLE_chn_collaborators }
					create_country_leader = {
					    name = "Vidkun Hjortsling"
					    picture = "Hjortsling.dds"
					    expire = "1965.1.1"
					    ideology = rexism
					    traits = {}
    				}
    	        }
    	    }
        }
    }
}
operations = {
	CHN_PLB_border_war = {
		icon = border_war
		allowed = {
			tag = CHN
		}
		available = {
			323 = { is_owned_and_controlled_by = CHN }
			289 = { is_owned_and_controlled_by = PLB }
			if = {
				limit = { is_ai = no }
				divisions_in_state = {
					state = 323
					size > 0
				}
			}
		}
		visible = {
			is_subject = no
			has_government = fascism
			has_country_flag = flag_CHN_PLB_border_wars
			289 = {
				owner = {
					can_have_border_war_with_ROOT = yes
				}
			}
		}
		cost = 10

		ai_will_do = {
			factor = 50
		}

		fire_only_once = yes

		highlight_states = {
			state = 289
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_PLB_border_war"
			hidden_effect = {
				activate_targeted_decision = {
					target = CHN
					decision = CHN_PLB_border_war_timeout
				}
			}
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 323
					num_provinces = 3
					on_win = changelings.48
					on_lose = changelings.49
					on_cancel = changelings.50
				}

				defender = {
					state = 289
					num_provinces = 3
					on_win = changelings.51
					on_lose = changelings.52
					on_cancel = changelings.53
				}
			}
		}
	}
	CHN_PLB_border_war_timeout = {
		icon = border_war
		allowed = { always = no }
		available = {
			323 = { has_border_war = no }
			289 = { has_border_war = no }
		}
		highlight_states = {
			OR = {
				state = 289
				state = 323
			}
		}
		ai_will_do = {
			base = 0
		}
		days_mission_timeout = 30
		is_good = no
		fire_only_once = yes
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout CHN_PLB_border_war_timeout"
			cancel_border_war = {
				defender = 289
				attacker = 323
			}
		}
	}
	CHN_PLB_border_war_2 = {
		icon = border_war
		allowed = {
			tag = CHN
		}
		available = {
			315 = { is_owned_and_controlled_by = CHN }
			263 = { is_owned_and_controlled_by = PLB }
			if = {
				limit = { is_ai = no }
				divisions_in_state = {
					state = 315
					size > 0
				}
			}
		}
		visible = {
			is_subject = no
			has_government = fascism
			has_country_flag = flag_CHN_PLB_border_wars
			263 = {
				owner = {
					can_have_border_war_with_ROOT = yes
				}
			}
		}
		cost = 10

		ai_will_do = {
			factor = 50
		}

		fire_only_once = yes

		highlight_states = {
			state = 263
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_PLB_border_war_2"
			hidden_effect = {
				activate_targeted_decision = {
					target = CHN
					decision = CHN_PLB_border_war_timeout_2
				}
			}
			start_border_war = {
				change_state_after_war = no
				attacker = {
					state = 315
					num_provinces = 3
					on_win = changelings.48
					on_lose = changelings.49
					on_cancel = changelings.50
				}

				defender = {
					state = 263
					num_provinces = 3
					on_win = changelings.51
					on_lose = changelings.52
					on_cancel = changelings.53
				}
			}
		}
	}
	CHN_PLB_border_war_timeout_2 = {
		icon = border_war
		allowed = { always = no }
		available = {
			315 = { has_border_war = no }
			263 = { has_border_war = no }
		}
		highlight_states = {
			OR = {
				state = 263
				state = 315
			}
		}
		ai_will_do = {
			base = 0
		}
		days_mission_timeout = 30
		is_good = no
		fire_only_once = yes
		timeout_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision timeout CHN_PLB_border_war_timeout_2"
			cancel_border_war = {
				defender = 263
				attacker = 315
			}
		}
	}
}

CHN_love_consumption_mechanic = {
	CHN_military_love_acquisition_decision = {
		icon = changeling_icon
		
		allowed = {
			#original_tag = CHN
			always = no ## deprecated, retained for posterity ##
		}
		ai_will_do = {
			factor = 10
		}
		
		custom_cost_trigger = {
			has_political_power > 49
			command_power > 29
		}
		
		custom_cost_text = decision_cost_pp_50_30_cp
		
		days_remove = 70
		days_re_enable = 30
		
		modifier = {
			command_power_gain_mult = -0.1
			resistance_growth = 0.1
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_military_love_acquisition_decision"
			add_to_variable = { var = CHN_love_variable value = CHN_military_love_acquisition_decision_erot_gain }
			clr_country_flag = CHN_military_love_acquisition_decision_in_progress
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_military_love_acquisition_decision"
			hidden_effect = {
					add_political_power = -50
					add_command_power = -30
			}
			### Operation starts here ###
			set_temp_variable = { CHN_weekly_love_gain_state_var_DECISION_TEMP = CHN_weekly_love_gain_state_var }
			multiply_temp_variable = { CHN_weekly_love_gain_state_var_DECISION_TEMP = 10 }
			if = {
				limit = { 
					check_variable = { CHN_amount_of_allowed_battalions < CHN.num_battalions }
				}
				set_temp_variable = { CHN_temporary_variable_amount_of_battalions = CHN_amount_of_allowed_battalions }
				divide_temp_variable = { CHN_temporary_variable_amount_of_battalions = CHN_weekly_love_gain_state_var_DECISION_TEMP }
			}
			else = {
				set_temp_variable = { CHN_temporary_variable_amount_of_battalions = num_battalions }
				divide_temp_variable = { CHN_temporary_variable_amount_of_battalions = CHN_weekly_love_gain_state_var_DECISION_TEMP }
			}
			### Above: if exceeds cap limit, then the cap will be used. ###
			set_variable = { CHN_number_of_states_under_occupation_var = 0 }
			set_variable = { CHN_resistance_level_of_number_of_states_under_occupation_var = 0 }
			for_each_scope_loop = {
				array = controlled_states
				add_to_variable = { PREV.CHN_number_of_states_under_occupation_var = 1 } 
				add_to_variable = { PREV.CHN_resistance_level_of_number_of_states_under_occupation_var = THIS.resistance } 
			}
			subtract_from_variable = { CHN_number_of_states_under_occupation_var = CHN.num_core_states }
			### Above: gained total number of all states under CHN occupation to be used in calculations below ###
			set_temp_variable = { CHN_number_of_states_under_occupation_var_TEMP = CHN_number_of_states_under_occupation_var }
			set_temp_variable = { CHN_resistance_level_of_number_of_states_under_occupation_var_TEMP = CHN_resistance_level_of_number_of_states_under_occupation_var }
			divide_temp_variable = { CHN_resistance_level_of_number_of_states_under_occupation_var_TEMP = CHN_number_of_states_under_occupation_var_TEMP }
			### Above: obtained averaged value of Resistance across all occupied states (out of 100) ###
			set_variable = { CHN_average_resistance_level_of_states_under_occupation_var = CHN_resistance_level_of_number_of_states_under_occupation_var_TEMP }
			set_variable = { CHN_average_resistance_level_100_TEMP = 100 }
			subtract_from_variable = { CHN_average_resistance_level_100_TEMP = CHN_average_resistance_level_of_states_under_occupation_var }
			divide_variable = { CHN_average_resistance_level_100_TEMP = 100 } ## change to percentage ##
			set_variable = { CHN_average_resistance_level_of_states_under_occupation_var_TEMP = CHN_average_resistance_level_100_TEMP }
			### the percentage modifier dependent on average resistance of occupied states for the formula ###
			multiply_temp_variable = { CHN_temporary_variable_amount_of_battalions = CHN_average_resistance_level_of_states_under_occupation_var_TEMP } ## original gain times resistance factor ##
			set_variable = { CHN_military_love_acquisition_decision_erot_gain = CHN_temporary_variable_amount_of_battalions }
			set_country_flag = CHN_military_love_acquisition_decision_in_progress
		}
	}
	CHN_gain_love_decision = {
		icon = military_love_requisition
		
		allowed = {
			original_tag = CHN
		}
		ai_will_do = {
			factor = 105
		}
		
		custom_cost_trigger = {
			has_political_power > 49
			command_power > 29
		}
		
		custom_cost_text = decision_cost_pp_50_30_cp
		
		days_remove = 70
		days_re_enable = 7
		
		modifier = {
			command_power_gain_mult = -0.1
			resistance_growth = 0.1
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_gain_love_decision"
			if = {
				limit = {
					has_country_flag = CHN_military_love_acquisition_decision_in_progress
				}
				custom_effect_tooltip = CHN_erots_VARIABLE_TOOLTIP_FOR_MILITARY_LOVE_REQUISITIONS
			}
			add_to_variable = { var = CHN_love_variable value = CHN_military_love_acquisition_decision_erot_gain }
			clr_country_flag = CHN_military_love_acquisition_decision_in_progress
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_gain_love_decision"
			set_country_flag = CHN_military_love_acquisition_decision_in_progress
			hidden_effect = {
					add_political_power = -50
					add_command_power = -30
			}
			set_temp_variable = { CHN_gain_love_decision_var_S_TEMP = CHN_weekly_love_gain_state_var }
			set_temp_variable = { CHN_gain_love_decision_var_B_TEMP = CHN.num_battalions }
			set_temp_variable = { CHN_gain_love_decision_var_BR_TEMP = CHN_weekly_love_gain_state_var }
			multiply_temp_variable = { CHN_gain_love_decision_var_BR_TEMP = 20 }
			set_variable = { CHN_gain_love_decision_var_BD = 0 }
			if = {
				limit = {
					check_variable = { CHN_gain_love_decision_var_BR_TEMP > CHN.num_battalions }
				}
				set_temp_variable = { CHN_gain_love_decision_var_BD_TEMP = 0 }
				subtract_from_temp_variable = { CHN_gain_love_decision_var_BR_TEMP = CHN.num_battalions }
				divide_temp_variable = { CHN_gain_love_decision_var_BR_TEMP = 20 }
				set_variable = { CHN_gain_love_decision_var_BD = CHN_gain_love_decision_var_BR_TEMP }
			}
			subtract_from_temp_variable = { CHN_gain_love_decision_var_S_TEMP = CHN_gain_love_decision_var_BD }
			multiply_temp_variable = { CHN_gain_love_decision_var_S_TEMP = 0.005 }
			### Average Resistance Level Calculations ###
			set_variable = { CHN_number_of_states_under_occupation_var = 0 }
			set_variable = { CHN_resistance_level_of_number_of_states_under_occupation_var = 0 }
			for_each_scope_loop = {
				array = controlled_states
				add_to_variable = { PREV.CHN_number_of_states_under_occupation_var = 1 } 
				add_to_variable = { PREV.CHN_resistance_level_of_number_of_states_under_occupation_var = THIS.resistance } 
			}
			subtract_from_variable = { CHN_number_of_states_under_occupation_var = CHN.num_core_states }
			set_temp_variable = { CHN_number_of_states_under_occupation_var_TEMP = CHN_number_of_states_under_occupation_var }
			set_temp_variable = { CHN_resistance_level_of_number_of_states_under_occupation_var_TEMP = CHN_resistance_level_of_number_of_states_under_occupation_var }
			divide_temp_variable = { CHN_resistance_level_of_number_of_states_under_occupation_var_TEMP = CHN_number_of_states_under_occupation_var_TEMP }
			set_variable = { CHN_average_resistance_level_of_states_under_occupation_var = CHN_resistance_level_of_number_of_states_under_occupation_var_TEMP }
			set_variable = { CHN_average_resistance_level_100_TEMP = 100 }
			subtract_from_variable = { CHN_average_resistance_level_100_TEMP = CHN_average_resistance_level_of_states_under_occupation_var }
			divide_variable = { CHN_average_resistance_level_100_TEMP = 100 } ## change to percentage ##
			set_variable = { CHN_average_resistance_level_of_states_under_occupation_var_TEMP = CHN_average_resistance_level_100_TEMP }
			###
			multiply_temp_variable = { CHN_gain_love_decision_var_S_TEMP = CHN_average_resistance_level_of_states_under_occupation_var_TEMP } ## times resistance factor ###
			if = {
				limit = {
					has_idea = CHN_collection_troops
				}
				multiply_temp_variable = { CHN_gain_love_decision_var_S_TEMP = 1.25 } ## +25% bonus from focus-unlocked idea ##
			}
			set_variable = { CHN_military_love_acquisition_decision_erot_gain = CHN_gain_love_decision_var_S_TEMP }
		}
	}
	
	CHN_rations_as_growth_incentive = {
		icon = generic_research
		allowed = {
			original_tag = CHN
		}
		ai_will_do = {
			factor = 10
		}
		
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = {
				var = CHN_love_variable
				value = 0.5
				compare = greater_than_or_equals
			}
		}
		custom_cost_text = decision_cost_pp_30_love_05
		
		days_remove = 90
		days_re_enable = 14
		
		modifier = {
			production_speed_buildings_factor = 0.1
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_rations_as_growth_incentive"
			random_owned_controlled_state = {
				limit = { 
					is_core_of = CHN 
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 1
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_rations_as_growth_incentive"
			hidden_effect = {
				add_political_power = -30
				subtract_from_variable = { 
					var = CHN_love_variable
					value = 0.5
				}
			}
		}
	}
	
	CHN_rations_for_political_power = {
		icon = generic_research
		allowed = {
			original_tag = CHN
		}
		ai_will_do = {
			factor = 10
		}
		
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = {
				var = CHN_love_variable
				value = 0.5
				compare = greater_than_or_equals
			}
		}
		custom_cost_text = decision_cost_pp_30_love_05
		
		days_remove = 90
		days_re_enable = 14
		
		modifier = {
			political_power_gain = 0.5
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_rations_for_political_power"
			hidden_effect = {
				add_political_power = -30
				subtract_from_variable = { 
					var = CHN_love_variable
					value = 0.5
				}
			}
		}
	}
	
	CHN_rations_for_war_support = {
		icon = generic_research
		allowed = {
			original_tag = CHN
		}
		ai_will_do = {
			factor = 10
		}
		
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = {
				var = CHN_love_variable
				value = 0.5
				compare = greater_than_or_equals
			}
		}
		custom_cost_text = decision_cost_pp_30_love_05
		
		days_remove = 90
		days_re_enable = 14
		
		modifier = {
			war_support_factor = 0.10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_rations_for_war_support"
			hidden_effect = {
				add_political_power = -30
				subtract_from_variable = { 
					var = CHN_love_variable
					value = 0.5
				}
			}
		}
	}
	
	CHN_rations_for_stability = {
		icon = generic_research
		allowed = {
			original_tag = CHN
		}
		ai_will_do = {
			factor = 10
		}
		
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = {
				var = CHN_love_variable
				value = 0.5
				compare = greater_than_or_equals
			}
		}
		custom_cost_text = decision_cost_pp_30_love_05
		
		days_remove = 90
		days_re_enable = 14
		
		modifier = {
			stability_factor = 0.10
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_rations_for_stability"
			hidden_effect = {
				add_political_power = -30
				subtract_from_variable = { 
					var = CHN_love_variable
					value = 0.5
				}
			}
		}
	}
	
	CHN_rations_for_recruits = {
		icon = generic_research
		allowed = {
			original_tag = CHN
		}
		visible = { has_country_flag = CHN_unlocked_075_decisions_flag }
		ai_will_do = {
			factor = 10
		}
		
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = {
				var = CHN_love_variable
				value = 0.75
				compare = greater_than_or_equals
			}
		}
		custom_cost_text = decision_cost_pp_30_love_075
		
		days_remove = 180
		days_re_enable = 7
		
		modifier = {
			conscription_factor = 0.1
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_rations_for_recruits"
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_rations_for_recruits"
			hidden_effect = {
				add_political_power = -30
				subtract_from_variable = { 
					var = CHN_love_variable
					value = 0.75
				}
			}
		}
	}
	
	CHN_rations_for_researchers = {
		icon = generic_research
		allowed = {
			original_tag = CHN
		}
		visible = { has_country_flag = CHN_unlocked_075_decisions_flag }
		ai_will_do = {
			factor = 10
		}
		
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = {
				var = CHN_love_variable
				value = 0.75
				compare = greater_than_or_equals
			}
		}
		custom_cost_text = decision_cost_pp_30_love_075
		
		days_remove = 180
		days_re_enable = 7
		
		modifier = {
			research_speed_factor = 0.05
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_rations_for_researchers"
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_rations_for_researchers"
			hidden_effect = {
				add_political_power = -30
				subtract_from_variable = { 
					var = CHN_love_variable
					value = 0.75
				}
			}
		}
	}
	
	CHN_rations_for_drones = {
		icon = generic_research
		allowed = {
			original_tag = CHN
		}
		visible = { has_country_flag = CHN_unlocked_075_decisions_flag }
		ai_will_do = {
			factor = 10
		}
		
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = {
				var = CHN_love_variable
				value = 0.75
				compare = greater_than_or_equals
			}
		}
		custom_cost_text = decision_cost_pp_30_love_075
		
		days_remove = 180
		days_re_enable = 7
		
		modifier = {
			production_factory_max_efficiency_factor = 0.1
			production_factory_efficiency_gain_factor = 0.1
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_rations_for_drones"
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_rations_for_drones"
			hidden_effect = {
				add_political_power = -30
				subtract_from_variable = { 
					var = CHN_love_variable
					value = 0.75
				}
			}
		}
	}
	
	CHN_rations_for_settlers = {
		icon = generic_research
		allowed = {
			original_tag = CHN
		}
		visible = { has_country_flag = CHN_unlocked_075_decisions_flag }
		ai_will_do = {
			factor = 10
		}
		
		custom_cost_trigger = {
			has_political_power > 29
			check_variable = {
				var = CHN_love_variable
				value = 0.75
				compare = greater_than_or_equals
			}
		}
		custom_cost_text = decision_cost_pp_30_love_075
		
		days_remove = 180
		days_re_enable = 7
		
		modifier = {
			MONTHLY_POPULATION = 0.5
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_rations_for_settlers"
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_rations_for_settlers"
			hidden_effect = {
				add_political_power = -30
				subtract_from_variable = { 
					var = CHN_love_variable
					value = 0.75
				}
			}
		}
	}
	
	CHN_compliance_80_love_decision = {
		icon = generic_operation
		allowed = {
			original_tag = CHN
		}

		available = {
			custom_trigger_tooltip = {
				tooltip = CHN_compliance_80_love_decision_resistance_threshold
				check_variable = { core_resistance@FROM < 20 }
			}
		}

		visible = {
			NOT = { has_country_flag = CHN_compliance_80_love_decision_ongoing_flag }
			has_core_occupation_modifier = {
				occupied_country_tag = FROM
				modifier = CHN_compliance_80_love
			}
		}
		
		available = {
			hidden_trigger = {
				set_temp_variable = { CHN_compliance_80_love_decision_occupied_states_of_tag = 0 }
				all_of = {
					array = controlled_states
					if = {
						limit = { 
							var:v = { occupied_country_tag = FROM }
						}
						add_to_temp_variable = { CHN_compliance_80_love_decision_occupied_states_of_tag = 1 }
					}
				}
			}
		}
		
		target_non_existing = yes
		target_array = occupied_countries

		target_trigger = {
		}

		ai_will_do = {
			base = 100
		}

		cost = 25

		fire_only_once = no

		days_re_enable = 70
		days_remove = 30

		modifier = {
			political_power_gain = -0.25
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_compliance_80_love_decision target: [From.GetName]"
			set_country_flag = CHN_compliance_80_love_decision_ongoing_flag
			set_variable = { CHN_compliance_80_love_decision_love_gain_var = 0 }
			set_variable = { CHN_compliance_80_love_decision_states_var = 0 }
			for_each_scope_loop = {
				array = controlled_states
				if = {
					limit = {
						occupied_country_tag = FROM
					}
					ROOT = { add_to_variable = { CHN_compliance_80_love_decision_states_var = 1 } }
				}
			}
			set_variable = { CHN_compliance_80_love_decision_states_for_tt_var = CHN_compliance_80_love_decision_states_var }
			divide_variable = { CHN_compliance_80_love_decision_states_var = 2000 }
			add_to_variable = { CHN_compliance_80_love_decision_states_var = 0.001 }
			set_variable = { CHN_compliance_80_love_decision_love_gain_var = CHN_compliance_80_love_decision_states_var }
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_compliance_80_love_decision target: [From.GetName]"
			if = {
				limit = { has_country_flag = CHN_compliance_80_love_decision_ongoing_flag }
				custom_effect_tooltip = CHN_compliance_80_love_decision_love_gain_tt
			}
			add_to_variable = { var = CHN_love_variable value = CHN_compliance_80_love_decision_love_gain_var }
			clr_country_flag = CHN_compliance_80_love_decision_ongoing_flag
		}
	}
}

CHN_superweapon = { 
	CHN_railway_gun_plans = {
		icon = hol_draw_up_staff_plans
		ai_will_do = {
			base = 10
		}
		allowed = {
			original_tag = CHN
		}
		available = { 
			has_tech = super_heavy_art 
			has_completed_focus = CHN_post_war_A
		}
		fire_only_once = yes
		days_remove = 30
		modifier = {
			consumer_goods_factor = 0.05
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_railway_gun_plans"
			custom_effect_tooltip = MAN_researched_plans_for_rail_gun
			set_country_flag = CHN_plans_researched_for_rail_gun
		}
	}
	
	CHN_railway_gun_build = {
		icon = ger_military_buildup
		ai_will_do = {
			base = 10
		}
		allowed = {
			original_tag = CHN
		}
		available = { 
			custom_trigger_tooltip = {
				tooltip = MAN_plans_researched_for_rail_gun
				has_country_flag = CHN_plans_researched_for_rail_gun
			}
		}
		fire_only_once = yes
		days_remove = 60 
		modifier = {
			consumer_goods_factor = 0.15
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_railway_gun_build"
			##### RAILWAY GUN BEEP BEEP #####
			custom_effect_tooltip = MAN_field_a_division_with_rail_gun
				hidden_effect = {
				set_technology = { popup = yes CHN_manehattan_protectorate_railway_gun_tech = 1 }
				add_equipment_to_stockpile = {
					type = CHN_manehattan_protectorate_railway_gun
					amount = 1
					producer = CHN
				}
			}
			###### RAILWAY GUN #####
			set_country_flag = CHN_has_built_the_rail_gun
			country_event = { id = changelings_paxchrysalia.27 hours = 3 }
		}
	}
}

CHN_equestrian_insurgency_category = {
	CHN_debuff_changeling_category = {
		icon = generic_intelligence_operation
		allowed = {
			original_tag = CHN
		}
		
		visible = {
			OR = {
				has_idea = CHN_equestria_chaos3
				has_idea = CHN_equestria_chaos2
				has_idea = CHN_equestria_chaos1
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = CHN_debuff_changeling_category_completed_tt
				check_variable = { CHN_debuff_changeling_category_var > 4 }
			}
		}
		
		ai_will_do = {
			factor = 50
		}

		cost = 25
		
		days_remove = 14
		fire_only_once = yes
		
		modifier = {
			political_power_factor = -0.25
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_debuff_changeling_category"
			if = {
				limit = {
					has_idea = CHN_equestria_chaos3
				}
				swap_ideas = { remove_idea = CHN_equestria_chaos3 add_idea = CHN_equestria_chaos2 }
				country_event = { id = changelings_paxchrysalia.300 hours = 1 }
			}
			else_if = {
				limit = {
					has_idea = CHN_equestria_chaos2
				}
				swap_ideas = { remove_idea = CHN_equestria_chaos2 add_idea = CHN_equestria_chaos1 }
				country_event = { id = changelings_paxchrysalia.301 hours = 1 }
			}
			else_if = {
				limit = {
					has_idea = CHN_equestria_chaos1
				}
				swap_ideas = { remove_idea = CHN_equestria_chaos1 add_idea = CHN_equestria_lockdown }
				country_event = { id = changelings_paxchrysalia.302 hours = 1 }
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_debuff_changeling_category"
		}
	}
	
	CHN_debuff_resistance_category = {
		icon = generic_scorched_earth
		allowed = {
			original_tag = CHN
		}
		
		visible = {
			OR = {
				has_idea = CHN_equestria_chaos3
				has_idea = CHN_equestria_chaos2
				has_idea = CHN_equestria_chaos1
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = CHN_debuff_resistance_category_completed_tt
				check_variable = { CHN_debuff_resistance_category_var > 4 }
			}
		}
		
		ai_will_do = {
			factor = 50
		}

		cost = 25
		
		days_remove = 14
		fire_only_once = yes
		
		modifier = {
			political_power_factor = -0.25
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_debuff_resistance_category"
			if = {
				limit = {
					has_idea = CHN_equestria_chaos3
				}
				swap_ideas = { remove_idea = CHN_equestria_chaos3 add_idea = CHN_equestria_chaos2 }
				country_event = { id = changelings_paxchrysalia.300 hours = 1 }
			}
			else_if = {
				limit = {
					has_idea = CHN_equestria_chaos2
				}
				swap_ideas = { remove_idea = CHN_equestria_chaos2 add_idea = CHN_equestria_chaos1 }
				country_event = { id = changelings_paxchrysalia.301 hours = 1 }
			}
			else_if = {
				limit = {
					has_idea = CHN_equestria_chaos1
				}
				swap_ideas = { remove_idea = CHN_equestria_chaos1 add_idea = CHN_equestria_lockdown }
				country_event = { id = changelings_paxchrysalia.302 hours = 1 }
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_debuff_resistance_category"
		}
	}
	
	CHN_debuff_compliance_category = {
		icon = hol_war_on_pacifism
		allowed = {
			original_tag = CHN
		}
		
		visible = {
			OR = {
				has_idea = CHN_equestria_chaos3
				has_idea = CHN_equestria_chaos2
				has_idea = CHN_equestria_chaos1
			}
		}
		available = {
			custom_trigger_tooltip = {
				tooltip = CHN_debuff_compliance_category_tt
				check_variable = { CHN_debuff_compliance_category_var > 4 }
			}
		}
		
		ai_will_do = {
			factor = 50
		}

		cost = 25
		
		days_remove = 14
		fire_only_once = yes
		
		modifier = {
			political_power_factor = -0.25
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_debuff_compliance_category"
			if = {
				limit = {
					has_idea = CHN_equestria_chaos3
				}
				swap_ideas = { remove_idea = CHN_equestria_chaos3 add_idea = CHN_equestria_chaos2 }
				country_event = { id = changelings_paxchrysalia.300 hours = 1 }
			}
			else_if = {
				limit = {
					has_idea = CHN_equestria_chaos2
				}
				swap_ideas = { remove_idea = CHN_equestria_chaos2 add_idea = CHN_equestria_chaos1 }
				country_event = { id = changelings_paxchrysalia.301 hours = 1 }
			}
			else_if = {
				limit = {
					has_idea = CHN_equestria_chaos1
				}
				swap_ideas = { remove_idea = CHN_equestria_chaos1 add_idea = CHN_equestria_lockdown }
				country_event = { id = changelings_paxchrysalia.302 hours = 1 }
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_debuff_compliance_category"
		}
	}
	
	CHN_dispatch_jagdkommando_decision_1 = {
		icon = infiltrate_state
		allowed = {
			original_tag = CHN
		}

		visible = {
			FROM = {
				has_state_flag = CHN_dispatched_mtf_state_decision_1
			}
			ROOT = {
				NOT = {
					has_country_flag = CHN_recall_jagdkommandos_decision_in_progress_flag
				}
			}
		}
		
		available = {
			set_variable = { CHN_dispatched_mtf_state_decision_1_duration_var = FROM.distance_to@251 }
		}
		
		state_target = yes

		target_trigger = {
			FROM = {
				has_state_flag = CHN_dispatched_mtf_state_decision_1
				owner = {
					OR = {
						original_tag = CHN
						is_subject_of = CHN
						is_in_faction_with = CHN
					}
				}
			}
		}

		ai_will_do = {
			base = 100
		}

		cost = 5
		days_remove = CHN_dispatched_mtf_state_decision_1_duration_var

		modifier = {
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_dispatch_jagdkommando_decision_1 target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_dispatch_jagdkommando_decision_1 target: [From.GetName]"
			if = {
				limit = {
					FROM = {
						NOT = {
                           is_core_of = FROM.OWNER
                        }
					}
				}
				FROM = { add_resistance = -2.5 }
            }
			custom_effect_tooltip = CHN_dispatch_jagdkommando_decision_spawn_units_tt
			hidden_effect = {
				FROM = {
					clr_state_flag = CHN_dispatched_mtf_state_decision_1
					create_unit = { division = "name = \"Jagdkommando-Einsatzgruppe 01\" division_template = \"Jagdkommando Einsatzgruppe\" start_experience_factor = 0.75" owner = ROOT }
					create_unit = { division = "name = \"Jagdkommando-Einsatzgruppe 02\" division_template = \"Jagdkommando Einsatzgruppe\" start_experience_factor = 0.75" owner = ROOT }
				}
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = CHN_has_recalled_jagdkommandos_tt
				has_country_flag = CHN_recall_jagdkommandos_decision_in_progress_flag
			}
		}
	}
	
	CHN_dispatch_jagdkommando_decision_2 = {
		icon = infiltrate_state
		allowed = {
			original_tag = CHN
		}

		visible = {
			FROM = {
				has_state_flag = CHN_dispatched_mtf_state_decision_2
			}
			ROOT = {
				NOT = {
					has_country_flag = CHN_recall_jagdkommandos_decision_in_progress_flag
				}
			}
		}
		
		available = {
		}
		
		state_target = yes

		target_trigger = {
			FROM = {
				has_state_flag = CHN_dispatched_mtf_state_decision_2
				owner = {
					OR = {
						original_tag = CHN
						is_subject_of = CHN
						is_in_faction_with = CHN
					}
				}
			}
		}

		ai_will_do = {
			base = 100
		}

		cost = 5
		days_remove = 30

		modifier = {
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_dispatch_jagdkommando_decision_2 target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_dispatch_jagdkommando_decision_2 target: [From.GetName]"
			if = {
				limit = {
					FROM = {
						NOT = {
                           is_core_of = FROM.OWNER
                        }
					}
				}
				FROM = { add_resistance = -2.5 }
            }
			custom_effect_tooltip = CHN_dispatch_jagdkommando_decision_spawn_units_tt
			hidden_effect = {
				FROM = {
					clr_state_flag = CHN_dispatched_mtf_state_decision_2
					create_unit = { division = "name = \"Jagdkommando-Einsatzgruppe 03\" division_template = \"Jagdkommando Einsatzgruppe\" start_experience_factor = 0.75" owner = ROOT }
					create_unit = { division = "name = \"Jagdkommando-Einsatzgruppe 04\" division_template = \"Jagdkommando Einsatzgruppe\" start_experience_factor = 0.75" owner = ROOT }
				}
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = CHN_has_recalled_jagdkommandos_tt
				has_country_flag = CHN_recall_jagdkommandos_decision_in_progress_flag
			}
		}
	}
	
	CHN_dispatch_jagdkommando_decision_3 = {
		icon = infiltrate_state
		allowed = {
			original_tag = CHN
		}

		visible = {
			FROM = {
				has_state_flag = CHN_dispatched_mtf_state_decision_3
			}
			ROOT = {
				NOT = {
					has_country_flag = CHN_recall_jagdkommandos_decision_in_progress_flag
				}
			}
		}
		
		available = {
		}
		
		state_target = yes

		target_trigger = {
			FROM = {
				has_state_flag = CHN_dispatched_mtf_state_decision_3
				owner = {
					OR = {
						original_tag = CHN
						is_subject_of = CHN
						is_in_faction_with = CHN
					}
				}
			}
		}

		ai_will_do = {
			base = 100
		}

		cost = 5
		days_remove = 30

		modifier = {
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_dispatch_jagdkommando_decision_3 target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_dispatch_jagdkommando_decision_3 target: [From.GetName]"
			if = {
				limit = {
					FROM = {
						NOT = {
                           is_core_of = FROM.OWNER
                        }
					}
				}
				FROM = { add_resistance = -2.5 }
            }
			custom_effect_tooltip = CHN_dispatch_jagdkommando_decision_spawn_units_tt
			hidden_effect = {
				FROM = {
					clr_state_flag = CHN_dispatched_mtf_state_decision_3
					create_unit = { division = "name = \"Jagdkommando-Einsatzgruppe 05\" division_template = \"Jagdkommando Einsatzgruppe\" start_experience_factor = 0.75" owner = ROOT }
					create_unit = { division = "name = \"Jagdkommando-Einsatzgruppe 06\" division_template = \"Jagdkommando Einsatzgruppe\" start_experience_factor = 0.75" owner = ROOT }
				}
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = CHN_has_recalled_jagdkommandos_tt
				has_country_flag = CHN_recall_jagdkommandos_decision_in_progress_flag
			}
		}
	}
	
	CHN_dispatch_jagdkommando_decision_4 = {
		icon = infiltrate_state
		allowed = {
			original_tag = CHN
		}

		visible = {
			FROM = {
				has_state_flag = CHN_dispatched_mtf_state_decision_4
			}
			ROOT = {
				NOT = {
					has_country_flag = CHN_recall_jagdkommandos_decision_in_progress_flag
				}
			}
		}
		
		available = {
		}
		
		state_target = yes

		target_trigger = {
			FROM = {
				has_state_flag = CHN_dispatched_mtf_state_decision_4
				owner = {
					OR = {
						original_tag = CHN
						is_subject_of = CHN
						is_in_faction_with = CHN
					}
				}
			}
		}

		ai_will_do = {
			base = 100
		}

		cost = 5
		days_remove = 30

		modifier = {
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_dispatch_jagdkommando_decision_4 target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_dispatch_jagdkommando_decision_4 target: [From.GetName]"
			if = {
				limit = {
					FROM = {
						NOT = {
                           is_core_of = FROM.OWNER
                        }
					}
				}
				FROM = { add_resistance = -2.5 }
            }
			custom_effect_tooltip = CHN_dispatch_jagdkommando_decision_spawn_units_tt
			hidden_effect = {
				FROM = {
					clr_state_flag = CHN_dispatched_mtf_state_decision_4
					create_unit = { division = "name = \"Jagdkommando-Einsatzgruppe 07\" division_template = \"Jagdkommando Einsatzgruppe\" start_experience_factor = 0.75" owner = ROOT }
					create_unit = { division = "name = \"Jagdkommando-Einsatzgruppe 08\" division_template = \"Jagdkommando Einsatzgruppe\" start_experience_factor = 0.75" owner = ROOT }
				}
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = CHN_has_recalled_jagdkommandos_tt
				has_country_flag = CHN_recall_jagdkommandos_decision_in_progress_flag
			}
		}
	}
	
	CHN_dispatch_jagdkommando_decision_5 = {
		icon = infiltrate_state
		allowed = {
			original_tag = CHN
		}

		visible = {
			FROM = {
				has_state_flag = CHN_dispatched_mtf_state_decision_5
			}
			ROOT = {
				NOT = {
					has_country_flag = CHN_recall_jagdkommandos_decision_in_progress_flag
				}
			}
		}
		
		available = {
		}
		
		state_target = yes

		target_trigger = {
			FROM = {
				has_state_flag = CHN_dispatched_mtf_state_decision_5
				owner = {
					OR = {
						original_tag = CHN
						is_subject_of = CHN
						is_in_faction_with = CHN
					}
				}
			}
		}

		ai_will_do = {
			base = 100
		}

		cost = 5
		days_remove = 30

		modifier = {
		}

		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_dispatch_jagdkommando_decision_5 target: [From.GetName]"
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_dispatch_jagdkommando_decision_5 target: [From.GetName]"
			if = {
				limit = {
					FROM = {
						NOT = {
                           is_core_of = FROM.OWNER
                        }
					}
				}
				FROM = { add_resistance = -2.5 }
            }
			custom_effect_tooltip = CHN_dispatch_jagdkommando_decision_spawn_units_tt
			hidden_effect = {
				FROM = {
					clr_state_flag = CHN_dispatched_mtf_state_decision_5
					create_unit = { division = "name = \"Jagdkommando-Einsatzgruppe 09\" division_template = \"Jagdkommando Einsatzgruppe\" start_experience_factor = 0.75" owner = ROOT }
					create_unit = { division = "name = \"Jagdkommando-Einsatzgruppe 10\" division_template = \"Jagdkommando Einsatzgruppe\" start_experience_factor = 0.75" owner = ROOT }
				}
			}
		}
		cancel_trigger = {
			custom_trigger_tooltip = {
				tooltip = CHN_has_recalled_jagdkommandos_tt
				has_country_flag = CHN_recall_jagdkommandos_decision_in_progress_flag
			}
		}
	}
	
	CHN_recall_jagdkommandos_decision = {
		icon = generic_prepare_civil_war
		allowed = {
			original_tag = CHN
		}
		
		visible = {
			check_variable = {
				var = CHN_mobile_task_force_deployed_var
				value = 1
				compare = greater_than_or_equals
			}
		}
		
		available = {
		}
		
		ai_will_do = {
			factor = 50
		}

		cost = 25
		
		days_remove = 7
		
		modifier = {
			command_power_gain_mult = -0.25
		}
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove CHN_recall_jagdkommandos_decision"
			custom_effect_tooltip = CHN_recall_jagdkommandos_decision_effect_tt
			hidden_effect = {
				clr_country_flag = CHN_recall_jagdkommandos_decision_in_progress_flag
				delete_unit_template_and_units = {
					division_template = "Jagdkommando Einsatzgruppe"
				}
				division_template = {
					name = "Jagdkommando Einsatzgruppe"
					division_names_group = CHN_LTINF_01
					template_counter = 27
					is_locked = yes
					regiments = {
						jager = { x = 0 y = 0 }
						jager = { x = 0 y = 1 }
						jager = { x = 0 y = 2 }
						jager = { x = 1 y = 0 }
						jager = { x = 1 y = 1 }
						jager = { x = 1 y = 2 }
					}
					support = {
						infiltrator_company = { x = 0 y = 0 }
						recon = { x = 0 y = 1 }
						engineer = { x = 0 y = 2 }
					}
					priority = 2
				}
				set_variable = { CHN_mobile_task_force_deployed_var = 0 }
				set_variable = { CHN_mobile_task_force_in_reserve_var = 10 }
				every_state = {
					limit = {
						has_state_flag = CHN_has_already_dispatched_mtf_to_this_state
					}
					clr_state_flag = CHN_has_already_dispatched_mtf_to_this_state
					clr_state_flag = CHN_dispatched_mtf_state_decision_1
					clr_state_flag = CHN_dispatched_mtf_state_decision_2
					clr_state_flag = CHN_dispatched_mtf_state_decision_3
					clr_state_flag = CHN_dispatched_mtf_state_decision_4
					clr_state_flag = CHN_dispatched_mtf_state_decision_5
				}
			}
		}
		complete_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision CHN_recall_jagdkommandos_decision"
			set_country_flag = CHN_recall_jagdkommandos_decision_in_progress_flag
		}
	}
}