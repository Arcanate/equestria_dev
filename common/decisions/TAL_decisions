### LRN Decisions ###
### Any Means Necessary ###
TAL_lrn_whatever_it_takes = {
	
	TAL_compliance_mission_lrn = {
		
		icon = GFX_decision_rifles
		available = {
			OR = {
				has_completed_focus = TAL_LRN_start
				has_country_flag = TAL_commiewar_with_lrn					
			}
		}
		
		activation = {
			has_completed_focus = TAL_by_any_means_necessary
		}
		
		fire_only_once = yes

		days_mission_timeout = 45
		
		remove_effect = {
		}
		complete_effect = {
		}

		timeout_effect = {
			add_to_variable = {
				var = supportlrnbad
				value = 10
			}
			add_to_variable = {
				var = supportlrngood
				value = -10
			}
			add_popularity = {
				ideology = fascism
				popularity = -0.025
			}
				if = {
					limit = {
						check_variable = { var = supportlrnbad value = 95 compare = greater_than_or_equals }
					}
					country_event = { id = talouse.1011 }
					}
				if = {
					limit = {
						check_variable = { var = supportlrngood value = 55 compare = greater_than_or_equals }
					}
				add_political_power = 75
				}
				hidden_effect = {
					activate_mission = TAL_compliance_mission_lrn
				}
			custom_effect_tooltip = TAL_gain_stabilitygood101
			custom_effect_tooltip = TAL_lose_stabilitygood101
			}
		ai_will_do = {
			factor = 800
		}
	}

	TAL_attack_the_other_parties = {

		icon = GFX_decision_anti_neutral
		days_remove = 5
		days_re_enable = 20
		available = {
			has_completed_focus = TAL_by_any_means_necessary
		}

		visible = {
			has_completed_focus = TAL_by_any_means_necessary
			NOT = {
				has_country_flag = TAL_commiewar_with_lrn
			}
		}

		modifier = {
			political_power_gain = -0.15
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TAL_attack_the_other_parties"
			add_popularity = { ideology = fascism popularity = 0.015 }
			add_stability = -0.025
			add_to_variable = {
				var = supportlrnbad
				value = -5
				}
			add_to_variable = {
				var = supportlrngood
				value = 5
				}
			custom_effect_tooltip = TAL_gain_stabilitygood5
			custom_effect_tooltip = TAL_lose_stabilitygood5
		}

		cost = 15
		days_remove = 20

		ai_will_do = {
			factor = 800
		}
	}	
	
	TAL_a_speech = {

		icon = GFX_decision_megaphone
		days_remove = 5
		days_re_enable = 10
		available = {
			has_completed_focus = TAL_by_any_means_necessary
		}

		visible = {
			has_completed_focus = TAL_by_any_means_necessary
			NOT = {
				has_country_flag = TAL_commiewar_with_lrn
			}
		}

		modifier = {
			political_power_gain = -0.10
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TAL_a_rally"
			add_popularity = { ideology = fascism popularity = 0.015 }
			add_to_variable = {
				var = supportlrnbad
				value = -2.5
				}
			add_to_variable = {
				var = supportlrngood
				value = 2.5
				}
			custom_effect_tooltip = TAL_gain_stabilitygood2
			custom_effect_tooltip = TAL_lose_stabilitygood2
		}

		cost = 25
		days_remove = 5

		ai_will_do = {
			factor = 800
		}
	}

	TAL_a_rally = {

		icon = GFX_decision_megaphone
		days_remove = 5
		days_re_enable = 15
		available = {
			has_completed_focus = TAL_by_any_means_necessary
		}

		visible = {
			has_completed_focus = TAL_by_any_means_necessary
			NOT = {
				has_country_flag = TAL_commiewar_with_lrn
			}
		}

		modifier = {
			political_power_gain = -0.15
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TAL_a_rally"
			add_popularity = { ideology = fascism popularity = 0.025 }
			add_to_variable = {
				var = supportlrnbad
				value = -5
				}
			add_to_variable = {
				var = supportlrngood
				value = 5
				}
			custom_effect_tooltip = TAL_gain_stabilitygood5
			custom_effect_tooltip = TAL_lose_stabilitygood5
		}

		cost = 45
		days_remove = 10

		ai_will_do = {
			factor = 800
		}
	}
	
	TAL_attack_the_FLT = {

		icon = GFX_decision_anti_communist
		days_remove = 5
		days_re_enable = 30
		available = {
			has_completed_focus = TAL_by_any_means_necessary
		}

		visible = {
			has_completed_focus = TAL_by_any_means_necessary
			NOT = {
				has_country_flag = TAL_commiewar_with_lrn
			}
		}

		modifier = {
			political_power_gain = -0.5
		}
		
		custom_cost_trigger = {
			check_variable = {
				var = supportlrngood
				value = 65
				compare = greater_than_or_equals
			}
		}
		custom_cost_text = decision_support_good_tal
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TAL_attack_the_FLT"
			add_popularity = { ideology = fascism popularity = 0.15 }
			add_stability = -0.10
			add_to_variable = {
				var = supportlrnbad
				value = 10
				}
			add_to_variable = {
				var = supportlrngood
				value = -10
				}
			custom_effect_tooltip = TAL_gain_stabilitygood101
			custom_effect_tooltip = TAL_lose_stabilitygood101
		}
		
		days_remove = 15

		ai_will_do = {
			factor = 800
		}
	}
	
	TAL_a_march = {

		icon = GFX_decision_megaphone
		days_remove = 5
		days_re_enable = 30
		available = {
			has_completed_focus = TAL_by_any_means_necessary
		}

		visible = {
			has_completed_focus = TAL_by_any_means_necessary
			NOT = {
				has_country_flag = TAL_commiewar_with_lrn
			}
		}

		modifier = {
			political_power_gain = -0.75
		}
		
		custom_cost_trigger = {
			check_variable = {
				var = supportlrngood
				value = 75
				compare = greater_than_or_equals
			}
		}
		custom_cost_text = decision_support_good_tal2		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TAL_a_march"
			add_popularity = { ideology = fascism popularity = 0.025 }
			add_to_variable = {
				var = supportlrnbad
				value = -25
				}
			add_to_variable = {
				var = supportlrngood
				value = 25
				}
			custom_effect_tooltip = TAL_gain_stabilitygood25
			custom_effect_tooltip = TAL_lose_stabilitygood25
		}
		
		days_remove = 10

		ai_will_do = {
			factor = 800
		}
	}
}

### LRN Social Programs ###
TAL_lrn_social_programs = {
	TAL_aid1 = {

		icon = GFX_decision_megaphone
		days_remove = 5
		days_re_enable = 60
		available = {
			has_completed_focus = TAL_social_projects_for_LRN
		}

		visible = {
			has_completed_focus = TAL_social_projects_for_LRN
		}

		modifier = {
			political_power_gain = -0.10
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TAL_a_rally"
			add_stability = 0.015
		}

		cost = 25
		days_remove = 5

		ai_will_do = {
			factor = 800
		}
	}
	TAL_aid2 = {

		icon = GFX_decision_megaphone
		days_remove = 5
		days_re_enable = 50
		available = {
			has_completed_focus = TAL_social_projects_for_LRN
		}

		visible = {
			has_completed_focus = TAL_social_projects_for_LRN
		}

		modifier = {
			political_power_gain = -0.25
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TAL_a_rally"
			add_stability = 0.025
			add_timed_idea = { idea = TAL_consumer_goods_idea days = 30 }
		}

		cost = 50
		days_remove = 5

		ai_will_do = {
			factor = 800
		}
	}
	TAL_aid3 = {

		icon = GFX_decision_megaphone
		days_remove = 5
		days_re_enable = 180
		available = {
			has_completed_focus = TAL_social_projects_for_LRN
		}

		visible = {
			has_completed_focus = TAL_social_projects_for_LRN
		}

		modifier = {
			political_power_gain = -0.10
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TAL_a_rally"
			one_random_industrial_complex = yes
		}

		cost = 75
		days_remove = 5

		ai_will_do = {
			factor = 800
		}
	}
	TAL_aid4 = {

		icon = GFX_decision_megaphone
		days_remove = 5
		fire_only_once = yes
		available = {
			has_completed_focus = TAL_social_projects_for_LRN
		}

		visible = {
			has_completed_focus = TAL_social_projects_for_LRN
		}

		modifier = {
			political_power_gain = -0.25
		}
		
		remove_effect = {
			log = "[GetDateText]: [Root.GetName]: Decision remove TAL_a_rally"
			every_owned_state = {
				limit = { 
					is_core_of = TAL 
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
			}
		}

		cost = 125
		days_remove = 5

		ai_will_do = {
			factor = 800
		}
	}
}

### LRN combats FLT Decisions ###

TAL_combat_flt = {
	
	TAL_lrn_fight_flt_mission = {
		
		icon = GFX_decision_red_star
		available = {
#			OR = {
#				has_completed_focus = TAL_LRN_start
				has_country_flag = TAL_flt_has_been_removed					
#			}
		}
		
		activation = {
#			has_completed_focus = TAL_start_purging_FLT_members
		}
		
		fire_only_once = yes

		days_mission_timeout = 45
		
		remove_effect = {
		}
		complete_effect = {
		}

		timeout_effect = {

			add_to_variable = {
				var = progressagainstflt
				value = -5
			}
				if = {
					limit = {
						check_variable = { var = progressagainstflt value = 95 compare = greater_than_or_equals }
					}
						country_event = { id = talouse.1013 }						
						set_country_flag = TAL_flt_has_been_removed			
					}
				if = {
					limit = {
						check_variable = { var = progressagainstflt value = 0 compare = lesser_than_or_equals }
					}
					country_event = { id = talouse.1012 }
				}
				hidden_effect = {
					activate_mission = TAL_lrn_fight_flt_mission
				}
			custom_effect_tooltip = TAL_support_the_lrn_points
			custom_effect_tooltip = TAL_support_the_flt_points
			}
		ai_will_do = {
			factor = 800
		}
	}
}